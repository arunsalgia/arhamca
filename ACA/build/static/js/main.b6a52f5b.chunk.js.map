{"version":3,"sources":["views/functions.js","UserContext.js","components/Radio/BlueRadio.js","assets/jss/material-dashboard-react.js","assets/globalStyles.js","CustomComponents/CustomComponents.js","CustomComponents/VsButton.js","CustomComponents/VsCancel.js","views/Area/Area.js","CustomComponents/VsSelect.js","views/User/User.js","views/Faculty/FacultySchedule.js","views/Faculty/Faculty.js","views/Session/SessionAddEdit.js","views/Student/Student.js","views/Batch/BatchAddEdit.js","views/Batch/Batch.js","views/Session/Session.js","views/Payment/PaymentAddEdit.js","views/Payment/Payment.js","views/Inquiry/InquiryAddEdit.js","views/Inquiry/Inquiry.js","views/Summary/Summary.js","CustomComponents/VsRadioGroup.js","views/Bonus/BonusAddEdit.js","views/Bonus/Bonus.js","views/Report/ReportIncome.js","views/Report/ReportPayment.js","views/Report/Report.js","components/Grid/GridItem.js","CustomComponents/VsTextSearch.js","views/Wallet/AdminWallet.js","views/Wallet/Wallet.js","views/UpgradeToPro/Update.js","views/Wallet/useScript.js","views/Wallet/AddWallet.js","components/CheckBox/BlueCheckbox.js","assets/modalStyles.js","views/Wallet/WithdrawWallet.js","views/Profile/UserProfile.js","views/Login/ChangePassword.js","assets/jss/material-dashboard-react/components/tableStyle.js","components/Table/Table.js","views/ACA/About.js","assets/jss/material-dashboard-react/components/cardFooterStyle.js","components/Card/CardFooter.js","views/ACA/Home.js","views/ACA/ContactUs.js","CustomComponents/CricDreamTabs.js","views/Login/SignIn.js","views/Login/SignUp.js","views/ACA/Welcome.js","views/Login/ResetPassword.js","views/Login/ForgotPassword.js","views/Login/ForgotName.js","App.js","index.js","views/globals.js"],"names":["crypto","require","ifscsystem","aadhar","cdRefresh","window","location","reload","getWindowDimensions","innerWidth","width","innerHeight","height","displayType","validateSpecialCharacters","sss","sts","includes","validateMobile","length","isNaN","validateEmail","xxx","split","validateUpi","NumberString","validateInteger","match","encrypt","text","hash","cipher","createCipheriv","process","Buffer","from","concat","update","final","toString","err","console","log","decrypt","decipher","createDecipheriv","getImageName","teamName","imageName","replaceAll","currentAPLVersion","async","latestAPLVersion","version","axios","get","data","upGradeRequired","status","latest","upGradeRecord","downloadApk","myURL","response","method","url","responseType","myFile","download","e","clearBackupData","localStorage","removeItem","isMobile","test","navigator","userAgent","checkIdle","sessionStorage","getItem","setIdle","idle","setItem","String","fromCharCode","ifscBank","code","mybank","getBankName","toUpperCase","substring","ifscBranch","getBranchName","ifscCity","getCity","ifscNeft","validateAadhar","isValidNumber","getMaster","key","value","getMinimumBalance","parseInt","getMinimumAdd","today","moment","subtract","disableFutureDt","current","isBefore","vsDialog","title","msg","yesB","noB","option","cloneDeep","dialogOptions","message","buttons","confirmAlert","mergedName","name","getCodeFromMergedName","trim","getNameFromMergedName","getAreafromBid","myBid","substr","isAdmin","isManager","isFaculty","isAdmMan","dateString","dStr","d","Date","DATESTR","getDate","MONTHNUMBERSTR","getMonth","getFullYear","showSuccess","toast","success","autoClose","TOAST_TIMEOUT","showError","error","showInfo","info","UserContext","createContext","withStyles","root","color","blue","checked","props","_jsx","Radio","BlueRadio","hexToRgb","input","replace","Error","first","second","last","defaultFont","fontFamily","fontWeight","lineHeight","primaryColor","warningColor","dangerColor","successColor","infoColor","roseColor","grayColor","blackColor","whiteColor","primaryBoxShadow","boxShadow","infoBoxShadow","successBoxShadow","warningBoxShadow","dangerBoxShadow","roseBoxShadow","textDecoration","marginTop","marginBottom","minHeight","globalStyles","makeStyles","theme","functionSelected","fontSize","typography","pxToRem","fontWeightBold","functionUnselected","textAreaFixed","display","resize","dateTimeNormal","align","dateTimeBlock","red","alignItems","select","borderColor","borderStyle","padding","filter","margin","borderRadius","border","boxStyleOdd","backgroundColor","boxStyleEven","tableCellOdd","tableCellEven","fullWidth","noPadding","patientInfo","info22","info22Bold","info18","info18Bold","info20Bold","info16","info16Bold","info18Brown","info18Blue","info2","info12","info10","info12Blue","info14","info14Bold","info14Blue","patientInfo2","patientInfo2Blue","patientInfo2Brown","normalAccordian","selectedAccordian","whiteAccordian","blueCheckBox","marginLeft","blackCheckBoxLabel","blueCheckBoxLabel","th","paddingBottom","paddingTop","deepOrange","borderWidth","td","tdBold","tdrounded","disabledtd","yellow","disabledtdrounded","form","spacing","submit","page","paper","flexDirection","heading","flexBasis","flexShrink","secondaryHeading","palette","secondary","message18","message16","message14","message12","message10","button","nonerror","upArrowCardCategory","stats","top","position","marginRight","cardCategory","cardCategoryWhite","cardTitle","cardTitleWhite","modalContainer","content","opacity","modalTitle","modalMessage","modalbutton","jumpButton","jumpButtonFull","noSpace","show","hide","useStyles","avatar","main","groupName","balance","successMessage","green","failureMessage","table","ngHeader","fontWeightRegular","ngCard","divider","BlankArea","React","Component","render","ValidComp","componentDidMount","ValidatorForm","addValidationRule","this","p1","componentWillUnmount","removeValidationRule","DisplayPageHeader","tournament","children","Typography","component","variant","headerName","DisplayBalance","classes","className","wallet","JumpButton","myDisabled","disabled","_style","style","Button","size","onClick","setTab","JumpButton2","myDisabled1","disabled1","myDisabled2","disabled2","_jsxs","Grid","container","item","xs","sm","md","lg","page1","text1","page2","text2","ACALogo","mylogo","Avatar","src","DisplayVersion","ver","VsButton","bSTyle","handler","_type","type","VsCancel","IconButton","CancelIcon","MAXAREACODELENGTH","MINAREACODELENGTH","Area","gClasses","areaArray","setAreaArray","useState","areaCode","setAreaCode","areaDesc","setAreaDesc","areaRec","setAreaRec","drawer","setDrawer","registerStatus","setRegisterStatus","ShowResisterStatus","myMsg","errmsg","myClass","handleAdd","handleDelArea","rec","longName","label","myUrl","shortName","lodashSortBy","x","handleDelAreaConfirm","DisplayAreas","Table","TableHead","p","TableRow","TableCell","TableBody","map","r","EditIcon","useEffect","getAllAreas","Drawer","anchor","open","Box","boxStyle","onSubmit","myShortCode","tmp","aid","push","TextValidator","vgSpacing","id","onChange","event","target","ToastContainer","VsSelect","_align","_label","_field","field","_disabled","_size","_fullWidth","FormControl","InputLabel","Select","labelId","inputProps","options","MenuItem","ALLROLES","VALIDADDEDITROLES","User","userArray","setUserArray","userMasterArray","setUserMasterArray","custFilter","setCustFilter","role","filterDisplayData","setFilterDisplayData","userName","setUserName","email","setEmail","mobile","setMobile","userRec","setUserRec","password","setPassword","setRole","area1","setArea1","area2","setArea2","area3","setArea3","area4","setArea4","drawerInfo","setDrawerInfo","drawerFilter","setDrawerFilter","windowDimensions","setWindowDimensions","dispType","setDispType","filterName","setFilterName","filterMobile","setFilterMobile","filterRole","setFilterRole","handleFilter","setFilter","masterData","filterObject","keyNames","Object","keys","myData","i","myArray","displayName","toLowerCase","DisplayUserInfo","userRecord","addr1","addr2","addr3","addr4","DisplayUsers","myInfo","uid","InfoIcon","DisplayOptions","FILTER_NONE","SearchIcon","handleResize","myDim","oast","getAllUsers","addEventListener","enable","required","validators","errorMessages","myFilter","TextField","FacultySchedule","currentSelection","setCurrentSelection","ALLSELECTIONS","facultyName","setFacultyName","teacherSchedule","setTeachedSchedule","batchArray","setBatchArray","facultyArray","setFacultyArray","masterBatchArray","setMasterBatchArray","newArea","setNewArea","newFaculty","setNewFaculty","sessDuration","setSessDuration","DURATIONSTR","newStudent","setNewStudent","batchStudents","setBatchStudents","batchSessions","setBatchSessions","newDay","setNewDay","newHourMinute","setNewHourMinute","newMin","setNewMin","newFess","setNewFees","origHourMinute","setOrigHourMinute","origDay","setOrigDay","drawerDetail","setDrawerDetail","getFacultySchedule","fid","alert","faculty","allFaculty","getFacultyDetails","all","newMergedFacultyName","newFid","find","handleNewFaculty","slice","BLOCK_START","BLOCK_END","index","BATCHTIMESTR","FREESTR","BLANKCHAR","Faculty","errorMessage","setErrorMessage","facultyInfo","setFacultyInfo","showAll","setShowAll","masterFacultyArray","setMasterFacultyArray","facultyRec","setFacultyRec","DisplayFacultyInfo","facultyRecord","batchCount","handleDisableFaculty","t","myRec","rrr","enabled","allRec","filterFaculty","handleDisableFacultyConfirm","handleEnableFaculty","handleEnableFacultyConfirm","DisplayAllFaculty","myClasses","hours","myUser","handleEdit","resp","handleInfo","IndeterminateCheckBoxIcon","CheckBoxIcon","handleFacultySchedule","TableChartSharpIcon","masterArray","getAllFaculty","a1","a2","a3","a4","Container","maxWidth","paddingLeft","SessionAddEdit","origSessionRec","setOrigSessionRec","origBatchRec","setOrigBatchRec","origBid","setOrigBid","returnPath","setReturnPath","cbArray","setCbArray","Array","fill","sessionDate","setSessionDate","studentArray","setStudentArray","sessionNumber","setSessionNumber","myNotes","setMyNotes","batchRec","bid","sessionRec","sidList","filledArray","getAllStudents","sid","mode","remarks","tmpCbArray","attendedSidList","_id","attendanceSid","myJsonData","JSON","stringify","finalData","encodeURI","onReturn","call","STATUS_INFO","SUCCESS","record","Datetime","timeFormat","dateFormat","isValidDate","onClose","toDate","TextareaAutosize","maxRows","MAXDISPLAYTEXTROWS","STUDENT_DETAILS_REQUIRED","ALLSELCTIONS","Student","masterStudentArray","setMasterStudentArray","setBatchRec","studentRec","setStudentRec","parentName","setParentName","parentMobile","setParentMobile","drawerAddEdit","setDrawerAddEdit","filterBatch","setFilterBatch","filterStatus","setFilterStatus","StudentInfo","studentRecord","handleDisableStudent","handleDisableStudentConfirm","handleEnableStudent","handleEnableStudentConfirm","DisplayAllStudent","handleAddSession","SchoolIcon","batch","getAllStudent","pName","pMob","pwd","em","mob","ERROR","BatchAddEdit","myArea","allAreas","myFid","myFacultys","subfun","fees","block","sessionTime","bSessions","timings","dRec","hour","min","minute","day","Number","myMessage","stayback","NOFRACTION","handleEditStudent","SHORTWEEKSTR","handleEditSession","studentName","studentId","newStudentRec","startTimeRec","clonedArray","Batch","setMode","currentMode","setCurrentMode","currentText","setCurrentText","batchTime","setBatchTime","handleAddBatch","handleDeleteBatch","handleDeleteBatchConfirm","handleDisableBatch","handleDisableBatchConfirm","handleEnableBatch","handleEnableBatchConfirm","DisplayAllBatch","sList","forEach","tList","myStudents","studentNameList","join","sessionCount","textFilter","modeFilter","filteredArray","finalFilterArray","j","setTextFilter","textValue","setModeFilter","modeValue","getAllBatch","clonedBatchArray","myTime","Session","sessionArray","setSessionArray","studentSession","setStudentSession","setSessionRec","handleDelSession","count","handleDelSessionConfirm","handleBack","clonedSessionArray","reverse","DisplayAllSession","selectAll","getAllSessions","isPresent","PaymentAddEdit","origStudentRec","setOrigStudentRec","paymentDate","setPaymentDate","newAmount","setNewAmount","paymentMode","setPaymentMode","PAYMENTMODE","paymentStatus","setPaymentStatus","PAYMENTSTATUS","paymentRef","setPaymentRef","mySid","allRecs","paymentRec","date","reference","amount","tmpRec","initialValue","Payment","masterPaymentArray","setMasterPaymentArray","paymentArray","setPaymentArray","studentPayments","setStudentPayments","selStudent","setSelStudent","selPaymentRec","setSelPaymentRec","sorted_array","clonedMainArray","sum","filterPayment","myAaary","handleNewPayment","handleDelStudentPayment","newArray","lodashSumBy","handleDelStudentPaymentConfirm","DisplayAllPayment","Money","getAllPayments","InquiryAddEdit","newContactName","setNewContactName","newContactNumber","setNewContactNumber","newContactReference","setNewContactReference","setStatus","INQUIRYSTATUS","inquiryRec","area","contactName","contactNumber","contactReference","Inquiry","inquiryArray","setInquiryArray","infoRec","setInfoRec","setInquiryRec","handleAddInquiry","handleDeleteInquiry","handleDeleteInquiryConfirm","DisplayAllInquiry","MAXSTRINGLEN","getAllInquiry","clonedInquiryArray","readOnly","Summary","summaryArray","setSummaryArray","masterSessionArray","setMasterSessionArray","studentSummary","setStudentSummary","credit","dues","debit","DUES_MF","updArray","filterSession","handleDelStudentSession","desc","handleDelStudentSessiontConfirm","handleEditPaymentOrSession","response1","response2","handleEditStudentSession","getAllSummary","cloneSummaryArray","VsRadioGroup","radioField","RadioGroup","row","radioList","FormControlLabel","filterRadio","control","pageHeader","BonusAddEdit","ROLE_FACULTY","bonusDate","setBonusDate","bonusAmount","setBonusAmount","refBatch","setRefBatch","setRemarks","isBonus","bonusRec","tmp1","allBatches","updateBatchArray","bonusPayment","paddingRight","bonusData","bonusUrl","returMessage","ROLE_MANAGERFACULTYSTUDENT","newRole","handleChangeUserRole","Bonus","bonusArray","setBonusArray","userBonusArray","setUserBonusArray","setBonusRec","setIsBonus","handleAddBonus","handleDeleteBonusPayment","hdr","handleDeleteBonusPaymentConfirm","DisplayAllBonus","getBonusSummary","prevBonusAmount","prevBonusPayment","finalArray","ReportIncome","reportDate","setReportDate","generateReport","totalAmount","colSpan","Report","DisplayFunctionItem","itemName","DisplayReportTabs","ReportPayment","grid","GridItem","rest","VsTextSearch","InputProps","endAdornment","InputAdornment","ClearIcon","onClear","AdminWallet","allUsers","setAllusers","filteredUsers","setFilteredUsers","selectedUsers","setSelectedUsers","isDrawerOpened","setIsDrawerOpened","searchText","setSearchText","addCount","setAddCount","setError","helperText","setHelperText","minBalance","setMinBalance","minMessage","setMinMessage","setAmount","filterUsers","playerInfo","CssBaseline","bordercolor","TableContainer","m","Divider","background","uidListStr","lodashMap","step","handleSelectUser","COUNTPERPAGE","Wallet","setBalance","bonus","transactions","setTransactions","masterTransactions","setMasterTransactions","setMessage","rowsPerPage","setRowsPerPage","setPage","parse","allTrans","isWallet","WalletInfo","amt","minimumAmount","handleAddWallet","WalletButton","SelectButton","TablePagination","rowsPerPageOptions","onChangePage","handleChangePage","newPage","preventDefault","Update","gotInfo","setGotInfo","upgReq","setUpgReq","setLatest","upg","checkVersion","useScript","script","document","createElement","body","appendChild","removeChild","INSTAMOJOSCRIPT","RAZORSCRIPT","PAYMENTGATEWAY","AddWallet","minInrBalance","setMinInrBalance","minCond","setMinCond","razOpt","setRazOpt","payId","setPayId","signId","setSignId","currencyList","setCurrencyList","currentCurrency","setCurrentCurrency","currentRate","setCurrentRate","res","rate","getCurrency","getBalance","createJoinGroup","groupAmount","justifyContent","newCurrency","newMinAmount","Math","round","changeCurrency","toFixed","BlueCheckbox","Checkbox","modalStyles","left","right","bottom","transform","transparent","saveText","note1","brown","note2","useBank","withTopSpacing","dashButton","new","updatemsg","hdrText","WithdrawWallet","modalIsOpen","setIsOpen","account","setAccount","repeatAccount","setRepeatAccount","ifsc","setIfsc","setName","upi","setUpi","setUseBank","bank","setBank","branch","setBranch","city","setCity","saveData","setSaveData","updateInProgress","setUpdateInProgress","closeModal","validate","eid","eid2","namStr","getElementById","accStr","repAccStr","ifscStr","getInput","myValue","newError","newText","focus","walletInfo","use","bdata","udata","bankDetails","labelPlacement","Modal","isOpen","onAfterOpen","onRequestClose","contentLabel","ariaHideApp","details","datatype","icon","userMessage","userCode","textColor","helpMessage","Profile","useHistory","setUserCode","setGroupName","profile","setProfile","currentPassword","setCurrentPassword","newPassword","setNewPassword","repeatPassword","setRepeatPassword","emptyRows","setEmptyRows","copyState","setCopyState","copied","userRes","profileInfo","showPass0","setShowPass0","showPass1","setShowPass1","showPass2","setShowPass2","expandedPanel","setExpandedPanel","ChangePassword","tmp2","fetch","tableStyle","borderBottom","warningTableHeader","primaryTableHeader","dangerTableHeader","successTableHeader","infoTableHeader","roseTableHeader","grayTableHeader","borderSpacing","borderCollapse","tableHeadCell","tableCell","verticalAlign","tableResponsive","overflowX","tableHeadRow","outline","tableBodyRow","styles","card","t20Card","odiCard","testCard","note","fontStyle","bold","media","expand","transition","transitions","create","duration","shortest","expandOpen","About","demoType","setDemoType","useRef","currentVersion","setCurrentVersion","latestVersion","setLatestVersion","v1","v2","getVersion","cardFooterStyle","cardFooter","cardFooterProfile","cardFooterPlain","cardFooterStats","borderTop","cardFooterChart","whatIsNew","Home","tournamentList","setTournamentList","currentTournament","setCurrentTournament","upgrade","setUpgrade","latestApk","setLatestApk","demo","setDemo","stage","setStage","lowBalanceText","setLowBalanceText","userGroup","setUserGroup","defaultGroup","setDefaultGroup","currentGroup","setCurrentGroup","startDownload","setStartDownload","downloadMessage","setDownloadMessage","firstTime","setFirstTime","curretDrawer","setCurrentDrawer","ShowAdminJumpButtons","REACT_APP_INQUIRY","handleUpgrade","afterOpenModal","DisplayUpgrade","multiline","defaultValue","textData","ContactUs","feedback","setFeedback","feedbackCode","setFeedbackCode","flexGrow","noSpacing","menuButton","statButton","teamButton","avatar1","num","AcaTabs","history","auth","setAuth","anchorEl","setAnchorEl","Boolean","grpAuth","setGrpAuth","grpAnchorEl","setGrpAnchorEl","arunGroup","setArunGroup","setValue","walletRouting","pathname","param","setMenuValue","handleClose","handleArea","handleUser","handleStudent","handleFaculty","handleBatch","handleSession","handlePayment","handleBonus","handleReport","ShowUserOptions","DisplayCdItems","AppBar","Toolbar","MenuIcon","currentTarget","Menu","anchorOrigin","vertical","horizontal","transformOrigin","handleProfile","handleWallet","handleAbout","handleContactUs","handleLogout","HomeIcon","handleHome","handleInquiry","handleSummary","android","downloadButon","handleSubmit","SignIn","isError","handleAndroid","DisplayDownload","androidImage","alt","showPassword","setShowPassword","handleVisibility","visible","myName","myPassword","NonMobile","PwdVisible","VisibilityOffIcon","PwdNotVisible","VisibilityIcon","GetPassword","noValidate","Link","href","myUserName","enPassword","SignUp","referalCode","setReferalCode","myPass1","myPass2","handleVisibility1","isVisible","handleVisibility2","Password1NonMobile","Password2NonMobile","Password1Text","Password2Text","Password1Password","Password2Password","DisplayPassword1","DisplayPassword2","rCode","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","buttonLeft","buttonRight1","buttonRight2","dlm","dlm2","oContainer","oImage","oText1","oText2","ResetPassword","disableButton","setDisableButton","verifyCode","ForgotPassword","ForgotName","hist","createBrowserHistory","AppRouter","user","setUser","fireToken","setFireToken","useMemo","DispayTabs","userId","resetLink","checkResetPasswordRequest","ipos","REACT_APP_BASEPOS","initCdParams","pathArray","checkJoinGroup","arhamFireBaseconfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","initializeApp","Router","Provider","ReactDOM","App","childrenElement","closeOnEscape","closeOnClickOutside","willUnmount","afterClose","onClickOutside","onKeypressEscape","overlayClassName","FAILURE","CANCEL","OKAY","ADD_BATCH","EDIT_BATCH","ADD_SESSION","EDIT_SESSION","FACULTYSCHEDULE"],"mappings":"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","file":"static/js/main.b6a52f5b.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport download from 'js-file-download';\r\nimport LinearProgressWithLabel from '@material-ui/core/LinearProgress';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport CircularProgressWithLabel from '@material-ui/core/LinearProgress';\r\nimport { confirmAlert } from 'react-confirm-alert'; // Import\r\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\r\nimport 'assets/react-confirm-alert_mod.css'; // Import css\r\nimport {cloneDeep} from \"lodash\";\r\nimport moment from 'moment';\r\nimport { func } from \"prop-types\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport {\r\n\tdialogOptions, DATESTR, MONTHNUMBERSTR,\r\n\tTOAST_TIMEOUT,\r\n} from \"views/globals\";\r\n\r\nvar crypto = require(\"crypto\");\r\nvar ifscsystem = require('ifsc-finder');\r\nvar aadhar = require('aadhaar-validator')\r\n\r\nexport function cdRefresh() {\r\n  window.location.reload();\r\n}\r\n\r\nexport function cdCurrent() {\r\n  return String.fromCharCode(169);\r\n}\r\n\r\nexport function cdDefault() {\r\n  return String.fromCharCode(9745);\r\n}\r\n\r\nexport function getWindowDimensions() {\r\n  const { innerWidth: width, innerHeight: height } = window;\r\n  return {\r\n    width,\r\n    height\r\n  };\r\n}\r\n\r\nexport function displayType(width) {\r\n\tif(width < 768 ){\r\n\t\t\treturn 'xs';\r\n\t }else if( width <= 991){\r\n\t\t\treturn 'sm'; \r\n\t }else if( width <= 1199){\r\n\t\t\treturn 'md';\r\n\t }else{\r\n\t\t return 'lg';\r\n\t }\r\n}\r\n\r\nexport function validateSpecialCharacters(sss) {\r\n    var sts = false;\r\n    const TerroristCharacters = [];\r\n\r\n    if (!sss.includes(\"\\\"\"))\r\n    if (!sss.includes(\"\\'\"))\r\n    if (!sss.includes(\"\\`\"))\r\n    if (!sss.includes(\"\\\\\"))\r\n    if (!sss.includes(\"/\"))\r\n    if (!sss.includes(\"~\"))\r\n    if (!sss.includes(\"\\%\"))\r\n    if (!sss.includes(\"^\"))\r\n    if (!sss.includes(\"\\&\"))\r\n    if (!sss.includes(\"\\+\"))\r\n      sts = true;\r\n    return sts;\r\n}\r\n\r\nexport function validateMobile(sss) {\r\n  var sts = false;\r\n  const TerroristCharacters = [];\r\n\r\n  if (sss.length === 10)\r\n  if (!sss.includes(\"\\.\"))\r\n  if (!sss.includes(\"\\-\"))\r\n  if (!sss.includes(\"\\+\"))\r\n  if (!sss.includes(\"\\*\"))\r\n  if (!sss.includes(\"\\/\"))\r\n  if (!sss.includes(\"e\"))\r\n  if (!sss.includes(\"E\"))\r\n  if (!isNaN(sss))\r\n    sts = true;\r\n  return sts;\r\n}\r\n\r\nexport function validateEmail(sss) {\r\n    let sts = false;\r\n    if (validateSpecialCharacters(sss)) {\r\n      let xxx = sss.split(\"@\");\r\n      if (xxx.length === 2) {\r\n        if (xxx[1].includes(\".\")) \r\n          sts = true;\r\n      }\r\n    }\r\n    return sts;\r\n}\r\n\r\nexport function validateUpi(sss) {\r\n  let sts = false;\r\n  if (validateSpecialCharacters(sss)) {\r\n    let xxx = sss.split(\"@\");\r\n    if (xxx.length === 2) {\r\n        sts = true;\r\n    }\r\n  }\r\n  return sts;\r\n}\r\n\r\n\r\nconst NumberString = /^[0-9]+$/;\r\nexport function validateInteger(sss) {\r\n  let sts = sss.match(NumberString);\r\n  return sts;\r\n}\r\n\r\n\r\nexport function hasGroup() {\r\n  //console.log(`current gis is ${localStorage.getItem(\"gid\")}`)\r\n  var sts = false;\r\n    if (localStorage.getItem(\"gid\") !== null) \r\n    if (localStorage.getItem(\"gid\") !== \"\") \r\n    if (localStorage.getItem(\"gid\") !== \"0\")\r\n      sts = true;\r\n  return sts;\r\n}\r\n\r\nexport function encrypt(text) {\r\n  let hash=\"\";\r\n  try {\r\n    const cipher = crypto.createCipheriv(process.env.REACT_APP_ALGORITHM, \r\n      process.env.REACT_APP_AKSHUSECRETKEY, \r\n      Buffer.from(process.env.REACT_APP_IV, 'hex'));\r\n    const encrypted = Buffer.concat([cipher.update(text), cipher.final()]);\r\n    hash = encrypted.toString('hex');\r\n  }\r\n  catch (err) {\r\n    console.log(err);\r\n  } \r\n  return hash;\r\n};\r\n\r\nexport function decrypt(hash) {\r\n  const decipher = crypto.createDecipheriv(process.env.REACT_APP_ALGORITHM, \r\n    process.env.REACT_APP_AKSHUSECRETKEY, \r\n    Buffer.from(process.env.REACT_APP_IV, 'hex'));\r\n  const decrpyted = Buffer.concat([decipher.update(Buffer.from(hash, 'hex')), decipher.final()]);\r\n  return decrpyted.toString();\r\n};\r\n\r\nconst AMPM = [\r\n  \"AM\", \"AM\", \"AM\", \"AM\", \"AM\", \"AM\", \"AM\", \"AM\", \"AM\", \"AM\", \"AM\", \"AM\",\r\n  \"PM\", \"PM\", \"PM\", \"PM\", \"PM\", \"PM\", \"PM\", \"PM\", \"PM\", \"PM\", \"PM\", \"PM\"\r\n];\r\n  /**\r\n * @param {Date} d The date\r\n */\r\nconst TZ_IST={hours: 5, minutes: 30};\r\nexport function cricDate(d) {\r\n  var xxx = new Date(d.getTime());\r\n  xxx.setHours(xxx.getHours()+TZ_IST.hours);\r\n  xxx.setMinutes(xxx.getMinutes()+TZ_IST.minutes);\r\n  var myHour = xxx.getHours();\r\n  var myampm = AMPM[myHour];\r\n  if (myHour > 12) myHour -= 12;\r\n  var tmp = `${MONTHNAME[xxx.getMonth()]} ${(\"0\" + xxx.getDate()).slice(-2)} ${(\"0\" + myHour).slice(-2)}:${(\"0\" +  xxx.getMinutes()).slice(-2)}${myampm}`\r\n  return tmp;\r\n}\r\n\r\nconst notToConvert = ['XI', 'ARUN']\r\n/**\r\n * @param {string} t The date\r\n */\r\n\r\nexport function cricTeamName(t) {\r\n  var tmp = t.split(' ');\r\n  for(i=0; i < tmp.length; ++i)  {\r\n    var x = tmp[i].trim().toUpperCase();\r\n    if (notToConvert.includes(x))\r\n      tmp[i] = x;\r\n    else\r\n      tmp[i] = x.substr(0, 1) + x.substr(1, x.length - 1).toLowerCase();\r\n  }\r\n  return tmp.join(' ');\r\n}\r\n\r\nvar prizeDetails = [];\r\n\r\nasync function getPrizeDetails() {\r\n  // console.log(\"Checking length\");\r\n  try {\r\n    // console.log(\"reading proze details from database\")\r\n    let response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/prize/data`);\r\n    prizeDetails = response.data;\r\n  } catch(err)  {\r\n    console.log(\"---------prize detail error\");\r\n    console.log(err);\r\n  }\r\n} \r\n\r\nasync function getSinglePrizeDetails(count) {\r\n  // console.log(\"Checking length\");\r\n  let myPrize;\r\n  try {\r\n    // console.log(\"reading proze details from database\")\r\n    let response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/prize/prizecount/${count}`);\r\n    myPrize = response.data;\r\n  } catch(err)  {\r\n    console.log(\"---------prize detail error\");\r\n    console.log(err);\r\n  }\r\n  return myPrize;\r\n} \r\n\r\nasync function getPrizePortion() {\r\n  let resp = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/prize/getprizeportion`);\r\n  //console.log(\"resp\", resp.data);\r\n  let prizePortion = resp.data.prizePortion / 100;\r\n  //console.log(\"prize portion\", prizePortion);\r\n  return prizePortion;\r\n\r\n}\r\n\r\nexport async function getPrizeTable(prizeCount, prizeAmount) {\r\n  \r\n  let prizePortion = await getPrizePortion();\r\n  let myPrize = await getSinglePrizeDetails(prizeCount);  //prizeDetails.find(x => x.prizeCount == prizeCount);\r\n  // we will keep 5% of amount\r\n  // rest (i.e. 95%) will be distributed among prize winners\r\n  let totPrize = Math.floor(prizeAmount*prizePortion);\r\n  let allotPrize = 0;\r\n  let prizeTable=[]\r\n  let i = 0;\r\n  for(i=1; i<prizeCount; ++i) {\r\n    let thisPrize = Math.floor(totPrize*myPrize[\"prize\"+i.toString()]/100);\r\n    prizeTable.push({rank: i, prize: thisPrize})\r\n    allotPrize += thisPrize;\r\n  }\r\n  prizeTable.push({rank: prizeCount, prize: totPrize-allotPrize});\r\n  return prizeTable;\r\n}\r\n\r\nasync function getSinglePrize(prizeCount) {\r\n  // console.log(\"Checking length\");\r\n  let myPrize;\r\n  if (prizeDetails.length > 0) return;\r\n  try {\r\n    // console.log(\"reading proze details from database\")\r\n    let response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/prize/prizecount/${prizeCount}`);\r\n    myPrize = response.data;\r\n  } catch(err)  {\r\n    console.log(\"---------prize detail error\");\r\n    console.log(err);\r\n  }\r\n  return myPrize;\r\n} \r\n\r\nexport async function getSinglePrizeTable(prizeCount, prizeAmount) {\r\n  let prizePortion = await getPrizePortion();\r\n  //console.log(prizePortion)\r\n  let myPrize = await getSinglePrize(prizeCount);\r\n  //console.log(myPrize);\r\n\r\n  let totPrize = Math.floor(prizeAmount*prizePortion)\r\n  // console.log(\"Total prize\", totPrize);\r\n  let allotPrize = 0;\r\n  let prizeTable=[]\r\n  let i = 0;\r\n  for(i=1; i<prizeCount; ++i) {\r\n    let thisPrize = Math.floor(totPrize*myPrize[\"prize\"+i.toString()]/100);\r\n    prizeTable.push({rank: i, prize: thisPrize})\r\n    allotPrize += thisPrize;\r\n  }\r\n  prizeTable.push({rank: prizeCount, prize: totPrize-allotPrize});\r\n  return prizeTable;\r\n}\r\n\r\nexport async function getAllPrizeTable(prizeAmount) {\r\n  let allTable = [];\r\n  for(let i=1; i<=5; ++i) {\r\n    let tmp = await getSinglePrizeTable(i, prizeAmount);\r\n    allTable.push(tmp);\r\n  }\r\n  return (allTable);\r\n}\r\n\r\n\r\nexport async function getUserBalance() {\r\n  let myBalance = {wallet: 0, bonus: 0};\r\n  try {\r\n    let response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/wallet/balance/${localStorage.getItem(\"uid\")}`);\r\n    myBalance = response.data;\r\n  } catch(e) {\r\n    console.log(e);\r\n  }\r\n  return myBalance;\r\n}\r\n\r\nexport async function org_feebreakup(memberfee, bonusAvailable) {\r\n  try {\r\n    let response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/wallet/feebreakup/${memberfee}`);\r\n    // console.log(response.data);\r\n    let fee = response.data;\r\n    if (fee.bonus > bonusAvailable) {\r\n      fee.bonus = bonusAvailable;\r\n      fee.wallet = memberfee - bonusAvailable;\r\n    }\r\n    fee[\"done\"] = true;\r\n    return fee;\r\n  } catch(err) {\r\n    console.log(e);\r\n    return {done: false};\r\n  }\r\n}\r\n\r\nexport async function feebreakup(memberfee, bonusAvailable) {\r\n  try {\r\n    let response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/wallet/groupfee`);\r\n    // console.log(response.data);\r\n    let fee = response.data;\r\n    //if (fee.bonus > bonusAvailable) {\r\n    //  fee.bonus = bonusAvailable;\r\n    //  fee.wallet = memberfee - bonusAvailable;\r\n    //}\r\n    fee[\"done\"] = true;\r\n    return fee;\r\n  } catch(err) {\r\n    console.log(e);\r\n    return {done: false};\r\n  }\r\n}\r\n\r\n\r\nexport async function groupfeebreakup(groupCode, bonusAvailable) {\r\n  try {\r\n    let response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/wallet/groupfeebreakup/${groupCode}`);\r\n    //console.log(response.data);\r\n\t\tconsole.log(bonusAvailable);\r\n    let fee = response.data;\r\n\t\tconsole.log(fee);\r\n    if (fee.bonus > bonusAvailable) {\r\n\t\t\tlet memberfee = fee.bonus + fee.wallet;\r\n      fee.bonus = bonusAvailable;\r\n      fee.wallet = memberfee - bonusAvailable;\r\n    }\r\n    fee[\"done\"] = true;\r\n\t\tconsole.log(fee);\r\n    return fee;\r\n  } catch(e) {\r\n    console.log(e);\r\n    return  {done: false};\r\n  }\r\n\r\n}\r\n\r\nexport function specialSetPos() {\r\n  //console.log(`in SSP: ${localStorage.getItem(\"joinGroupCode\")}`)\r\n  let retval = parseInt(process.env.REACT_APP_DASHBOARD);  //parseInt(process.env.REACT_APP_GROUP);\r\n  if (localStorage.getItem(\"joinGroupCode\").length > 0)\r\n    retval = parseInt(process.env.REACT_APP_JOINGROUP);\r\n  //console.log(`in SSP: ${retval}`)\r\n  return retval;\r\n}\r\n\r\nexport function getImageName(teamName) {\r\n  let imageName = `${process.env.PUBLIC_URL}/teamimage/${teamName}.JPG`;\r\n  imageName = imageName.replaceAll(\" \", \"\");\r\n  // imageName = imageName.replace(/ /g, \" \");\r\n  //console.log(\"Function Image name\", imageName);\r\n  return imageName;\r\n}\r\n\r\nexport function currentAPLVersion() {\r\n\t//console.log(\"Current\");\r\n\t//console.log(process.env.REACT_APP_VERSION);\r\n  return(process.env.REACT_APP_VERSION);\r\n}\r\n\r\nexport async function latestAPLVersion()  {\r\n  let version = \"\";\r\n  try {\r\n    let response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/apl/latestversion`);\r\n    // console.log(response);\r\n    // let tmp = response.data;\r\n    version = response.data;\r\n  } catch(err) {\r\n    //version = 0.1;\r\n  }\r\n  return version;\r\n}\r\n\r\nexport async function upGradeRequired() {\r\n  let upGrade = false;\r\n  let upGradeRecord;\r\n  if (process.env.REACT_APP_DEVICE === \"APK\") {\r\n    let myName = process.env.REACT_APP_NAME;\r\n    let myVersion = process.env.REACT_APP_VERSION;\r\n    let myURL = `${process.env.REACT_APP_AXIOS_BASEPATH}/apl/confirmlatest/${myName}/APK/${myVersion}`;\r\n    //console.log(myURL);\r\n    let response = await axios.get(myURL);\r\n    //console.log(\"After axios call\", response.data);\r\n    upGrade = (response.data.status) ? false : true;\r\n    upGradeRecord = response.data.latest;\r\n    upGradeRecord.text = internalToText(upGradeRecord.text);\r\n    //console.log(upGradeRecord);\r\n  } else if (process.env.REACT_APP_DEVICE === \"IOS\") {\r\n\t\tconsole.log(\"IOS currently not supported\");\r\n\t}\r\n\t\r\n  //console.log(`upgrade required: ${upGrade}`);\r\n  return ({status: upGrade, latest: upGradeRecord});\r\n}\r\n\r\n\r\nexport async function org_downloadApk() {\r\n  let myName = process.env.REACT_APP_NAME;\r\n  let myURL = `${process.env.REACT_APP_APLAXIOS}/apl/downloadlatestbinary/${myName}/APK/`;\r\n  try {\r\n    axios({\r\n      method: 'get',\r\n      url: myURL,\r\n      responseType: 'arraybuffer',\r\n      // onDownloadProgress: (progressEvent) => {\r\n      //   // let newPercent = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n      //   // console.log(\"File download in progress \", newPercent);\r\n      // },\r\n      })\r\n      .then( (response) => {\r\n          let myFile = process.env.REACT_APP_NAME + \".APK\";\r\n          console.log(myFile);\r\n          download(response.data, myFile);\r\n          console.log(\"download over\");\r\n        }\r\n      )\r\n      .catch(\r\n          (error) => {\r\n            console.log(error);\r\n            console.log(\"in axios catch\");\r\n          }\r\n      ); \r\n  } catch (e) {\r\n    console.log(e);\r\n    console.log(\"in try catch\");\r\n  } \r\n  console.log(\"Debu complete\");\r\n\r\n}\r\n\r\n\r\nexport async function downloadApk() {\r\n  let myName = process.env.REACT_APP_NAME;\r\n  let myURL = `${process.env.REACT_APP_APLAXIOS}/apl/downloadlatestbinary/${myName}/APK/`;\r\n  try {\r\n    let response = await axios({\r\n      method: 'get',\r\n      url: myURL,\r\n      responseType: 'arraybuffer',\r\n      // onDownloadProgress: (progressEvent) => {\r\n      //   // let newPercent = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n      //   // console.log(\"File download in progress \", newPercent);\r\n      // },\r\n      });\r\n    let myFile = process.env.REACT_APP_NAME + \".APK\";\r\n    console.log(myFile);\r\n    download(response.data, myFile);\r\n    console.log(\"download over\");\r\n  } catch (e) {\r\n    console.log(e);\r\n    console.log(\"in try catch\");\r\n  } \r\n  \r\n  console.log(\"Debug complete\");\r\n\r\n}\r\n\r\nexport function clearBackupData() {\r\n  /* Clear dash board items */\r\n  localStorage.removeItem(\"saveRank\");\r\n  localStorage.removeItem(\"savePrize\");\r\n  localStorage.removeItem(\"saveScore\");\r\n  localStorage.removeItem(\"saveMaxRun\");\r\n  localStorage.removeItem(\"saveMaxWicket\");\r\n  localStorage.removeItem(\"statData\");\r\n  localStorage.removeItem(\"saveRankArray\");\r\n  /* Clear Stat items */\r\n  localStorage.removeItem(\"statData\");\r\n  /* clear team */\r\n  localStorage.removeItem(\"team\");\r\n  /* clear captain */\r\n  localStorage.removeItem(\"captain\");\r\n  localStorage.removeItem(\"viceCaptain\");\r\n  localStorage.removeItem(\"captainList\");\r\n  /* clear home */\r\n  localStorage.removeItem(\"home_tournamentList\");\r\n  localStorage.removeItem(\"home_groupList\");\r\n  /* clear wallet details */\r\n  localStorage.removeItem(\"saveBalance\");\r\n  localStorage.removeItem(\"saveTransactions\");\r\n}\r\n\r\n\r\nexport function isMobile() {\r\n  return (/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Windows Phone/i.test(navigator.userAgent)) ? true : false;\r\n}\r\n\r\nexport function checkIdle() {\r\n\r\n  let x = sessionStorage.getItem(\"notidle\");\r\n  // console.log(\"Idle storage\", x);\r\n  let sts = (x) ? false : true;\r\n  return sts;\r\n}\r\n\r\nexport function setIdle(idle) {\r\n  if (idle) {\r\n    sessionStorage.removeItem(\"notidle\");\r\n    cdRefresh()\r\n  } else {\r\n    sessionStorage.setItem(\"notidle\", \"user is working\");\r\n  }\r\n}\r\n\r\n\r\nconst CR = String.fromCharCode(13);\r\nconst LF = String.fromCharCode(10);\r\nconst SP = String.fromCharCode(32);\r\n\r\nconst IntCR = String.fromCharCode(128+13);\r\nconst IntLF = String.fromCharCode(128+10);\r\nconst IntSP = String.fromCharCode(128+32);\r\n\r\nexport function textToInternal(txt) {\r\n  let txt1 = txt;\r\n  let x = txt1.split(CR);\r\n  txt1 = x.join(IntCR);\r\n  x = txt1.split(LF);\r\n  txt1 = x.join(IntLF);\r\n  x = txt1.split(SP);\r\n  txt1 = x.join(IntSP);\r\n  return txt1;\r\n}\r\n\r\nexport function internalToText(txt) {\r\n  let txt1 = txt;\r\n  let x = txt1.split(IntCR);\r\n  txt1 = x.join(CR);\r\n  x = txt1.split(IntLF);\r\n  txt1 = x.join(LF);\r\n  x = txt1.split(IntSP);\r\n  txt1 = x.join(SP);\r\n  return txt1;\r\n}\r\n\r\n\r\nexport async function ifscBank(code) {\r\n  let mybank = await ifscsystem.getBankName(code.toUpperCase());\r\n  //console.log(mybank.substring(0,3));\r\n  if (mybank.substring(0,3) === \"Not\") \r\n    mybank = \"\";\r\n  return mybank;\r\n}\r\n\r\nexport async function ifscBranch(code) {\r\n  let mybank = await ifscsystem.getBranchName(code.toUpperCase());\r\n  //console.log(mybank.substring(0,3));\r\n  if (mybank.substring(0,3) === \"Not\") \r\n    mybank = \"\";\r\n  return mybank;\r\n}\r\n\r\nexport async function ifscCity(code) {\r\n  let mybank = await ifscsystem.getCity(code.toUpperCase());\r\n  //console.log(mybank.substring(0,3));\r\n  if (mybank.substring(0,3) === \"Not\") \r\n    mybank = \"\";\r\n  return mybank;\r\n}\r\n\r\nexport async function ifscNeft(code) {\r\n  let mybank = await ifscsystem.getCity(code.toUpperCase());\r\n  // console.log(mybank.substring(0,3));\r\n  if (mybank.substring(0,3) === \"Not\") \r\n    mybank = false;\r\n  return mybank;\r\n}\r\n\r\nexport async function validateAadhar(code) {\r\n  let sts = await aadhar.isValidNumber(code)\r\n  return sts;\r\n}\r\n\r\nasync function getMaster(key) {\r\n  let value = \"\";\r\n  try {\r\n    let response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/apl/getmaster/${key}`);\r\n    //console.log(response.data);\r\n    value = response.data;\r\n  } catch(err)  {\r\n    console.log(\"---------get master fetch error\", key);\r\n    console.log(err);\r\n  } \r\n  return value; \r\n}\r\n\r\nexport async function getMinimumBalance() {\r\n  let value = await getMaster(\"MINBALANCE\");\r\n  if (value === \"\") value = process.env.REACT_APP_MINBALANCE;\r\n  return parseInt(value);\r\n}\r\n\r\nexport async function getMinimumAdd() {\r\n  let value = await getMaster(\"MINADDWALLET\");\r\n  if (value === \"\") value = process.env.REACT_APP_MINADDWALLET;\r\n  return parseInt(value);\r\n}\r\n\r\nexport async function getAuctionCountDown() {\r\n  let value = await getMaster(\"AUCTIONCOUNTDOWN\");\r\n  if (value === \"\") value = process.env.AUCTIONCOUNTDOWN;\r\n  return parseInt(value);\r\n\r\n}\r\n\r\nexport async function getIdleTimeout() {\r\n  let value = await getMaster(\"IDLETIMEOUT\");\r\n  if (value === \"\") value = process.env.REACT_APP_IDLETIMEOUT;\r\n  return parseInt(value);\r\n}\r\n\r\nvar groupCost = -1;\r\nexport async function getGroupCost() {\r\n\tif (groupCost <= 0) {\r\n\t\tlet tmp = await getMaster(\"GROUPCOST\");\r\n\t\tgroupCost = parseInt(tmp)\r\n\t}\r\n\treturn groupCost;\r\n}\r\n\r\n// disable future dates\r\nconst today = moment();\r\nconst yesterday = moment().subtract(1, 'day');\r\n\r\nexport function disablePastDt(current) {\r\n  return current.isAfter(yesterday);\r\n};\r\n\r\nexport function disableFutureDt(current) {\r\n  return current.isBefore(today);\r\n};\r\n\r\nexport function vsDialog(title, msg, yesB, noB) {\r\n\tlet option = cloneDeep(dialogOptions);\r\n\t//console.log(option); \r\n\toption.title = title;\r\n\toption.message = msg;\r\n\toption.buttons[0] = yesB;\r\n\toption.buttons[1] = noB;\r\n\tconfirmAlert(option);\r\n}\r\n\r\n\r\nexport function mergedName(name, code) {\r\n\treturn (`${name} (${code})`)\r\n}\r\n\r\nexport function getCodeFromMergedName(mergedName) {\r\n\tvar tmp = mergedName.split(\"(\");\r\n\tvar tmp1 = tmp[1].split(\")\");\r\n\treturn tmp1[0].trim();\r\n}\r\n\r\nexport function getNameFromMergedName(mergedName) {\r\n\tvar tmp = mergedName.split(\"(\");\r\n\treturn tmp[0].trim();\r\n}\r\n\r\nexport function getAreafromBid(myBid) {\r\n\treturn (myBid.substr(0, myBid.length-5));\r\n}\r\n\r\n\r\nexport function isAdmin() {\r\n return [\"Admin\"].includes(sessionStorage.getItem(\"role\")); \r\n}\r\n\r\nexport function isManager() {\r\n return [\"Manager\"].includes(sessionStorage.getItem(\"role\")); \r\n}\r\n\r\nexport function isFaculty() {\r\n return [\"Faculty\"].includes(sessionStorage.getItem(\"role\")); \r\n}\r\n\r\nexport function isStudent() {\r\n return [\"Student\"].includes(sessionStorage.getItem(\"role\")); \r\n}\r\n\r\nexport function isAdmMan() {\r\n return [\"Admin\", \"Manager\"].includes(sessionStorage.getItem(\"role\")); \r\n}\r\n\r\n\r\nexport function isAdmManFac() {\r\n return [\"Admin\", \"Manager\", \"Faculty\"].includes(localSession.getItem(\"role\")); \r\n}\r\n\r\n\r\nexport function isAdmManStu() {\r\n return [\"Admin\", \"Manager\", \"Student\"].includes(localSession.getItem(\"role\")); \r\n}\r\n\r\nexport function dateString(dStr) {\r\n\tlet d = new Date(dStr);\r\n\treturn `${DATESTR[d.getDate()]}/${MONTHNUMBERSTR[d.getMonth()]}/${d.getFullYear()}`;\r\n}\r\n\r\nexport function showSuccess(msg) {\r\n\ttoast.success(msg, { autoClose: TOAST_TIMEOUT });\r\n}\r\n\r\nexport function showError(msg) {\r\n\ttoast.error(msg, { autoClose: TOAST_TIMEOUT });\r\n}\r\n\r\nexport function showInfo(msg) {\r\n\ttoast.info(msg, { autoClose: TOAST_TIMEOUT });\r\n}","import { createContext } from \"react\";\r\n\r\nexport const UserContext = createContext(null);","import React from 'react';\r\nimport {blue }  from '@material-ui/core/colors';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\n\r\n\r\nconst BlueRadio = withStyles({\r\n    root: {\r\n      color: blue[700],\r\n      '&$checked': {\r\n        color: blue[700],\r\n      },\r\n    },\r\n    checked: {},\r\n  })((props) => <Radio color=\"blue\" {...props} />);\r\n\r\n  export default BlueRadio;\r\n  ","/*!\r\n\r\n =========================================================\r\n * Material Dashboard React - v1.9.0 based on Material Dashboard - v1.2.0\r\n =========================================================\r\n\r\n * Product Page: http://www.creative-tim.com/product/material-dashboard-react\r\n * Copyright 2020 Creative Tim (http://www.creative-tim.com)\r\n * Licensed under MIT (https://github.com/creativetimofficial/material-dashboard-react/blob/master/LICENSE.md)\r\n\r\n =========================================================\r\n\r\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n\r\n */\r\n\r\n// ##############################\r\n// // // Function that converts from hex color to rgb color\r\n// // // Example: input = #9c27b0 => output = 156, 39, 176\r\n// // // Example: input = 9c27b0 => output = 156, 39, 176\r\n// // // Example: input = #999 => output = 153, 153, 153\r\n// // // Example: input = 999 => output = 153, 153, 153\r\n// #############################\r\nconst hexToRgb = input => {\r\n  input = input + \"\";\r\n  input = input.replace(\"#\", \"\");\r\n  let hexRegex = /[0-9A-Fa-f]/g;\r\n  if (!hexRegex.test(input) || (input.length !== 3 && input.length !== 6)) {\r\n    throw new Error(\"input is not a valid hex color.\");\r\n  }\r\n  if (input.length === 3) {\r\n    let first = input[0];\r\n    let second = input[1];\r\n    let last = input[2];\r\n    input = first + first + second + second + last + last;\r\n  }\r\n  input = input.toUpperCase();\r\n  let first = input[0] + input[1];\r\n  let second = input[2] + input[3];\r\n  let last = input[4] + input[5];\r\n  return (\r\n    parseInt(first, 16) +\r\n    \", \" +\r\n    parseInt(second, 16) +\r\n    \", \" +\r\n    parseInt(last, 16)\r\n  );\r\n};\r\n\r\n// ##############################\r\n// // // Variables - Styles that are used on more than one component\r\n// #############################\r\n\r\nconst drawerWidth = 260;\r\n\r\nconst transition = {\r\n  transition: \"all 0.33s cubic-bezier(0.685, 0.0473, 0.346, 1)\"\r\n};\r\n\r\nconst container = {\r\n  paddingRight: \"15px\",\r\n  paddingLeft: \"15px\",\r\n  marginRight: \"auto\",\r\n  marginLeft: \"auto\"\r\n};\r\n\r\nconst defaultFont = {\r\n  fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n  fontWeight: \"300\",\r\n  lineHeight: \"1.5em\"\r\n};\r\n\r\nconst primaryColor = [\"#9c27b0\", \"#ab47bc\", \"#8e24aa\", \"#af2cc5\"];\r\nconst warningColor = [\"#ff9800\", \"#ffa726\", \"#fb8c00\", \"#ffa21a\"];\r\nconst dangerColor = [\"#f44336\", \"#ef5350\", \"#e53935\", \"#f55a4e\"];\r\nconst successColor = [\"#4caf50\", \"#66bb6a\", \"#43a047\", \"#5cb860\"];\r\nconst infoColor = [\"#00acc1\", \"#26c6da\", \"#00acc1\", \"#00d3ee\"];\r\nconst roseColor = [\"#e91e63\", \"#ec407a\", \"#d81b60\", \"#eb3573\"];\r\nconst grayColor = [\r\n  \"#999\",\r\n  \"#777\",\r\n  \"#3C4858\",\r\n  \"#AAAAAA\",\r\n  \"#D2D2D2\",\r\n  \"#DDD\",\r\n  \"#b4b4b4\",\r\n  \"#555555\",\r\n  \"#333\",\r\n  \"#a9afbb\",\r\n  \"#eee\",\r\n  \"#e7e7e7\"\r\n];\r\nconst blackColor = \"#000\";\r\nconst whiteColor = \"#FFF\";\r\n\r\nconst boxShadow = {\r\n  boxShadow:\r\n    \"0 10px 30px -12px rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \", 0.42), 0 4px 25px 0px rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \", 0.12), 0 8px 10px -5px rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \", 0.2)\"\r\n};\r\n\r\nconst primaryBoxShadow = {\r\n  boxShadow:\r\n    \"0 4px 20px 0 rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \",.14), 0 7px 10px -5px rgba(\" +\r\n    hexToRgb(primaryColor[0]) +\r\n    \",.4)\"\r\n};\r\nconst infoBoxShadow = {\r\n  boxShadow:\r\n    \"0 4px 20px 0 rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \",.14), 0 7px 10px -5px rgba(\" +\r\n    hexToRgb(infoColor[0]) +\r\n    \",.4)\"\r\n};\r\nconst successBoxShadow = {\r\n  boxShadow:\r\n    \"0 4px 20px 0 rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \",.14), 0 7px 10px -5px rgba(\" +\r\n    hexToRgb(successColor[0]) +\r\n    \",.4)\"\r\n};\r\nconst warningBoxShadow = {\r\n  boxShadow:\r\n    \"0 4px 20px 0 rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \",.14), 0 7px 10px -5px rgba(\" +\r\n    hexToRgb(warningColor[0]) +\r\n    \",.4)\"\r\n};\r\nconst dangerBoxShadow = {\r\n  boxShadow:\r\n    \"0 4px 20px 0 rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \",.14), 0 7px 10px -5px rgba(\" +\r\n    hexToRgb(dangerColor[0]) +\r\n    \",.4)\"\r\n};\r\nconst roseBoxShadow = {\r\n  boxShadow:\r\n    \"0 4px 20px 0 rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \",.14), 0 7px 10px -5px rgba(\" +\r\n    hexToRgb(roseColor[0]) +\r\n    \",.4)\"\r\n};\r\n\r\nconst warningCardHeader = {\r\n  background:\r\n    \"linear-gradient(60deg, \" + warningColor[1] + \", \" + warningColor[2] + \")\",\r\n  ...warningBoxShadow\r\n};\r\nconst successCardHeader = {\r\n  background:\r\n    \"linear-gradient(60deg, \" + successColor[1] + \", \" + successColor[2] + \")\",\r\n  ...successBoxShadow\r\n};\r\nconst dangerCardHeader = {\r\n  background:\r\n    \"linear-gradient(60deg, \" + dangerColor[1] + \", \" + dangerColor[2] + \")\",\r\n  ...dangerBoxShadow\r\n};\r\nconst infoCardHeader = {\r\n  background:\r\n    \"linear-gradient(60deg, \" + infoColor[1] + \", \" + infoColor[2] + \")\",\r\n  ...infoBoxShadow\r\n};\r\nconst primaryCardHeader = {\r\n  background:\r\n    \"linear-gradient(60deg, \" + primaryColor[1] + \", \" + primaryColor[2] + \")\",\r\n  ...primaryBoxShadow\r\n};\r\nconst roseCardHeader = {\r\n  background:\r\n    \"linear-gradient(60deg, \" + roseColor[1] + \", \" + roseColor[2] + \")\",\r\n  ...roseBoxShadow\r\n};\r\n\r\nconst cardActions = {\r\n  margin: \"0 20px 10px\",\r\n  paddingTop: \"10px\",\r\n  borderTop: \"1px solid \" + grayColor[10],\r\n  height: \"auto\",\r\n  ...defaultFont\r\n};\r\n\r\nconst cardHeader = {\r\n  margin: \"-20px 15px 0\",\r\n  borderRadius: \"3px\",\r\n  padding: \"15px\"\r\n};\r\n\r\nconst card = {\r\n  display: \"inline-block\",\r\n  position: \"relative\",\r\n  width: \"100%\",\r\n  margin: \"25px 0\",\r\n  boxShadow: \"0 1px 4px 0 rgba(\" + hexToRgb(blackColor) + \", 0.14)\",\r\n  borderRadius: \"3px\",\r\n  color: \"rgba(\" + hexToRgb(blackColor) + \", 0.87)\",\r\n  background: whiteColor\r\n};\r\n\r\nconst defaultBoxShadow = {\r\n  border: \"0\",\r\n  borderRadius: \"3px\",\r\n  boxShadow:\r\n    \"0 10px 20px -12px rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \", 0.42), 0 3px 20px 0px rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \", 0.12), 0 8px 10px -5px rgba(\" +\r\n    hexToRgb(blackColor) +\r\n    \", 0.2)\",\r\n  padding: \"10px 0\",\r\n  transition: \"all 150ms ease 0s\"\r\n};\r\n\r\nconst title = {\r\n  color: grayColor[2],\r\n  textDecoration: \"none\",\r\n  fontWeight: \"300\",\r\n  marginTop: \"30px\",\r\n  marginBottom: \"25px\",\r\n  minHeight: \"32px\",\r\n  fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\r\n  \"& small\": {\r\n    color: grayColor[1],\r\n    fontWeight: \"400\",\r\n    lineHeight: \"1\"\r\n  }\r\n};\r\n\r\nconst cardTitle = {\r\n  ...title,\r\n  marginTop: \"0\",\r\n  marginBottom: \"3px\",\r\n  minHeight: \"auto\",\r\n  \"& a\": {\r\n    ...title,\r\n    marginTop: \".625rem\",\r\n    marginBottom: \"0.75rem\",\r\n    minHeight: \"auto\"\r\n  }\r\n};\r\n\r\nconst cardSubtitle = {\r\n  marginTop: \"-.375rem\"\r\n};\r\n\r\nconst cardLink = {\r\n  \"& + $cardLink\": {\r\n    marginLeft: \"1.25rem\"\r\n  }\r\n};\r\n\r\nexport {\r\n  hexToRgb,\r\n  //variables\r\n  drawerWidth,\r\n  transition,\r\n  container,\r\n  boxShadow,\r\n  card,\r\n  defaultFont,\r\n  primaryColor,\r\n  warningColor,\r\n  dangerColor,\r\n  successColor,\r\n  infoColor,\r\n  roseColor,\r\n  grayColor,\r\n  blackColor,\r\n  whiteColor,\r\n  primaryBoxShadow,\r\n  infoBoxShadow,\r\n  successBoxShadow,\r\n  warningBoxShadow,\r\n  dangerBoxShadow,\r\n  roseBoxShadow,\r\n  warningCardHeader,\r\n  successCardHeader,\r\n  dangerCardHeader,\r\n  infoCardHeader,\r\n  primaryCardHeader,\r\n  roseCardHeader,\r\n  cardActions,\r\n  cardHeader,\r\n  defaultBoxShadow,\r\n  title,\r\n  cardTitle,\r\n  cardSubtitle,\r\n  cardLink\r\n};\r\n","import {\r\n  successColor,\r\n  whiteColor,\r\n  grayColor,\r\n  hexToRgb\r\n} from \"assets/jss/material-dashboard-react.js\";\r\nimport { red, blue, green, yellow, deepOrange, deepPurple } from '@material-ui/core/colors';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n\r\nconst globalStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    // backgroundColor: '#FAF5E9',\r\n  },\r\n\tfunctionSelected: {\r\n\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: \"blue\",\r\n\t\t//borderBottom: \"3px solid\",\r\n    //width: \"100%\"\r\n\t\t\r\n\t},\r\n\tfunctionUnselected: {\r\n\t\tfontSize: theme.typography.pxToRem(18),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: \"#BDBDBD\",\r\n\t},\r\n\ttextAreaFixed: {\r\n\t\tdisplay: \"flex-root\",\r\n    width: \"100%\",\r\n    fontSize: theme.typography.pxToRem(16),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n    resize: 'none',\r\n\t},\r\n\tdateTimeNormal: {\r\n\t\tcolor: 'blue',\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t//backgroundColor: pink[100],\r\n\t\talign: 'center',\r\n\t\t//width: (isMobile()) ? '60%' : '20%',\r\n\t}, \r\n\tdateTimeBlock: {\r\n\t\tcolor: 'blue',\r\n\t\t//fontSize: theme.typography.pxToRem(28),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t//backgroundColor: pink[100],\r\n\t}, \r\n\terror:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n  },\r\n\tselect: {\r\n\t\t'&:before': {\r\n\t\t\t\tborderColor: 'blue',\r\n\t\t\t\tborderStyle: 'solid',  \r\n\t\t\t\tpadding: '5px',\r\n\t\t},\r\n\t\t'&:after': {\r\n\t\t\t\tborderColor: 'blue',\r\n\t\t\t\tborderStyle: 'solid',  \r\n\t\t\t\tpadding: '5px',\r\n\t\t}\r\n},\r\n\tfilter: {\r\n\t\tpadding: \"2px\",\r\n\t\tmargin: \"3px\", \r\n\t\tborderRadius: \"15%\",\r\n\t\tborderColor: 'blue',\r\n\t\tborder: 'solid',\r\n\t\t\r\n\t},\r\n\tboxStyleOdd: {\r\n\t\tpadding: \"5px 10px\", \r\n\t\tmargin: \"4px 2px\", \r\n\t\tbackgroundColor: '#FFF3E0',\r\n\t\t//backgroundColor: 'green',\r\n\t\t//backgroundColor: blue[300] \r\n\t},\r\n\tboxStyleEven: {\r\n\t\tpadding: \"5px 10px\", \r\n\t\tmargin: \"4px 2px\", \r\n\t\tbackgroundColor: '#EEEEEE',\r\n\t\t//backgroundColor: 'green',\r\n\t\t//backgroundColor: blue[300] \r\n\t},\r\n\ttableCellOdd: {\r\n\t\tpadding: '4px',\r\n\t\tbackgroundColor: '#F0F8FF',\t\t// aliceblue\r\n\t},\r\n\ttableCellEven: {\r\n\t\tpadding: '4px',\r\n\t\tbackgroundColor: '#FFDAB9',\t//\t\t\tpeachpuff,\r\n\t},\r\n\tfullWidth: {\r\n\t\tdisplay: \"flex-root\",\r\n    width: \"100%\",\r\n\t\tbackgroundColor: 'inherit',\r\n\t\tpadding: \"none\", \r\n\t},\r\n\tnoPadding: {\r\n\t\tpadding: \"none\", \r\n  },\r\n\tpatientInfo: {\r\n\t\t//marginLeft: theme.spacing(3),\r\n\t\tfontSize: theme.typography.pxToRem(16),\r\n\t},\r\n\tinfo22: {\r\n\t\tfontSize: theme.typography.pxToRem(22),\r\n\t},\r\n\tinfo22Bold: {\r\n\t\tfontSize: theme.typography.pxToRem(22),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t},\r\n\tinfo18: {\r\n\t\tfontSize: theme.typography.pxToRem(18),\r\n\t},\r\n\tinfo18Bold: {\r\n\t\tfontSize: theme.typography.pxToRem(18),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t},\r\n\tinfo20Bold: {\r\n\t\tfontSize: theme.typography.pxToRem(20),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t},\r\n\tinfo16: {\r\n\t\tfontSize: theme.typography.pxToRem(16),\r\n\t},\r\n\tinfo16Bold: {\r\n\t\tfontSize: theme.typography.pxToRem(16),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t},\r\n\tinfo18Brown: {\r\n\t\tfontSize: theme.typography.pxToRem(18),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: 'brown',\r\n\t},\r\n  info18Blue: {\r\n\t\tfontSize: theme.typography.pxToRem(18),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: 'blue',\r\n\t},\r\n\tinfo2: {\r\n\t\tfontSize: theme.typography.pxToRem(16),\r\n\t},\r\n\tinfo12: {\r\n\t\tfontSize: theme.typography.pxToRem(12),\r\n\t},\r\n  info10: {\r\n\t\tfontSize: theme.typography.pxToRem(10),\r\n\t},\r\n\tinfo12Blue: {\r\n\t\tfontSize: theme.typography.pxToRem(12),\r\n\t\tcolor: 'blue',\r\n\t},\r\n\tinfo14: {\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t},\r\n\tinfo14Bold: {\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t},\r\n\tinfo14Blue: {\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tcolor: 'blue',\r\n\t},\r\n\tpatientInfo2: {\r\n\t\tfontSize: theme.typography.pxToRem(16),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t},\r\n\tpatientInfo2Blue: {\r\n\t\tfontSize: theme.typography.pxToRem(16),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: 'blue',\r\n\t},\r\n\tpatientInfo2Brown: {\r\n\t\tfontSize: theme.typography.pxToRem(16),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: 'brown',\r\n\t},\r\n\tnormalAccordian: {\r\n    backgroundColor: '#FFCCBC',\r\n    borderRadius: 25,\r\n  },\r\n  selectedAccordian: {\r\n    backgroundColor: '#B2EBF2',\r\n    borderRadius: 25,\r\n  },\r\n\twhiteAccordian: {\r\n    backgroundColor: '#FFFFFF',\r\n    borderRadius: 25,\r\n  },\r\n\tblueCheckBox: {\r\n\t\tcolor: 'blue',\r\n\t\tmarginLeft: \"5px\",\r\n\t},\r\n\tblackCheckBoxLabel: {\r\n\t\tcolor: 'black',\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t},\r\n\tblueCheckBoxLabel: {\r\n\t\tcolor: 'blue',\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t},\r\n\tth: { \r\n    border: 5,\r\n    align: \"center\",\r\n    paddingBottom: \"1px\",\r\n    paddingTop: \"1px\",\r\n\t\tfontSize: theme.typography.pxToRem(16),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\t//backgroundColor: '#FFA726',\r\n\t\tbackgroundColor: deepOrange[200],\r\n\t\tborderWidth: 1,\r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n  },\r\n  td : {\r\n    border: 5,\r\n    align: \"center\",\r\n    paddingBottom: \"1px\",\r\n    paddingTop: \"1px\",\r\n\t\tfontSize: theme.typography.pxToRem(16),\r\n\t\t//fontWeight: theme.typography.fontWeightBold,\r\n    backgroundColor: blue[100],\r\n    borderWidth: 1,\r\n    borderColor: 'black',\r\n    borderStyle: 'solid',    \r\n  },\r\n\ttdBold : {\r\n    border: 5,\r\n    align: \"center\",\r\n    paddingBottom: \"1px\",\r\n    paddingTop: \"1px\",\r\n\t\tfontSize: theme.typography.pxToRem(16),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n    backgroundColor: blue[100],\r\n    borderWidth: 1,\r\n    borderColor: 'black',\r\n    borderStyle: 'solid',    \r\n  },\r\n\ttdrounded : {\r\n    border: 5,\r\n\t\t//borderRadius: 25,\r\n    align: \"center\",\r\n    paddingBottom: \"1px\",\r\n    paddingTop: \"1px\",\r\n\t\tfontSize: theme.typography.pxToRem(16),\r\n\t\t//fontWeight: theme.typography.fontWeightBold,\r\n    backgroundColor: blue[100],\r\n    borderWidth: 1,\r\n    borderColor: 'black',\r\n    borderStyle: 'solid',    \r\n  },\r\n  disabledtd : {\r\n    border: 5,\r\n    align: \"center\",\r\n    paddingBottom: \"1px\",\r\n    paddingTop: \"1px\",\r\n\t\tfontSize: theme.typography.pxToRem(16),\r\n\t\t//fontWeight: theme.typography.fontWeightBold,\r\n    backgroundColor: yellow[100],\r\n    borderWidth: 1,\r\n    borderColor: 'black',\r\n    borderStyle: 'solid',    \r\n  },\r\n  disabledtdrounded : {\r\n    border: 5,\r\n\t\t//borderRadius: 25,\r\n    align: \"center\",\r\n    paddingBottom: \"1px\",\r\n    paddingTop: \"1px\",\r\n\t\tfontSize: theme.typography.pxToRem(16),\r\n\t\t//fontWeight: theme.typography.fontWeightBold,\r\n    //backgroundColor: yellow[100],\r\n    borderWidth: 1,\r\n    borderColor: 'black',\r\n    borderStyle: 'solid',    \r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  page: {\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    // backgroundColor: '#FAF5E9',\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    flexBasis: '33.33%',\r\n    flexShrink: 0,\r\n  },\r\n  secondaryHeading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  message18: {\r\n    fontSize: theme.typography.pxToRem(18),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    // color: yellow[900]\r\n  },\r\n  message16: {\r\n    fontSize: theme.typography.pxToRem(16),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    // color: yellow[900]\r\n  },\r\n  message14: {\r\n    fontSize: theme.typography.pxToRem(14),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    // color: yellow[900]\r\n  },\r\n  message12: {\r\n    fontSize: theme.typography.pxToRem(12),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    // color: yellow[900]\r\n  },\r\n  message10: {\r\n    fontSize: theme.typography.pxToRem(10),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    // color: yellow[900]\r\n  },\r\n  button: {\r\n    margin: theme.spacing(0, 1, 0),\r\n  },\r\n  error:  {\r\n    fontSize: '12px',\r\n    color: red[700],\r\n    alignItems: 'center',\r\n    marginTop: '0px',\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  },\r\n  nonerror:  {\r\n    fontSize: '12px',\r\n    color: blue[700],\r\n    alignItems: 'center',\r\n    marginTop: '0px',\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  },\r\n\t/*\r\n  th: { \r\n    spacing: 0,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n    backgroundColor: '#EEEEEE',\r\n    color: deepOrange[700],\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  },\r\n\t*/\r\n  upArrowCardCategory: {\r\n    width: \"16px\",\r\n    height: \"16px\"\r\n  },\r\n  stats: {\r\n    color: grayColor[0],\r\n    display: \"inline-flex\",\r\n    fontSize: \"12px\",\r\n    lineHeight: \"22px\",\r\n    \"& svg\": {\r\n      top: \"4px\",\r\n      width: \"10px\",\r\n      height: \"10px\",\r\n      position: \"relative\",\r\n      marginRight: \"3px\",\r\n      marginLeft: \"3px\"\r\n    },\r\n    \"& .fab,& .fas,& .far,& .fal,& .material-icons\": {\r\n      top: \"4px\",\r\n      fontSize: \"16px\",\r\n      position: \"relative\",\r\n      marginRight: \"3px\",\r\n      marginLeft: \"3px\"\r\n    }\r\n  },\r\n  cardCategory: {\r\n    color: grayColor[0],\r\n    margin: \"0\",\r\n    fontSize: \"14px\",\r\n    marginTop: \"0\",\r\n    paddingTop: \"10px\",\r\n    marginBottom: \"0\"\r\n  },\r\n  cardCategoryWhite: {\r\n    color: \"rgba(\" + hexToRgb(whiteColor) + \",.62)\",\r\n    margin: \"0\",\r\n    fontSize: \"14px\",\r\n    marginTop: \"0\",\r\n    marginBottom: \"0\"\r\n  },\r\n  cardTitle: {\r\n    color: grayColor[2],\r\n    marginTop: \"0px\",\r\n    minHeight: \"auto\",\r\n    fontWeight: \"300\",\r\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\r\n    marginBottom: \"3px\",\r\n    textDecoration: \"none\",\r\n    \"& small\": {\r\n      color: grayColor[1],\r\n      fontWeight: \"400\",\r\n      lineHeight: \"1\"\r\n    }\r\n  },\r\n  cardTitleWhite: {\r\n    color: whiteColor,\r\n    marginTop: \"0px\",\r\n    minHeight: \"auto\",\r\n    fontWeight: \"300\",\r\n    fontFamily: \"'Roboto', 'Helvetica', 'Arial', sans-serif\",\r\n    marginBottom: \"3px\",\r\n    textDecoration: \"none\",\r\n    \"& small\": {\r\n      color: grayColor[1],\r\n      fontWeight: \"400\",\r\n      lineHeight: \"1\"\r\n    }\r\n  },\r\n  modalContainer: {\r\n    content: \"\",\r\n    opacity: 0.8,\r\n    // background: rgb(26, 31, 41) url(\"your picture\") no-repeat fixed top;\r\n    // background-blend-mode: luminosity;\r\n    /* also change the blend mode to what suits you, from darken, to other \r\n    many options as you deem fit*/\r\n    // background-size: cover;\r\n    // top: 0;\r\n    // left: 0;\r\n    // right: 0;\r\n    // bottom: 0;\r\n    // position: absolute;\r\n    // z-index: -1;\r\n    // height: 500px;\r\n  },\r\n  modalTitle: {\r\n    color: blue[700],\r\n    fontSize: theme.typography.pxToRem(20),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  },\r\n  modalMessage: {\r\n    //color: blue[700],\r\n    fontSize: theme.typography.pxToRem(14),\r\n    //fontWeight: theme.typography.fontWeightBold,\r\n  },\r\n  modalbutton: {\r\n    margin: theme.spacing(2, 2, 2),\r\n  },\r\n  jumpButton: {\r\n    // margin: theme.spacing(0, 1, 0),\r\n    marginTop: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    backgroundColor: '#FFFFFF',\r\n    color: '#1A237E',\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    fontSize: '16px',\r\n    width: theme.spacing(20),\r\n  },\r\n  jumpButtonFull: {\r\n    // margin: theme.spacing(0, 1, 0),\r\n    marginTop: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    backgroundColor: '#FFFFFF',\r\n    color: '#1A237E',\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    fontSize: '16px',\r\n    width: theme.spacing(40),\r\n  },\r\n  noSpace: {\r\n    // margin: theme.spacing(0, 1, 0),\r\n    marginTop: theme.spacing(0),\r\n    marginRight: theme.spacing(0),\r\n    marginBottom: theme.spacing(0),\r\n    marginLeft: theme.spacing(0),\r\n  },\r\n  show: {\r\n    display: 'block',\r\n  },\r\n  hide: {\r\n    display: 'none',\r\n  },\r\n}));\r\n\r\nexport default globalStyles;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport {red, blue, green, deepOrange, yellow} from '@material-ui/core/colors';\r\nimport {\r\n  validateSpecialCharacters, validateEmail, validateMobile, validateInteger, validateUpi,\r\n  encrypt, decrypt, \r\n  currentAPLVersion, latestAPLVersion,\r\n\tgetImageName,\r\n} from \"views/functions.js\";\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n    width: theme.spacing(10),\r\n    height: theme.spacing(10),\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  button: {\r\n    margin: theme.spacing(0, 1, 0),\r\n  },\r\n  jumpButton: {\r\n    // margin: theme.spacing(0, 1, 0),\r\n    marginTop: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    backgroundColor: '#FFFFFF',\r\n    color: '#1A237E',\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    fontSize: '16px',\r\n    width: theme.spacing(20),\r\n  },\r\n  jumpButtonFull: {\r\n    // margin: theme.spacing(0, 1, 0),\r\n    marginTop: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    backgroundColor: '#FFFFFF',\r\n    color: '#1A237E',\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    fontSize: '16px',\r\n    width: theme.spacing(40),\r\n  },\r\n  groupName:  {\r\n    // right: 0,\r\n    fontSize: '14px',\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    color: blue[700],\r\n    // position: 'absolute',\r\n    alignItems: 'center',\r\n    marginTop: '0px',\r\n  },\r\n  balance:  {\r\n    // right: 0,\r\n    marginRight: theme.spacing(3),\r\n    fontSize: '18px',\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    color: blue[900],\r\n    // // position: 'absolute',\r\n    // alignItems: 'center',\r\n    // marginTop: '0px',\r\n  },\r\n  version:  {\r\n    //marginRight: theme.spacing(3),\r\n    fontSize: '18px',\r\n    color: blue[900],\r\n  },\r\n  error:  {\r\n    // right: 0,\r\n    fontSize: '12px',\r\n    color: red[700],\r\n    // position: 'absolute',\r\n    alignItems: 'center',\r\n    marginTop: '0px',\r\n  },\r\n  successMessage: {\r\n    color: green[700],\r\n  }, \r\n  failureMessage: {\r\n    color: red[700],\r\n  }, \r\n  table: {\r\n    // minWidth: 650,\r\n  },\r\n  th: { \r\n    spacing: 0,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n    backgroundColor: '#EEEEEE',\r\n    color: deepOrange[700],\r\n    // border: \"1px solid black\",\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  },\r\n  td : {\r\n    spacing: 0,\r\n    // border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n    height: 10,\r\n  },\r\n  ngHeader: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightRegular,\r\n  },\r\n  ngCard: {\r\n    backgroundColor: '#B3E5FC',\r\n  },\r\n  divider: {\r\n    backgroundColor: '#000000',\r\n    color: '#000000',\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  }\r\n}));\r\n\r\n\r\nexport function DisplayPrizeTable(props) {\r\n  const gClasses =  globalStyles();\r\n  return (\r\n\t<div style={ {padding: \"5px\" } }>\r\n\t<Table > \r\n\t<TableHead >\r\n\t\t\t<TableRow align=\"center\">\r\n\t\t\t<TableCell className={gClasses.th}  align=\"center\">Rank</TableCell>\r\n\t\t\t<TableCell className={gClasses.th}  align=\"center\">Prize</TableCell>\r\n\t\t\t</TableRow>\r\n\t</TableHead>\r\n\t<TableBody >\r\n\t\t{props.tableName.map(x => {\r\n\t\treturn (\r\n\t\t\t<TableRow key={x.rank} style={ {padding: \"5px\" } } align=\"center\">\r\n\t\t\t<TableCell  className={gClasses.td}  align=\"center\" >\r\n\t\t\t\t\t{x.rank}\r\n\t\t\t</TableCell>\r\n\t\t\t<TableCell  className={gClasses.td} align=\"center\" >\r\n\t\t\t\t\t{x.prize}\r\n\t\t\t</TableCell>\r\n\t\t\t</TableRow>\r\n\t\t\t)\r\n\t\t\t})}\r\n\t</TableBody>\r\n\t</Table>\r\n\t</div>\r\n  );\r\n}\r\n\r\nexport function ShowCreateGroup() {\r\n  return (\r\n    <div>\r\n    <Typography paragraph>\r\n    Click on Group Icon (on right hand side) and select New Group.\r\n    </Typography>\r\n    <Typography paragraph>\r\n    You will need the following information to create new Group.\r\n    </Typography>\r\n    <Typography paragraph>\r\n    1.  Name of your group. e.g. \"Bonaventure Gold\". User who creates the new group is considered as the group \"OWNER/ADMIN\".\r\n    </Typography>\r\n    <Typography paragraph>\r\n    2.  Number of members that will be part of this group.\r\n    </Typography>\r\n    <Typography paragraph>\r\n    3.  Member Free (e.g. 50/75/100 Rupees as desired by you.) It will be available in your wallet.\r\n    </Typography>\r\n    <Typography paragraph>\r\n    4.  Select the tournamenet for which you want to play.\r\n    </Typography>\r\n    Once above information is provided, user can click on \"Create\" button to create new group.\r\n    <Typography paragraph>\r\n    Next is to select the number of prizes (in the range 1 to 5).\r\n    </Typography>\r\n    <Typography paragraph>\r\n    Total Prize money will be equal to Number of Members * Member Fee \r\n    </Typography>\r\n    <Typography paragraph>\r\n    The final step is to copy the Groupcode and share with the members.\r\n    </Typography>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport function ShowJoinGroup() {\r\n  return (\r\n    <div>\r\n    <Typography paragraph>\r\n    Click on Group Icon (on right hand side) and select Join Group.\r\n    </Typography>\r\n    <Typography paragraph>\r\n    When the GroupCode is shared with you, just go to \"Join Group\" and join the group using the group code.\r\n    </Typography>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function ShowAuctionGroup() {\r\n  return (\r\n    <div>\r\n    <Typography paragraph>\r\n    Once all the players have joined the group, the next step is to purchase Players by the process of Auction.\r\n    </Typography>\r\n    <Typography paragraph>\r\n    Go to \"Auction\" tab. Group onwer can click on \"Start Auction\" button.\r\n    </Typography>\r\n    <Typography paragraph>\r\n    Now the player details will be displayed to all memebers. Click on amount button and do bidding. When Group owner find that bid amount is not increasiunng, then owner will press of \"Sold\" button and the player will be awarded to the highest bidder.\r\n    </Typography>\r\n    <Typography paragraph>\r\n    If there is no bid (bid amount 0) for the player, group owner can click on \"Unsold\" to skip the player. details will be displayed to all memebsr. Click on amount button and do bidding. When Group owner find that bid amount is not increasiunng, then he will pess of \"Sold\" button and the player will be awarded to the highest bidder.\r\n    </Typography>\r\n    <Typography paragraph>\r\n    Once auction is complete, Admin will click on Stop Auction button. After this, all group members will get message indicating end of Auction.\r\n    </Typography>\r\n    <Typography paragraph>\r\n    User can view the number of players purchased by them along with the balance amount.\r\n    </Typography>\r\n    <Typography paragraph>\r\n    All the members can view the players purchased during auction by clicking on My Team tab.\r\n    </Typography>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function ShowCaptainGroup() {\r\n  return (\r\n    <div>\r\n    <Typography paragraph>\r\n    After the Auction is complete. Use can click on \"Captain\" (availabein Menu) and select Captain and Vice Captain.\r\n    </Typography>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function ShowMultipleGroup() {\r\n  return (\r\n    <div>\r\n    <Typography paragraph>\r\n    After the Auction is complete. Use can click on \"Captain\" (availabein Menu) and select Captain and Vice Captain.\r\n    </Typography>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function NoGroup() {\r\n  const classes = useStyles();\r\n  return (<h3>Does not belong to any Group</h3>);\r\n}\r\n\r\n\r\nexport class BlankArea extends React.Component {\r\n  render() {return <h3></h3>;}\r\n}\r\n\r\nexport class NothingToDisplay extends React.Component {\r\n  render() {return null}\r\n}\r\n\r\n\r\nexport class ValidComp extends React.Component {\r\n\r\n  componentDidMount()  {\r\n    // custom rule will have name 'isPasswordMatch'\r\n    ValidatorForm.addValidationRule('isPasswordMatch', (value) => {\r\n      return (value === this.props.p1)\r\n    });\r\n\r\n    ValidatorForm.addValidationRule('minLength', (value) => {\r\n      return (value.length >= 6)\r\n    });\r\n\r\n    ValidatorForm.addValidationRule('noSpecialCharacters', (value) => {\r\n      // console.log(\"Special chars test for: \", value);\r\n      return validateSpecialCharacters(value);\r\n    });\r\n\r\n    ValidatorForm.addValidationRule('isNumeric', (value) => {\r\n      // console.log(\"string: \", value);\r\n      // console.log(value.toString());\r\n      return validateInteger(value.toString());\r\n    });\r\n\r\n    ValidatorForm.addValidationRule('isEmailOK', (value) => {\r\n      return validateEmail(value);\r\n    });\r\n\r\n    ValidatorForm.addValidationRule('mobile', (value) => {\r\n      return validateMobile(value);\r\n    });\r\n\r\n    ValidatorForm.addValidationRule('checkbalance', (value) => {\r\n      return (value >= this.props.balance);\r\n    });\r\n\r\n    ValidatorForm.addValidationRule('isUpiOK', (value) => {\r\n      return validateUpi(value);\r\n    });\r\n  }\r\n\r\n  \r\n  componentWillUnmount() {\r\n    // remove rule when it is not needed\r\n    ValidatorForm.removeValidationRule('isPasswordMatch');\r\n    ValidatorForm.removeValidationRule('isEmailOK');\r\n    ValidatorForm.removeValidationRule('mobile');\r\n    ValidatorForm.removeValidationRule('minLength');\r\n    ValidatorForm.removeValidationRule('noSpecialCharacters');   \r\n    ValidatorForm.removeValidationRule('checkbalance'); \r\n    ValidatorForm.removeValidationRule('isNumeric');    \r\n    ValidatorForm.removeValidationRule('isUpiOK');\r\n  }\r\n\r\n  render() {\r\n    return <br/>;\r\n  }\r\n\r\n}\r\n\r\nexport function GeneralMessage (props) {\r\n  return(<h3 align=\"center\">{props.message}</h3>);\r\n}\r\n\r\nexport function DisplayGroupName (props) {\r\n  const classes = useStyles();\r\n  if (props.groupName.length > 0)\r\n    return(<Typography className={classes.groupName} align=\"center\">({props.groupName})</Typography>);\r\n  else\r\n    return(<NothingToDisplay />);\r\n}\r\n\r\nexport function DisplayPageHeader (props) {\r\n    let msg = \"\";\r\n    if (props.groupName.length > 0) \r\n      msg = props.groupName + '-' + props.tournament;\r\n    return (\r\n    <div>\r\n      <Typography align=\"center\" component=\"h1\" variant=\"h5\">{props.headerName}</Typography>\r\n\t\t\t\t{/*<DisplayGroupName groupName={msg}/>*/}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function DisplayBalance (props) {\r\n  const classes = useStyles();\r\n  // let msg =  ;\r\n  return (\r\n  <div>\r\n    <Typography align=\"right\" className={classes.balance} >{`Wallet balance: ${props.wallet}`}</Typography>\r\n\t\t{/*<Typography align=\"right\" className={classes.balance} >{`Bonus  balance: ${props.bonus}`}</Typography>*/}\r\n  </div>\r\n  );\r\n}\r\n\r\n\r\nexport function MessageToUser (props) {\r\n  const classes = useStyles();\r\n  // console.log(props.mtuMessage);\r\n  let myClass = props.mtuMessage.toLowerCase().includes(\"success\") ? classes.successMessage : classes.failureMessage;\r\n  return (\r\n    <Dialog aria-labelledby=\"simple-dialog-title\" open={props.mtuOpen}\r\n        onClose={() => {props.mtuClose(false)}} >\r\n        <DialogTitle id=\"simple-dialog-title\" className={myClass}>{props.mtuMessage}</DialogTitle>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\n\r\nexport class Copyright extends React.Component {\r\n  render () {\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n        <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        CricDream\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  }\r\n}\r\n\r\n\r\n\r\nexport function JumpButton(props) {\r\n  let myDisabled = false;\r\n  if (props.disabled) myDisabled = props.disabled;\r\n  var _style = (props.style) ? props.style : {}; \r\n  //console.log(\"My Style: \", _style);\r\n  const classes = useStyles();\r\n  return (\r\n    <div align=\"center\">\r\n      {/* <Divider className={classes.divider} /> */}\r\n      {/* <BlankArea /> */}\r\n      <Button variant=\"outlined\" size=\"medium\" color=\"primary\"\r\n        disabled={myDisabled}\r\n        style={_style}\r\n        className={classes.jumpButton}\r\n        onClick={() => setTab(props.page) }>\r\n        {props.text}\r\n      </Button>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport function JumpButton2(props) {\r\n  let myDisabled1 = (props.disabled1) ? props.disabled1 : false;\r\n  let myDisabled2 = (props.disabled2) ? props.disabled2 : false;\r\n  //const classes = useStyles();\r\n  return (\r\n    <Grid container >\r\n      <Grid item xs={6} sm={6} md={6} lg={6} >\r\n        <JumpButton page={props.page1} text={props.text1} disabled={myDisabled1}/>\r\n      </Grid>\r\n      <Grid item xs={6} sm={6} md={6} lg={6} >\r\n        <JumpButton page={props.page2} text={props.text2} disabled={myDisabled2}/>\r\n      </Grid>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport function JumpButtonFull(props) {\r\n  let myDisabled = false;\r\n  if (props.disabled) myDisabled = props.disabled;\r\n  const classes = useStyles();\r\n  return (\r\n    <div align=\"center\">\r\n      {/* <Divider className={classes.divider} /> */}\r\n      {/* <BlankArea /> */}\r\n      <Button variant=\"outlined\" size=\"medium\" color=\"primary\"\r\n        disabled={myDisabled}\r\n        className={classes.jumpButtonFull}\r\n        onClick={() => setTab(props.page) }>\r\n        {props.text}\r\n      </Button>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport function JumpButtonOnly(props) {\r\n  let myDisabled = false;\r\n  if (props.disabled) myDisabled = props.disabled;\r\n  const classes = useStyles();\r\n  return (\r\n    <div align=\"center\">\r\n      {/* <BlankArea /> */}\r\n      <Button variant=\"outlined\" size=\"medium\" color=\"primary\"\r\n        disabled={myDisabled}\r\n        className={classes.jumpButton}\r\n        onClick={() => setTab(props.page) }>\r\n        {props.text}\r\n      </Button>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport function ACALogo () {\r\n  let mylogo = `${process.env.PUBLIC_URL}/ACALOGO.ICO`;\r\n  const classes = useStyles();\r\n  return (\r\n    <Avatar variant=\"square\" className={classes.avatar}  src={mylogo}/>\r\n);\r\n}\r\n\r\nexport function DisplayVersion(props) {\r\n  const classes = useStyles();\r\n  let ver = props.version;\t\t\t//.toFixed(1);\r\n  let msg =  `${props.text} ${ver}`;\r\n  return <Typography align=\"center\" className={classes.version} >{msg}</Typography>\r\n}\r\n\r\nexport async function DisplayCurrentAPLVersion() {\r\n  let version = await currentAPLVersion();\r\n  return <DisplayVersion text=\"Current APL version\" version={version}/>\r\n}\r\n\r\nexport async function DisplayLatestAPLVersion() {\r\n  let version = await latestAPLVersion();\r\n  return <DisplayVersion text=\"Latest APL version\" version={version}/>\r\n}\r\n\r\n\r\nexport function DisplayCancel(props) {\r\nreturn(\r\n  <div align=\"right\" >\r\n  <IconButton\r\n  // iconStyle={{width: '24px', height: '24px'}}\r\n    onClick={props.onCancel}\r\n    // disabled={currentTournament === 0}\r\n    aria-label=\"left\" color=\"secondary\">\r\n  <CancelIcon fontSize=\"large\" />\r\n  </IconButton>\r\n  </div>\r\n)}\r\n\r\nexport function ShowTeamImage(props) {\r\n\tlet myTeam = getImageName(props.teamName);\r\n\treturn(\r\n\t<Avatar variant=\"square\" src={myTeam} />    \r\n\t)\r\n} \r\n\r\nexport function DisplayMyPlayers(props) {\r\nconst gClasses = globalStyles();\r\n//console.log(props.players.length);\r\nreturn(\r\n  <Table>\r\n\t\t<TableHead p={0}>\r\n\t\t\t<TableRow key=\"header\" align=\"center\">\r\n        <TableCell className={gClasses.th} p={0} align=\"center\">Team</TableCell>\r\n        <TableCell className={gClasses.th} p={0} align=\"center\">Player Name</TableCell>\r\n        <TableCell className={gClasses.th} p={0} align=\"center\">Bid Amount</TableCell>      \r\n\t\t\t</TableRow>\r\n\t\t</TableHead>\r\n\t\t<TableBody p={0}>\r\n\t\t\t{props.players.map(item => {\r\n\t\t\treturn (\r\n\t\t\t\t<TableRow key={item.playerName}>\r\n\t\t\t\t<TableCell className={gClasses.td} p={0} align=\"center\" ><ShowTeamImage teamName={item.team} /></TableCell> \r\n\t\t\t\t{/* <TableCell className={gClasses.td} p={0} align=\"center\" >{item.team}</TableCell>*/}\r\n\t\t\t\t<TableCell className={gClasses.td} p={0} align=\"center\" >{item.playerName}</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.td} p={0} align=\"center\" >{item.bidAmount}</TableCell>\r\n\t\t\t\t</TableRow>\r\n\t\t\t)})}\r\n\t\t</TableBody> \r\n\t</Table>\r\n)}\r\n\r\n","import React from 'react';\r\n\r\n\r\n\r\n//colours \r\nimport {  blue, yellow } from '@material-ui/core/colors';\r\n\r\n\r\nfunction disabled() {\r\n\t//alert(\"disabled\");\r\n}\r\n\r\n//var liStyle = {padding: \"5px 10px\", margin: \"4px 2px\", color: 'black', fontSize:'16px', borderRadius: 7, border: 2};\r\n\r\nexport default function VsButton(props) {\r\nvar bSTyle = {padding: \"5px 10px\", margin: \"4px 2px\", color: 'white', fontSize:'14px', borderRadius:25, border: 2};\r\n\r\nbSTyle.backgroundColor = (props.color) ? props.color: 'blue';\r\nlet handler=disabled;\r\nvar _type = (props.type) ? props.type : \"submit\";\r\nif (props.disabled) {\r\n\t// job done\r\n\tbSTyle.backgroundColor = '#9E9E9E';\r\n\tbSTyle.color = 'black';\r\n} else {\r\n\tif (props.onClick)\r\n\t\thandler=props.onClick\r\n}\r\n\r\n//console.log(bSTyle);\r\n\r\nif (props.align == null)\r\n\treturn(<button style={bSTyle} type={_type}  onClick={handler} >{props.name}</button>);\r\nelse\r\n\treturn (\r\n\t<div align={props.align}>\r\n\t\t<button style={bSTyle} type={_type}  onClick={handler} >{props.name}</button>\r\n\t</div>\r\n\t)\r\n}\r\n\r\n","import React from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n\r\n//colours \r\nimport {  blue, yellow } from '@material-ui/core/colors';\r\n\r\nfunction disabled() {\r\n\t//alert(\"disabled\");\r\n}\r\n\r\n//var liStyle = {padding: \"5px 10px\", margin: \"4px 2px\", color: 'black', fontSize:'16px', borderRadius: 7, border: 2};\r\n\r\nexport default function VsCancel(props) {\r\nlet _align = (props.align == null) ? \"center\" : props.align;\r\nlet myDisabled=false;\r\nif (props.disabled != null) {\r\n\tmyDisabled = props.disabled;\r\n}\r\n//console.log(myDisabled);\r\nif (props.align == null) return <IconButton color=\"secondary\"  disabled={myDisabled} size=\"small\" onClick={props.onClick} ><CancelIcon /></IconButton>\r\n\r\n\r\nreturn(\t\r\n<div align={props.align}>\r\n\t<IconButton color=\"secondary\"  disabled={myDisabled} size=\"small\" onClick={props.onClick} >\r\n\t\t<CancelIcon />\r\n\t</IconButton>\r\n</div>\r\n)}\r\n\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n// import { Switch, Route, Link } from 'react-router-dom';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport Drawer from '@material-ui/core/Drawer';\r\n//import { useAlert } from 'react-alert';\r\nimport Box from '@material-ui/core/Box';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport BlueRadio from 'components/Radio/BlueRadio';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport { JumpButton, DisplayPageHeader } from 'CustomComponents/CustomComponents.js';\r\n\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport lodashSortBy from \"lodash/sortBy\";\r\n\r\n\r\n//import { NoGroup, JumpButton, DisplayPageHeader, MessageToUser } from 'CustomComponents/CustomComponents.js';\r\n//import { hasGroup } from 'views/functions';\r\n\r\nimport globalStyles from \"assets/globalStyles\";\r\n\r\nimport VsButton from \"CustomComponents/VsButton\"; \r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n\r\nconst MAXAREACODELENGTH = 4;\r\nconst MINAREACODELENGTH = 3;\r\n\r\nimport { \r\n\tisMobile, getWindowDimensions, displayType, decrypt, encrypt,\r\n\tisAdmin, isAdmMan, isAdmManFac, isStudent, isFaculty,\r\n\tvsDialog,\r\n\tshowError, showSuccess, showInfo,\r\n\r\n} from 'views/functions';\r\n\r\n\r\nexport default function Area() {\r\n    //const classes = useStyles();\r\n    const gClasses = globalStyles();\r\n\t\t//const alert = useAlert();\r\n\r\n    const [areaArray, setAreaArray] = useState([]);\r\n\t\tconst [areaCode, setAreaCode] = useState(\"\");\r\n\t\tconst [areaDesc, setAreaDesc] = useState(\"\");\r\n    const [areaRec, setAreaRec] = useState(null);\r\n\t\tconst [drawer, setDrawer] = useState(\"\");\r\n\t\tconst [registerStatus, setRegisterStatus] = useState(0);\r\n\t\t\r\n\r\n    useEffect(() => {\r\n\t\t\t//console.log(firsTime);\r\n\t\t\tasync function getAllAreas() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/area/list`;\r\n\t\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\t\t//console.log(response.data);\r\n\t\t\t\t\tsetAreaArray(response.data);\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (isAdmin()) getAllAreas();\r\n    }, [])\r\n\r\n    // function handleTimer() {}\r\n\r\n\tfunction ShowResisterStatus() {\r\n        // console.log(`Status is ${registerStatus}`);\r\n        let myMsg;\r\n        let errmsg = true;\r\n        switch (registerStatus) {\r\n          case 200:\r\n            myMsg = \"Successfully updated Captain / ViceCaptain details\";\r\n            errmsg = false;\r\n            break;\r\n          case 0:\r\n            myMsg = \"\";\r\n            break;\r\n          case -1:\r\n            myMsg = \"Area Code cannot be blank\";\r\n            break;\r\n          case -2:\r\n            myMsg = `Area Code cannot be more than ${MAXAREACODELENGTH} characters`;\r\n            break;\r\n          case -3:\r\n            myMsg = \"Area code already in use\";\r\n            break;\r\n          case -4:\r\n            myMsg = \"Area description cannot be blank\";\r\n            break;\r\n          default:\r\n            myMsg = \"Error updating Captain / ViceCaptain details\";\r\n            break;\r\n        }\r\n        let myClass = (errmsg) ? gClasses.error : gClasses.nonerror;\r\n        return(\r\n          <div>\r\n            <Typography align=\"center\" className={myClass}>{myMsg}</Typography>\r\n          </div>\r\n        );\r\n      }\r\n\r\n  async function handleAddEditSubmit() {\r\n\t\tconsole.log(\"Add / Edit Area\", areaRec);\r\n\t\tvar myShortCode = areaCode.toUpperCase();\r\n    if (myShortCode.length == 0) {\r\n\t\t\tsetRegisterStatus(-1);\r\n      return;\r\n\t\t}\r\n    if ((myShortCode.length < MINAREACODELENGTH) || (myShortCode.length > MAXAREACODELENGTH)) {\r\n\t\t\tsetRegisterStatus(-2);\r\n      return;\r\n\t\t}\r\n\t\tvar duplicate = false\r\n\t\tvar tmp = areaArray.filter(x => x.shortName === myShortCode);\r\n\t\tif (\r\n\t\t\t((areaRec == null) && (tmp.length > 0)) ||\r\n\t\t  ((areaRec != null) && (areaRec.shortName !== myShortCode) && (tmp.length > 0)) \r\n\t\t\t) {\r\n\t\t\tsetRegisterStatus(-3);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (areaDesc.length == 0) {\r\n\t\t\tsetRegisterStatus(-4);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t//console.log(\"about to tell backend\");\r\n\t\t//console.log(\"2\", areaRec);\r\n\t\ttry {\r\n\t\t\t//console.log(\"Setting utl\");\r\n\t\t\t//console.log(areaRec);\r\n\t\t\tvar myUrl = (areaRec == null)\r\n\t\t\t\t? `${process.env.REACT_APP_AXIOS_BASEPATH}/area/add/${myShortCode}/${areaDesc}`\r\n\t\t\t\t: `${process.env.REACT_APP_AXIOS_BASEPATH}/area/update/${areaRec.aid}/${myShortCode}/${areaDesc}`;\r\n\t\t\t//console.log(myUrl);\r\n\t\t\tvar response = await axios.get(myUrl);\r\n\t\t\tvar tmp = (areaRec == null)\r\n\t\t\t\t? [].concat(areaArray) \r\n\t\t\t\t: areaArray.filter(x => x.shortName !== areaRec.shortName);\r\n\t\t\t//console.log(\"Filter\", tmp);\r\n\t\t\t\r\n\t\t\ttmp.push(response.data);\r\n\t\t\tvar myMsg = (areaRec == null) \r\n\t\t\t\t? `Successfully added new area ${myShortCode}` \r\n\t\t\t\t: `Successfully changed area ${areaRec.shortName} to ${myShortCode}` ;\r\n\t\t\t//console.log(myMsg);\r\n\t\t\tshowSuccess( myMsg );\r\n\t\t\tsetAreaArray(lodashSortBy(tmp, 'shortName'));\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\t//alert.error(\"Error adding / updateing Area\");\r\n\t\t\t//console.log(\"Error\");\r\n\t\t\tshowError(`Error adding/updating area`);\r\n\t\t}\r\n\t\tsetDrawer(\"\");\r\n\t}\r\n\t\r\n\tfunction handleAdd() {\r\n    console.log(\"In add\");\r\n    setAreaRec(null);\r\n\t\tsetAreaCode(\"\");\r\n\t\tsetAreaDesc(\"\");\r\n\t\tsetDrawer(\"New\");\r\n    \r\n\t}\r\n\t\r\n\tfunction handleEdit(r) {\r\n\t\tsetAreaRec(r);\r\n\t\tsetAreaCode(r.shortName);\r\n\t\tsetAreaDesc(r.longName);\r\n\t\tsetDrawer(\"Edit\");\r\n\t}\r\n\t\r\n\t\r\n\tfunction handleDelArea(rec) {\r\n\t\tvsDialog(\"Delete Area\", `Are you sure you want to delete area ${rec.longName}?`,\r\n\t\t\t{label: \"Yes\", onClick: () => handleDelAreaConfirm(rec) },\r\n\t\t\t{label: \"No\",   }\r\n\t\t);\t\t\r\n\t}\r\n\t\r\n\t\r\n  async function handleDelAreaConfirm(rec) {\r\n\t\ttry {\r\n\t\t\t//console.log(\"Setting utl\");\r\n\t\t\t//console.log(areaRec);\r\n\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/area/delete/${rec.shortName}`;\r\n\t\t\t//console.log(myUrl);\r\n\t\t\tvar response = await axios.get(myUrl);\r\n\t\t\tsetAreaArray(lodashSortBy(areaArray.filter(x => x.shortName !== rec.shortName), 'shortName'));\r\n\t\t\tsetDrawer(\"\");\r\n\t\t\tshowSuccess( `Successfully deleted area ${rec.shortName}` );\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\tshowError(`Error deleting area. In use`);\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tfunction DisplayAreas() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t{(isAdmin()) &&\r\n\t\t\t <VsButton name=\"New Area\" align=\"right\" onClick={handleAdd} />\r\n\t\t\t}\r\n\t\t\t<Table>\r\n\t\t\t<TableHead p={0}>\r\n\t\t\t<TableRow key=\"header\" align=\"center\">\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Code</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Area Description</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\"></TableCell>\r\n\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t\t<TableBody p={0}>\r\n\t\t\t\t{areaArray.map(x => \r\n\t\t\t\t\t<TableRow key={x.shortName} align=\"left\">\r\n\t\t\t\t\t\t<TableCell  className={gClasses.td} p={0} >\r\n\t\t\t\t\t\t\t{x.shortName}\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t<TableCell  className={gClasses.td} p={0} >\r\n\t\t\t\t\t\t\t{x.longName}\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t<TableCell className={gClasses.td} p={0} align=\"center\" >\r\n\t\t\t\t\t\t\t<IconButton color=\"primary\" size=\"small\" onClick={() => {handleEdit(x) }} ><EditIcon /></IconButton>\r\n\t\t\t\t\t\t\t<IconButton color=\"secondary\"  size=\"small\" onClick={() => {handleDelArea(x)}} ><CancelIcon /></IconButton>\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t</TableRow>\r\n\t\t\t\t)}\r\n\t\t\t</TableBody>\r\n\t\t\t</Table>\r\n\t\t</div>\r\n\t\t);\r\n\r\n\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t<div>\r\n\t\t\t<DisplayPageHeader headerName=\"Areas\" groupName=\"\" tournament=\"\" />\r\n\t\t\t<DisplayAreas/>\r\n\t\t\t<Drawer anchor=\"right\" variant=\"temporary\" open={drawer !== \"\"}>\r\n\t\t\t<Box margin={1} className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t\t\t<VsCancel align=\"right\" onClick={() => { setDrawer(\"\")}} />\r\n\t\t\t\t<ValidatorForm margin={2} align=\"center\" className={gClasses.form} onSubmit={handleAddEditSubmit}>\r\n\t\t\t\t\t<Typography className={gClasses.title}>{drawer+\" Area \"}</Typography>\t\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextValidator  fullWidth  className={gClasses.vgSpacing} id=\"areacode\" label=\"Area Code\" type=\"text\"\r\n\t\t\t\t\t\tvalue={areaCode} onChange={() => { setAreaCode(event.target.value) }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextValidator  fullWidth  className={gClasses.vgSpacing} id=\"areadesc\" label=\"Area Description\" type=\"text\"\r\n\t\t\t\t\t\tvalue={areaDesc} onChange={() => { setAreaDesc(event.target.value) }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<ShowResisterStatus />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<VsButton name={(drawer == \"New\") ? \"Add\" : \"Update\"} />\r\n\t\t\t\t</ValidatorForm>\r\n\t\t\t</Box>\r\n\t\t\t</Drawer>\r\n\t\t\t<ToastContainer />\r\n\t\t</div>\r\n\t\t)\r\n}\r\n","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\n\r\nexport default function VsSelect(props) {\r\nconst gClasses = globalStyles();\r\nlet _align = (props.align == null) ? 'left' : props.align;\r\nlet _label = (props.label == null) ? \"\" : props.label;\r\nlet _field = (props.field == null) ? \"\" : props.field;\r\nlet _style = (props.style == null) ? {border: '1px'} : props.style;\r\nlet _disabled = (props.style == null) ? false : props.disabled;\r\nlet _size = (props.size === null) ? \"small\" : props.size;\r\nlet _fullWidth = (props.fullWidth === null) ? false : props.fullWidth;\r\n//console.log(\"OPT\", props.options);\r\nreturn (\r\n\t<div align={_align} > \r\n\t<FormControl fullWidth={_fullWidth} size={_size} >\r\n\t\t<InputLabel id={_label}>{_label}</InputLabel>\r\n\t\t{(_field !== \"\") &&\r\n\t\t\t<Select\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tdisabled={_disabled}\r\n\t\t\t\tlabelId={_label}\r\n\t\t\t\tinputProps={props.inputProps}\r\n\t\t\t\tvalue={props.value}\r\n\t\t\t\tlabel={_label}\r\n\t\t\t\tonChange={props.onChange}\r\n\t\t\t>\r\n\t\t\t{props.options.map(x => \r\n\t\t\t<MenuItem key={x[_field]} value={x[_field]}>{x[_field]}</MenuItem>\r\n\t\t\t)}\r\n\t\t\t</Select>\r\n\t\t}\r\n\t\t{(_field === \"\") &&\r\n\t\t\t<Select\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tlabelId={_label}\r\n\t\t\t\tinputProps={props.inputProps}\r\n\t\t\t\tvalue={props.value}\r\n\t\t\t\tlabel={_label}\r\n\t\t\t\tonChange={props.onChange}\r\n\t\t\t>\r\n\t\t\t{props.options.map(x => \r\n\t\t\t<MenuItem key={x} value={x}>{x}</MenuItem>\r\n\t\t\t)}\r\n\t\t\t</Select>\r\n\t\t}\t</FormControl>\r\n\t</div>\r\n\t)\r\n}\r\n\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n// import { Switch, Route, Link } from 'react-router-dom';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport { TextareaAutosize, TextField } from '@material-ui/core';\r\nimport Drawer from '@material-ui/core/Drawer';\r\n//import Tooltip from \"react-tooltip\";\r\n//import ReactTooltip from 'react-tooltip'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport BlueRadio from 'components/Radio/BlueRadio';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport { JumpButton, DisplayPageHeader, ValidComp, BlankArea} from 'CustomComponents/CustomComponents.js';\r\n\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport FilterSharpIcon from '@material-ui/icons/FilterSharp';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\n//import { NoGroup, JumpButton, DisplayPageHeader, MessageToUser } from 'CustomComponents/CustomComponents.js';\r\nimport { \r\n\tisMobile, getWindowDimensions, displayType, decrypt, encrypt,\r\n\tisAdmin, isAdmMan,\r\n} from 'views/functions';\r\n\r\n\r\nimport {\r\n\t\tFILTER_NONE,\r\n} from 'views/globals';\r\n\r\n\r\nimport globalStyles from \"assets/globalStyles\";\r\n\r\nimport VsButton from \"CustomComponents/VsButton\"; \r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\nimport VsSelect from \"CustomComponents/VsSelect\";\r\n\r\n\r\nconst MAXAREACODELENGTH = 4;\r\nconst ALLROLES = [\"Faculty\", \"Student\", \"Manager\", \"Admin\"];\r\nconst VALIDADDEDITROLES = [ \"Manager\", \"Admin\" ];\r\n\r\n//var props.mode = \"ADD\";\r\nconst spacing = \"5px\"\r\n\r\nexport default function User() {\r\n\t//const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\r\n\tconst [userArray, setUserArray] = useState([]);\r\n\tconst [userMasterArray, setUserMasterArray] = useState([]);\r\n\tconst [custFilter, setCustFilter] = useState({role: \"Faculty\"})\r\n\tconst [filterDisplayData, setFilterDisplayData] = useState([])\r\n\t\r\n\tconst [userName, setUserName] = useState(\"\");\r\n\tconst [email, setEmail] = useState(\"\");\r\n\tconst [mobile, setMobile] = useState(\"\");\r\n\tconst [userRec, setUserRec] = useState(null);\r\n\tconst [password, setPassword] = useState(\"\");\r\n\tconst [role, setRole] = useState(ALLROLES[0]);\r\n\tconst [area1, setArea1] = useState(\"\");\r\n\tconst [area2, setArea2] = useState(\"\");\r\n\tconst [area3, setArea3] = useState(\"\");\r\n\tconst [area4, setArea4] = useState(\"\");\r\n\t\r\n\tconst [areaCode, setAreaCode] = useState(\"\");\r\n\tconst [areaDesc, setAreaDesc] = useState(\"\");\r\n\t\r\n\tconst [registerStatus, setRegisterStatus] = useState(0);\r\n\t\r\n\tconst [drawer, setDrawer] = useState(\"\");\r\n\tconst [drawerInfo, setDrawerInfo] = useState(\"\");\r\n\tconst [drawerFilter, setDrawerFilter] = useState(\"\");\r\n\t\r\n\tconst [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\tconst [dispType, setDispType] = useState(\"lg\");\r\n\r\n\tconst [filterName,   setFilterName] = useState(\"\");\r\n\tconst [filterMobile, setFilterMobile] = useState(\"\");\r\n\tconst [filterRole, setFilterRole] = useState(\"Faculty\");\r\n\t\r\n\tvar myStyle = {margin: \"3px\",  border: 'solid', borderColor: 'blue'};\r\n\r\n\t\r\n\tuseEffect(() => {\r\n\t\tfunction handleResize() {\r\n\t\t\tlet myDim = getWindowDimensions();\r\n      setWindowDimensions(myDim);\r\n\t\t\t//let myRows = 0;\r\n\t\t\tlet defHeight = 100;\r\n      //console.log(displayType(myDim.width)) ;\r\n      setDispType(displayType(myDim.width));\r\n     \r\n\t\t\t//switch (displayType(myDim.width)) {\r\n\t\t\t//\tcase 'xs': myRows = 10; break;\r\n\t\t\t//\tcase 'sm': myRows = 24; break;\r\n\t\t\t//\tcase 'md': myRows = 36; break;\r\n\t\t\t//\tcase 'lg': myRows = 48; break;\r\n\t\t\t//}\r\n\t\t\t//console.log(myRows);\r\n\t\t\t//setROWSPERPAGE(myRows);\r\n\t\t}\r\n\t\t//console.log(firsTime);\r\n\t\tasync function getAllUsers() {\r\n\t\t\ttry {\r\n\t\t\t\tif (isAdmMan()) {\r\n\t\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/user/acalist`;\r\n\t\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\t\t//console.log(response.data);\r\n\t\t\t\t\tsetUserMasterArray(response.data);\r\n\t\t\t\t\tsetFilter(response.data, custFilter);\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\toast.error(\"Error fetching User records\");\r\n\t\t\t}\r\n\t\t}\r\n\t\tgetAllUsers();\r\n\t\thandleResize();\r\n\t\twindow.addEventListener('resize', handleResize);\r\n\t}, [])\r\n\r\n\t// function handleTimer() {}\r\n\r\n\tfunction ShowResisterStatus() {\r\n        // console.log(`Status is ${registerStatus}`);\r\n        let myMsg;\r\n        let errmsg = true;\r\n        switch (registerStatus) {\r\n          case 200:\r\n            myMsg = \"Successfully updated Captain / ViceCaptain details\";\r\n            errmsg = false;\r\n            break;\r\n          case 0:\r\n            myMsg = \"\";\r\n            break;\r\n          case -1:\r\n            myMsg = \"Area Code cannot be blank\";\r\n            break;\r\n          case -2:\r\n            myMsg = `Area Code cannot be more than ${MAXAREACODELENGTH} characters`;\r\n            break;\r\n          case -3:\r\n            myMsg = \"Area code already in use\";\r\n            break;\r\n          case -4:\r\n            myMsg = \"Area description cannot be blank\";\r\n            break;\r\n          default:\r\n            myMsg = \"Error updating Captain / ViceCaptain details\";\r\n            break;\r\n        }\r\n        let myClass = (errmsg) ? gClasses.error : gClasses.nonerror;\r\n        return(\r\n          <div>\r\n            <Typography align=\"center\" className={myClass}>{myMsg}</Typography>\r\n          </div>\r\n        );\r\n      }\r\n\r\n  async function handleAddEditSubmit() {\r\n\t\tconsole.log(\"Add / Edit User\");\r\n\t\tvar response;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tif (userRec == null) {\r\n\t\t\t// for add new user\r\n\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/user/acaadd/${userName}/${encrypt(password)}/${role}/${encrypt(email)}/${mobile}/${area1}/${area2}/${area3}/${area4}`;\r\n\t\t\t\t//console.log(myUrl);\r\n\t\t\t\tvar response = await axios.get(myUrl);\r\n\t\t\t\t//console.log(\"axios done\", response.data);\r\n\t\t\t\tvar tmp = userArray.concat([response.data]);\r\n\t\t\t\tsetUserArray(tmp);\r\n\t\t\t\t//console.log(\"All done\");\r\n\t\t\t\t// close drawer\r\n\t\t\t\tsetDrawer(\"\");\r\n\t\t\t\ttoast.success(\"Successfully added details of \" + userName);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// for edit user\r\n\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/user/acaupdate/${userRec.uid}/${userName}/${encrypt(password)}/${role}/${encrypt(email)}/${mobile}/${area1}/${area2}/${area3}/${area4}`;\t\r\n\t\t\t\t//console.log(myUrl);\r\n\t\t\t\tvar response = await axios.get(myUrl);\r\n\t\t\t\tvar tmp = userArray.filter(x => x.uid !== userRec.uid);\r\n\t\t\t\ttmp = tmp.concat([response.data])\r\n\t\t\t\tsetUserArray(tmp);\r\n\t\t\t\t//console.log(\"All done\");\r\n\t\t\t\t// close drawer\r\n\t\t\t\tsetDrawer(\"\");\r\n\t\t\t\ttoast.success(\"Successfully updated details of \" + userName);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\ttoast.error(\"Error adding / updating User record\");\r\n\t\t\tconsole.log(\"Error\");\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction handleAdd() {\r\n    console.log(\"In add\");\r\n    setUserRec(null);\r\n\t\tsetUserName(\"\");\r\n\t\tsetMobile(\"\");\r\n\t\tsetEmail(\"\")\r\n\t\tsetRole(VALIDADDEDITROLES[0]);\r\n\t\tsetPassword(\"\");\r\n\t\tsetArea1(\"\");\r\n\t\tsetArea2(\"\");\r\n\t\tsetArea3(\"\");\r\n\t\tsetArea4(\"\");\r\n\t\tsetDrawer(\"New\");\r\n\t}\r\n\t\r\n\tfunction handleEdit(r) {\r\n\t\t// Allow only Manager and Admin to be edit\r\n\t\tif (!VALIDADDEDITROLES.includes(r.role)) {\r\n\t\t\ttoast.info(\"Add /Edit user with role Faculty and Student to be done from its respective page\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t//console.log(r);\r\n    setUserRec(r);\r\n\t\tsetUserName(r.displayName);\r\n\t\tsetMobile(r.mobile);\r\n\t\tsetEmail(decrypt(r.email))\r\n\t\tsetRole(r.role);\r\n\t\tsetPassword(decrypt(r.password));\r\n\t\tsetArea1(r.addr1);\r\n\t\tsetArea2(r.addr2);\r\n\t\tsetArea3(r.addr3);\r\n\t\tsetArea4(r.addr4);\r\n\t\tsetDrawer(\"Edit\");\r\n\t}\r\n\t\r\n\tfunction handleInfo(r) {\r\n\t\tsetUserRec(r);\r\n\t\tsetDrawerInfo(\"detail\");\r\n\t}\r\n\r\n\tfunction handleFilter() {\r\n\t\tsetFilterName( (custFilter[\"name\"]) ? custFilter[\"name\"] : \"\");\r\n\t\tsetFilterMobile((custFilter[\"mobile\"]) ? custFilter[\"mobile\"] : \"\");\r\n\t\tsetFilterRole((custFilter[\"role\"]) ? custFilter[\"role\"] : \"All\");\r\n\t\tsetDrawerFilter(\"filter\");\r\n\t}\r\n\t\r\n\tfunction setFilter(masterData, filterObject) {\r\n\t\t//console.log(filterObject);\r\n\t\tvar keyNames = Object.keys(filterObject);\r\n\t\t//console.log(keyNames);\r\n\t\tvar myData = [];\r\n\t\tfor(var i=0; i<keyNames.length; ++i) {\r\n\t\t\tmyData.push({key: keyNames[i], value: filterObject[keyNames[i]] });\r\n\t\t}\r\n\t\tsetFilterDisplayData(myData);\r\n\t\t\r\n\t\tvar myArray = [].concat(masterData);\r\n\t\tif (filterObject.name) {\r\n\t\t\tmyArray = myArray.filter(x => x.displayName.toLowerCase().includes(filterName.toLowerCase()) );\r\n\t\t}\r\n\t\t\r\n\t\tif (filterObject.mobile) {\r\n\t\t\tmyArray = myArray.filter(x => x.mobile.includes(filterMobile));\r\n\t\t}\r\n\t\t\r\n\t\tif (filterObject.role)  {\r\n\t\t\tmyArray = myArray.filter(x => x.role === filterRole);\r\n\t\t}\r\n\t\tsetCustFilter(filterObject);\r\n\t\tsetUserArray(myArray);\t\r\n\t}\r\n\r\n\tfunction handleSubmitFilter() {\r\n\t\tvar myFilter = {};\r\n\t\tif (filterName != \"\") {\r\n\t\t\tmyFilter[\"name\"] = filterName;\r\n\t\t}\r\n\t\tif (filterMobile != \"\") {\r\n\t\t\tmyFilter[\"mobile\"] = filterMobile;\r\n\t\t}\r\n\t\t//console.log(filterRole);\r\n\t\tif (filterRole != \"All\") {\r\n\t\t\tmyFilter[\"role\"] = filterRole;\r\n\t\t}\r\n\t\tsetFilter(userMasterArray, myFilter);\r\n\t\tsetCustFilter(myFilter);\r\n\t\tsetDrawerFilter(\"\")\r\n\t}\r\n\t\r\n\tfunction handleInfo(rec) {\r\n\t\tsetUserRec(rec);\r\n\t\tsetDrawerInfo(\"detail\");\r\n\t}\r\n\r\n\tfunction DisplayUserInfo(props) {\r\n\treturn(\r\n\t\t<div>\r\n\t\t<Grid key=\"UserINFO\" className={gClasses.noPadding} container >\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={1} lg={1} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={4} sm={4} md={2} lg={2} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Name</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={8} sm={8} md={9} lg={9} align=\"left\" >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{props.userRecord.displayName}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={1} lg={1} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={4} sm={4} md={2} lg={2} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Role</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={8} sm={8} md={9} lg={9} align=\"left\" >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{props.userRecord.role}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={1} lg={1} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={4} sm={4} md={2} lg={2} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Mobile</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={8} sm={8} md={9} lg={9} align=\"left\" >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{props.userRecord.mobile}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={1} lg={1} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={4} sm={4} md={2} lg={2} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Email</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={8} sm={8} md={9} lg={9} align=\"left\" >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{decrypt(props.userRecord.email)}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={1} lg={1} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={4} sm={4} md={2} lg={2} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Address</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={8} sm={8} md={9} lg={9} align=\"left\" >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{props.userRecord.addr1}</Typography>\r\n\t\t\t\t{(props.userRecord.addr2 !== \"-\") &&\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{props.userRecord.addr2}</Typography>\r\n\t\t\t\t}\r\n\t\t\t\t{(props.userRecord.addr3 !== \"-\") &&\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{props.userRecord.addr3}</Typography>\r\n\t\t\t\t}\r\n\t\t\t\t{(props.userRecord.addr4 !== \"-\") &&\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{props.userRecord.addr4}</Typography>\r\n\t\t\t\t}\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={12} align=\"left\" />\r\n\t\t</Grid>\r\n\t\t<br />\r\n\t\t<br />\r\n\t\t</div>\r\n\t)}\r\n\r\n\t\r\n\tfunction DisplayUsers() {\r\n\t\t//console.log(dispType);\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t<Table  align=\"center\">\r\n\t\t\t<TableHead p={0}>\r\n\t\t\t<TableRow key=\"header\" align=\"center\">\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Code</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Role</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Name</TableCell>\r\n\t\t\t\t{(dispType !== \"xs\") &&\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Email</TableCell>\r\n\t\t\t\t}\r\n\t\t\t\t{(dispType !== \"xs\") &&\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Mobile</TableCell>\r\n\t\t\t\t}\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\"></TableCell>\r\n\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t\t<TableBody p={0}>\r\n\t\t\t\t{userArray.map(x => {\r\n\t\t\t\t\tlet myInfo = \"Address\" + \"<br />\";\r\n\t\t\t\t\t\tmyInfo +=  x.addr1 + \"<br />\";\r\n\t\t\t\t\t\tmyInfo +=  x.addr2 + \"<br />\";\r\n\t\t\t\t\t\tmyInfo +=  x.addr3 + \"<br />\";\r\n\t\t\t\t\t\tmyInfo +=  x.addr4 + \"<br />\";\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t<TableRow key={x.uid}>\r\n\t\t\t\t\t\t<TableCell align=\"center\" className={gClasses.td} p={0} >\r\n\t\t\t\t\t\t\t<span>{x.uid}</span>\r\n\t\t\t\t\t\t\t\t{/*<span align=\"left\" data-for={\"USER\"+x.uid} data-tip={myInfo} data-iscapture=\"true\" >\r\n\t\t\t\t\t\t\t\t<InfoIcon color=\"primary\" size=\"small\"/>\r\n\t\t\t\t\t\t\t</span>*/}\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t<TableCell align=\"center\" className={gClasses.td} p={0} >{x.role}</TableCell>\r\n\t\t\t\t\t\t<TableCell className={gClasses.td} p={0} >{x.displayName}</TableCell>\r\n\t\t\t\t\t\t{(dispType !== \"xs\") &&\r\n\t\t\t\t\t\t<TableCell className={gClasses.td} p={0} >{decrypt(x.email)}</TableCell>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{(dispType !== \"xs\") &&\r\n\t\t\t\t\t\t<TableCell align=\"center\" className={gClasses.td} p={0} >{x.mobile}</TableCell>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<TableCell className={gClasses.td} p={0} >\r\n\t\t\t\t\t\t\t<IconButton color=\"primary\" size=\"small\" onClick={() => {handleEdit(x)}} ><EditIcon /></IconButton>\r\n\t\t\t\t\t\t\t<IconButton color=\"primary\" size=\"small\" onClick={() => {handleInfo(x)}} ><InfoIcon /></IconButton>\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t</TableRow>\r\n\t\t\t\t)})}\r\n\t\t\t</TableBody>\r\n\t\t\t</Table>\r\n\t\t</div>\r\n\t\t);\r\n\r\n\t}\r\n\r\n\t\r\n\tfunction DisplayOptions() {\r\n\treturn (\t\r\n\t\t<div>\r\n\t\t<VsButton align=\"right\" disabled={!isAdmin()} name=\"New User\" align=\"right\" onClick={handleAdd} />\r\n\t\t<Box margin={1} className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} paddingTop={1} >\r\n\t\t<Grid key=\"Filter\" className={gClasses.noPadding} container  >\r\n\t\t\t<Grid  align=\"left\" item xs={11} sm={11} md={11} lg={11} >\r\n\t\t\t\t<Typography>\r\n\t\t\t\t{ filterDisplayData.map(x => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t<span key={x.key} className={gClasses.filter}  >{x.key + \": \" + x.value}</span>\r\n\t\t\t\t)})}\r\n\t\t\t\t{(filterDisplayData.length === 0) &&\r\n\t\t\t\t\t<span key=\"NOKEY\" className={gClasses.info16}  >{FILTER_NONE}</span>\r\n\t\t\t\t}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid align=\"right\"  item xs={1} sm={1} md={1} lg={1} >\r\n\t\t\t\t<IconButton color=\"primary\" size=\"small\" onClick={handleFilter}  ><SearchIcon /></IconButton>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t\t</Box>\r\n\t\t</div>\r\n\t)}\r\n\t\r\n\t\r\n\t\treturn (\r\n\t\t<div>\r\n\t\t\t<DisplayPageHeader headerName=\"Users\" groupName=\"\" tournament=\"\" />\r\n\t\t\t<DisplayOptions />\r\n\t\t\t<DisplayUsers/>\r\n\t\t\t<Drawer anchor=\"right\" variant=\"temporary\" open={drawer !== \"\"}>\r\n\t\t\t<Box margin={1} className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t\t\t<VsCancel align=\"right\" onClick={() => { setDrawer(\"\")}} />\r\n\t\t\t\t<ValidatorForm margin={2} align=\"center\" className={gClasses.form} onSubmit={handleAddEditSubmit}>\r\n\t\t\t\t\t<Typography className={gClasses.title}>{drawer+\" User \"}</Typography>\t\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextValidator enable={(drawer == \"New\") ? \"true\" : \"false\"}  variant=\"outlined\" required fullWidth id=\"userName\" label=\"User Name\" name=\"username\"\r\n\t\t\t\t\t\tvalidators={['required', 'minLength', 'noSpecialCharacters']}\r\n\t\t\t\t\t\terrorMessages={['User Name to be provided', 'Mimumum 6 characters required', ]}\r\n\t\t\t\t\t\tvalue={userName} onChange={() => { setUserName(event.target.value) }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<BlankArea/>\r\n\t\t\t\t\t<VsSelect fullWidth align=\"center\" label=\"Role\" options={VALIDADDEDITROLES} value={role} onChange={(event) => { setRole(event.target.value)}} />\r\n\t\t\t\t\t<BlankArea/>\r\n\t\t\t\t\t<TextValidator variant=\"outlined\" required fullWidth id=\"emaild\" label=\"Email\" name=\"Email\"\r\n\t\t\t\t\t\tvalidators={['isEmailOK', 'required']}\r\n\t\t\t\t\t\terrorMessages={['Invalid Email', 'Email to be provided']}\r\n\t\t\t\t\t\tvalue={email} onChange={(event) => setEmail(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<BlankArea/>\r\n\t\t\t\t\t<TextValidator variant=\"outlined\" required fullWidth label=\"Mobile\" name=\"mobile\"\r\n\t\t\t\t\t\tvalidators={['required', 'mobile']}\r\n\t\t\t\t\t\terrorMessages={[, 'Mobile to be provided', '10 digit mobile number required']}\r\n\t\t\t\t\t\tvalue={mobile} onChange={(event) => setMobile(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextValidator variant=\"outlined\" required fullWidth label=\"Password\" name=\"password\"\r\n\t\t\t\t\t\tvalidators={['required', 'minLength', 'noSpecialCharacters']}\r\n\t\t\t\t\t\terrorMessages={['Password to be provided', 'Mimumum 6 characters required', ]}\r\n\t\t\t\t\t\tvalue={password} onChange={(event) => setPassword(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextValidator variant=\"outlined\" required fullWidth label=\"Address 1\" name=\"Addr1\"\r\n\t\t\t\t\t\tvalidators={['required']}\r\n\t\t\t\t\t\terrorMessages={['Addres line 1 to be provided']}\r\n\t\t\t\t\t\tvalue={area1} onChange={(event) => setArea1(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextValidator variant=\"outlined\"  fullWidth label=\"Address 2\" name=\"Addr2\"\r\n\t\t\t\t\t\tvalue={area2} onChange={(event) => setArea2(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextValidator variant=\"outlined\"  fullWidth label=\"Address 3\" name=\"Addr3\"\r\n\t\t\t\t\t\tvalue={area3} onChange={(event) => setArea3(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextValidator variant=\"outlined\"  fullWidth label=\"Address 4\" name=\"Addr4\"\r\n\t\t\t\t\t\tvalue={area4} onChange={(event) => setArea4(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<ShowResisterStatus />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<VsButton name={(drawer == \"New\") ? \"Add\" : \"Update\"} />\r\n\t\t\t\t</ValidatorForm>\r\n\t\t\t\t<ValidComp p1={password}/>   \r\n\t\t\t</Box>\r\n\t\t\t</Drawer>\r\n\t\t\t<Drawer anchor=\"left\" variant=\"temporary\" open={drawerFilter !== \"\"}>\r\n\t\t\t<Box margin={1} className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t\t\t<DisplayPageHeader headerName=\"Filter Options\" groupName=\"\" tournament=\"\" />\r\n\t\t\t\t<VsCancel align=\"right\" onClick={() => { setDrawerFilter(\"\")}} />\r\n\t\t\t\t<br />\r\n\t\t\t\t<ValidatorForm margin={2} align=\"center\" className={gClasses.form} onSubmit={handleSubmitFilter}  >\r\n\t\t\t\t<Grid key=\"Filter\" className={gClasses.noPadding} container >\r\n\t\t\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Name</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={7} sm={7} md={3} lg={3} >\r\n\t\t\t\t\t\t<TextField fullWidth  value={filterName} onChange={(event) => { setFilterName(event.target.value)}} />\t\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid style={{margin: spacing}} item xs={12} sm={12} md={12} lg={12} />\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Mobile</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={7} sm={7} md={3} lg={3} >\r\n\t\t\t\t\t\t<TextField fullWidth value={filterMobile} onChange={(event) => { setFilterMobile(event.target.value)}} />\t\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid style={{margin: spacing}} item xs={12} sm={12} md={12} lg={12} />\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Role</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={7} sm={7} md={3} lg={1} >\r\n\t\t\t\t\t\t<VsSelect size=\"small\" align=\"left\" options={[\"All\"].concat(ALLROLES)} value={filterRole} onChange={(event) => { setFilterRole(event.target.value)}} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid style={{margin: spacing}} item xs={12} sm={12} md={12} lg={12} />\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t\t\t\t<VsButton type=\"submit\" name=\"Apply Filter\" />\r\n\t\t\t\t\t</Grid>\t\t\t\t\t\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</ValidatorForm>\r\n\t\t\t</Box>\r\n\t\t\t</Drawer>\r\n\t\t\t<Drawer anchor=\"bottom\" variant=\"temporary\" open={drawerInfo !== \"\"}>\r\n\t\t\t<Box margin={1} className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t\t\t<DisplayPageHeader headerName=\"User Details\" groupName=\"\" tournament=\"\" />\r\n\t\t\t\t<VsCancel align=\"right\" onClick={() => { setDrawerInfo(\"\")}} />\r\n\t\t\t\t<br />\r\n\t\t\t\t<DisplayUserInfo userRecord={userRec} />\r\n\t\t\t</Box>\r\n\t\t\t</Drawer>\t\t\t\r\n\t\t\t<ToastContainer />\r\n\t\t</div>\r\n\t\t)\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n// import { Switch, Route, Link } from 'react-router-dom';\r\nimport { ValidatorForm, TextValidator, TextValidatorcvariant} from 'react-material-ui-form-validator';\r\nimport Drawer from '@material-ui/core/Drawer';\r\n//import Tooltip from \"react-tooltip\";\r\n//import ReactTooltip from 'react-tooltip'\r\n//import { useAlert } from 'react-alert';\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport BlueRadio from 'components/Radio/BlueRadio';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport { JumpButton, DisplayPageHeader, ValidComp, BlankArea} from 'CustomComponents/CustomComponents.js';\r\n\r\nimport lodashSortBy from \"lodash/sortBy\";\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport IndeterminateCheckBoxIcon from '@material-ui/icons/IndeterminateCheckBox';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n\r\n//import { NoGroup, JumpButton, DisplayPageHeader, MessageToUser } from 'CustomComponents/CustomComponents.js';\r\nimport { isMobile, getWindowDimensions, displayType, decrypt, encrypt } from 'views/functions';\r\n\r\nimport globalStyles from \"assets/globalStyles\";\r\n\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\n\r\nimport VsButton from \"CustomComponents/VsButton\"; \r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\nimport VsSelect from \"CustomComponents/VsSelect\";\r\nimport VsRadio from \"CustomComponents/VsRadio\";\r\n\r\n//const ALLROLES = [\"Student\", \"Faculty\", \"Admin\"];\r\n\r\nimport {\r\n\tROLE_FACULTY , ROLE_STUDENT,\r\n\tALLSELECTIONS, BLANKCHAR,\r\n\tNOFRACTION,\r\n\tSHORTWEEKSTR, HOURBLOCKSTR, MINUTEBLOCKSTR, SESSIONHOURSTR,\r\n\tSTATUS_INFO,\r\n\tDURATIONSTR,\r\n\tBATCHTIMESTR\t,\r\n\tBLOCK_START, BLOCK_END,\r\n\tFREESTR,\r\n} from 'views/globals';\r\n\r\nimport {\r\n\tmergedName, getCodeFromMergedName, getNameFromMergedName,\r\n} from 'views/functions';\r\n\r\n//var origBatchRec = null;\r\nvar mode = \"ADD\";\r\n\r\nexport default function FacultySchedule(props) {\r\n\t//const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\t//const alert = useAlert();\r\n\t\r\n\tconst [currentSelection, setCurrentSelection] = useState(ALLSELECTIONS[0]);\r\n\t\r\n\tconst [facultyName, setFacultyName] = useState([]);\r\n\t//const [facultySchedule, setFacultySchedule] = useState([]);\r\n\t\r\n\tconst [teacherSchedule, setTeachedSchedule] = useState([]);\r\n\tconst [batchArray, setBatchArray] = useState([]);\r\n\tconst [facultyArray, setFacultyArray] = useState([]);\r\n\tconst [masterBatchArray, setMasterBatchArray] = useState([]);\r\n\t\r\n\tconst [userName, setUserName] = useState(\"\");\r\n\tconst [email, setEmail] = useState(\"\");\r\n\tconst [mobile, setMobile] = useState(\"\");\r\n\t//const [batchRec, setBatchtRec] = useState(null);\r\n\tconst [userRec, setUserRec] = useState(null);\r\n\t\r\n\tconst [newArea, setNewArea] = useState(\"\");\r\n\tconst [newFaculty, setNewFaculty] = useState(\"\");\r\n\r\n\tconst [sessDuration, setSessDuration] = useState(DURATIONSTR[1].name);\r\n\r\n\tconst [newStudent, setNewStudent] = useState(\"\");\r\n\tconst [batchStudents, setBatchStudents] = useState([]);\r\n\tconst [batchSessions, setBatchSessions] = useState([]);\r\n\t\r\n\tconst [newDay, setNewDay] = useState(\"\");\r\n\tconst [newHourMinute, setNewHourMinute] = useState(\"03:00 PM\");\r\n\tconst [newMin, setNewMin] = useState(\"\");\r\n\tconst [newFess, setNewFees] = useState(200);\r\n\tconst [origHourMinute, setOrigHourMinute] = useState(\"\");\r\n\tconst [origDay, setOrigDay] = useState(\"\");\r\n\t\r\n\tconst [drawer, setDrawer] = useState(\"\");\r\n\tconst [drawerDetail, setDrawerDetail] = useState(\"\");\r\n\tconst [registerStatus, setRegisterStatus] = useState(0);\r\n\t\r\n\tconst [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\tconst [dispType, setDispType] = useState(\"lg\");\r\n\r\n\tuseEffect(() => {\r\n\t\tfunction handleResize() {\r\n\t\t\tlet myDim = getWindowDimensions();\r\n      setWindowDimensions(myDim);\r\n\t\t\t//let myRows = 0;\r\n\t\t\tlet defHeight = 100;\r\n      //console.log(displayType(myDim.width)) ;\r\n      setDispType(displayType(myDim.width));\r\n     \r\n\t\t\t//switch (displayType(myDim.width)) {\r\n\t\t\t//\tcase 'xs': myRows = 10; break;\r\n\t\t\t//\tcase 'sm': myRows = 24; break;\r\n\t\t\t//\tcase 'md': myRows = 36; break;\r\n\t\t\t//\tcase 'lg': myRows = 48; break;\r\n\t\t\t//}\r\n\t\t\t//console.log(myRows);\r\n\t\t\t//setROWSPERPAGE(myRows);\r\n\t\t}\r\n\r\n\r\n\t\tasync function getFacultyDetails(allFaculty) {\t\r\n\t\ttry {\r\n\t\t\tif (allFaculty) {\r\n\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/faculty/list/enabled`;\r\n\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\t//console.log(response.data);\r\n\t\t\t\tvar tmp = response.data;\r\n\t\t\t\t\tfor(var i=0; i<tmp.length; ++i) {\r\n\t\t\t\t\t\ttmp[i][\"mergedName\"] = mergedName(tmp[i].name, tmp[i].fid);\r\n\t\t\t\t}\r\n\t\t\t\tsetFacultyArray(tmp);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/faculty/enabledfaculty/${props.faculty.fid}`;\r\n\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\t//console.log(response.data);\r\n\t\t\t\tvar tmp = response.data;\r\n\t\t\t\ttmp[\"mergedName\"] = mergedName(tmp.name, tmp.fid);\r\n\t\t\t\tsetFacultyArray([tmp]);\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\talert(\"Error Fetching Faculty\");\r\n\t\t}\r\n\t}\r\n\r\n\t\t//console.log(origBatchRec.fid);\r\n\t\t//origBatchRec = props.batchRec;\r\n\t\t\r\n\t\t// Set faculty Schedule\t\t\r\n\t\tgetFacultySchedule(props.faculty.fid);\r\n\t\tsetNewFaculty(mergedName(props.faculty.name, props.faculty.fid));\r\n\r\n\t\t// NOw get faculty details\r\n\t\tgetFacultyDetails(props.all);\r\n\r\n\t\t// now Start\r\n\r\n\t\t\r\n\t\thandleResize();\r\n\t\twindow.addEventListener('resize', handleResize);\r\n\t\t\r\n\t}, [])\r\n\r\n\r\n\tasync function getFacultySchedule(fid) {\r\n\t\t//console.log(fid);\r\n\t\ttry {\r\n\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/faculty/getfacultyblock/${fid}`;\r\n\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t//console.log(response.data);\r\n\t\t\tsetTeachedSchedule(response.data);\r\n\t\t} \r\n\t\tcatch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\talert(\"Error Fetching Faculty qdwqdwqdwqdq\");\r\n\t\t}\r\n\t}\r\n\r\n\tfunction  handleNewFaculty(newMergedFacultyName) {\r\n\t\tvar newFid = getCodeFromMergedName(newMergedFacultyName);\r\n\t\tgetFacultySchedule(newFid)\r\n\t\tvar tmp = facultyArray.find(x => x.fid === newFid);\r\n\t\tsetNewFaculty(tmp.mergedName);\r\n\t}\r\n\r\nfunction handleBack() {\r\n\tvar batchInfo = {inUse: true, status: STATUS_INFO.CANCEL, msg: \"\", record: null };\r\n\tsessionStorage.setItem(\"batchInfo\", JSON.stringify(batchInfo));\r\n\tsetTab(process.env.REACT_APP_BATCH);\r\n}\r\n\r\nfunction ShowResisterStatus() {\r\n\t\t\t//console.log(`Status is ${registerStatus}`);\r\n\t\t\tlet myMsg;\r\n\t\t\tlet errmsg = true;\r\n\t\t\tswitch (registerStatus) {\r\n\t\t\t\tcase 200:\r\n\t\t\t\t\tmyMsg = \"Successfully updated Captain / ViceCaptain details\";\r\n\t\t\t\t\terrmsg = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tmyMsg = \"\";\r\n\t\t\t\t\terrmsg = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase -1:\r\n\t\t\t\t\tmyMsg = \"Area Code cannot be blank\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase -2:\r\n\t\t\t\t\tmyMsg = `Area Code cannot be more than ${MAXAREACODELENGTH} characters`;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase -3:\r\n\t\t\t\t\tmyMsg = \"Area code already in use\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase -4:\r\n\t\t\t\t\tmyMsg = \"Area description cannot be blank\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 501:\r\n\t\t\t\t\tmyMsg = \"Student name is blank\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 502:\r\n\t\t\t\t\tmyMsg = \"Duplicate entry of student in Batch\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 511:\r\n\t\t\t\t\tmyMsg = \"Duplicate entry of session in Batch\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 521:\r\n\t\t\t\t\tmyMsg = \"No students selected in Batch\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 522:\r\n\t\t\t\t\tmyMsg = \"No sessions selected in Batch\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tmyMsg = \"Error updating Captain / ViceCaptain details\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t//console.log(errmsg, registerStatus);\r\n\t\t\tlet myClass = (errmsg) ? gClasses.error : gClasses.nonerror;\r\n\t\t\treturn(\r\n\t\t\t\t<div align=\"center\">\r\n\t\t\t\t\t<Typography align=\"center\" className={myClass}>{myMsg}</Typography>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t//console.log(dispType);\r\n\t//\r\n\t// \t\t\t\t\t{teacherSchedule.slice(BLOCK_START, BLOCK_END+1).map( (x, index) => {\r\n\t//\r\n\treturn (\r\n\t<div align=\"center\">\r\n\t{/*<DisplayPageHeader headerName=\"Faculty Schedule\" groupName=\"\" tournament=\"\" />*/}\r\n\t\t<Grid key=\"FACULTYSCHEDULE\" className={gClasses.noPadding} container alignItems=\"flex-start\" >\r\n\t\t\t<Grid item xs={6} sm={6} md={1} lg={1} >\r\n\t\t\t\t<Typography className={gClasses.info18Blue} >Faculty</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={6} sm={6} md={2} lg={1} >\r\n\t\t\t\t{/*<VsSelect size=\"small\" align=\"center\" options={facultyName} value={facultyName[0]}  />\t\t\t*/}\r\n\t\t\t\t<VsSelect size=\"small\" align=\"center\" options={facultyArray} field=\"mergedName\" value={newFaculty} onChange={(event) => { handleNewFaculty(event.target.value)}} />\t\t\t\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: \"5px\"}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t\t<Table  align=\"center\">\r\n\t\t\t\t<TableHead p={0}>\r\n\t\t\t\t<TableRow key=\"header\" align=\"center\">\r\n\t\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Time</TableCell>\r\n\t\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Mon</TableCell>\r\n\t\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Tue</TableCell>\r\n\t\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Wed</TableCell>\r\n\t\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Thu</TableCell>\r\n\t\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Fri</TableCell>\r\n\t\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Sat</TableCell>\r\n\t\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Sun</TableCell>\r\n\t\t\t\t</TableRow>\r\n\t\t\t\t</TableHead>\r\n\t\t\t\t<TableBody p={0}>\r\n\t\t\t\t\t{teacherSchedule.slice(BLOCK_START, BLOCK_END+1).map( (x, index) => {\r\n\t\t\t\t\t\t\tvar test = x.filter(x => x !== \"\");\r\n\t\t\t\t\t\t\t//if (test.length === 0) return;\r\n\t\t\t\t\t\t\tvar myClasses = gClasses.td;\r\n\t\t\t\t\t\t\tvar tmp = BATCHTIMESTR[index];\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<TableRow key={index} align=\"center\">\r\n\t\t\t\t\t\t\t<TableCell align=\"center\" className={gClasses.th} p={0} >{BATCHTIMESTR[index].name}</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align=\"center\" className={(x[0] === \"\") ? gClasses.disabledtdrounded : gClasses.tdrounded} p={0} >{(x[0] !== \"\") ? x[0] : FREESTR}</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align=\"center\" className={(x[1] === \"\") ? gClasses.disabledtdrounded : gClasses.tdrounded} p={0} >{(x[1] !== \"\") ? x[1] : FREESTR}</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align=\"center\" className={(x[2] === \"\") ? gClasses.disabledtdrounded : gClasses.tdrounded} p={0} >{(x[2] !== \"\") ? x[2] : FREESTR}</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align=\"center\" className={(x[3] === \"\") ? gClasses.disabledtdrounded : gClasses.tdrounded} p={0} >{(x[3] !== \"\") ? x[3] : FREESTR}</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align=\"center\" className={(x[4] === \"\") ? gClasses.disabledtdrounded : gClasses.tdrounded} p={0} >{(x[4] !== \"\") ? x[4] : FREESTR}</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align=\"center\" className={(x[5] === \"\") ? gClasses.disabledtdrounded : gClasses.tdrounded} p={0} >{(x[5] !== \"\") ? x[5] : FREESTR}</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align=\"center\" className={(x[6] === \"\") ? gClasses.disabledtdrounded : gClasses.tdrounded} p={0} >{(x[6] !== \"\") ? x[6] : FREESTR}</TableCell>\r\n\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t)})}\r\n\t\t\t\t</TableBody>\r\n\t\t\t\t</Table>\t\t\t\t\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t\t\r\n\t\t<Box margin={1} className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t</Box>\r\n\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Container from '@material-ui/core/Container';\r\n\r\n//import Tooltip from \"react-tooltip\";\r\n//import ReactTooltip from 'react-tooltip'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\n//import FormControlLabel from '@material-ui/core/FormControlLabel';\r\n//import Radio from '@material-ui/core/Radio';\r\n//import BlueRadio from 'components/Radio/BlueRadio';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport { DisplayPageHeader, ValidComp, BlankArea} from 'CustomComponents/CustomComponents.js';\r\n\r\nimport lodashSortBy from \"lodash/sortBy\";\r\n\r\nimport FacultySchedule\t from \"views/Faculty/FacultySchedule\"\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport IndeterminateCheckBoxIcon from '@material-ui/icons/IndeterminateCheckBox';\r\nimport TableChartSharpIcon from '@material-ui/icons/TableChartSharp';\r\n\r\nimport { \r\n\tisMobile, getWindowDimensions, displayType, decrypt, encrypt,\r\n\tisAdmMan, isAdmManFac, isFaculty,\r\n\tmergedName,\r\n\tvsDialog,\r\n\tshowError, showSuccess, showInfo,\r\n} from 'views/functions';\r\n\r\nimport globalStyles from \"assets/globalStyles\";\r\n\r\nimport VsButton from \"CustomComponents/VsButton\"; \r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\nimport VsSelect from \"CustomComponents/VsSelect\";\r\nimport VsRadio from \"CustomComponents/VsRadio\";\r\n\r\n//const ALLROLES = [\"Student\", \"Faculty\", \"Admin\"];\r\n\r\nconst ALLSELECTIONS = [\"All\", \"Enabled\", \"Disabled\" ];\r\nconst BLANKCHAR = \"-\";\r\n\r\nexport default function Faculty() {\r\n\t//const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\r\n\tconst [errorMessage, setErrorMessage] = useState(\"\");\r\n\t\r\n\tconst [currentSelection, setCurrentSelection] = useState(ALLSELECTIONS[0]);\r\n\t\r\n\tconst [facultyInfo, setFacultyInfo] = useState(null);\r\n\tconst [showAll, setShowAll] = useState(false);\r\n\t\r\n\tconst [facultyArray, setFacultyArray] = useState([]);\r\n\tconst [masterFacultyArray, setMasterFacultyArray] = useState([]);\r\n\t\r\n\tconst [userName, setUserName] = useState(\"\");\r\n\tconst [email, setEmail] = useState(\"\");\r\n\tconst [mobile, setMobile] = useState(\"\");\r\n\tconst [facultyRec, setFacultyRec] = useState(null);\r\n\tconst [userRec, setUserRec] = useState(null);\r\n\tconst [password, setPassword] = useState(\"\");\r\n\tconst [role, setRole] = useState(\"Faculty\");\r\n\tconst [area1, setArea1] = useState(\"\");\r\n\tconst [area2, setArea2] = useState(\"\");\r\n\tconst [area3, setArea3] = useState(\"\");\r\n\tconst [area4, setArea4] = useState(\"\");\r\n\t\r\n\tconst [areaCode, setAreaCode] = useState(\"\");\r\n\tconst [areaDesc, setAreaDesc] = useState(\"\");\r\n\r\n\tconst [drawer, setDrawer] = useState(\"\");\r\n\tconst [drawerDetail, setDrawerDetail] = useState(\"\");\r\n\tconst [drawerInfo, setDrawerInfo] = useState(\"\");\r\n\r\n\tconst [registerStatus, setRegisterStatus] = useState(0);\r\n\t\r\n\tconst [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\tconst [dispType, setDispType] = useState(\"lg\");\r\n\r\n\tuseEffect(() => {\r\n\t\tfunction handleResize() {\r\n\t\t\tlet myDim = getWindowDimensions();\r\n      setWindowDimensions(myDim);\r\n\t\t\t//let myRows = 0;\r\n\t\t\tlet defHeight = 100;\r\n      //console.log(displayType(myDim.width)) ;\r\n      setDispType(displayType(myDim.width));\r\n     \r\n\t\t\t//switch (displayType(myDim.width)) {\r\n\t\t\t//\tcase 'xs': myRows = 10; break;\r\n\t\t\t//\tcase 'sm': myRows = 24; break;\r\n\t\t\t//\tcase 'md': myRows = 36; break;\r\n\t\t\t//\tcase 'lg': myRows = 48; break;\r\n\t\t\t//}\r\n\t\t\t//console.log(myRows);\r\n\t\t\t//setROWSPERPAGE(myRows);\r\n\t\t}\r\n\t\t//console.log(firsTime);\r\n\t\tasync function getAllFaculty() {\r\n\t\t\ttry {\r\n\t\t\t\tif (isAdmMan()) {\r\n\t\t\t\t\tconsole.log(\"Admin or Main\");\r\n\t\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/faculty/list/all`;\t\t\t\t\r\n\t\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\t\t//console.log(response.data);\r\n\t\t\t\t\tsetFacultyArray(response.data);\r\n\t\t\t\t\tsetMasterFacultyArray(response.data);\r\n\t\t\t\t} \r\n\t\t\t\telse if (isFaculty()) {\r\n\t\t\t\t\tconsole.log(\"Facultyn\");\r\n\t\t\t\t\t// First get the Faculty id\r\n\t\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/faculty/enabledfacultybyuid/${sessionStorage.getItem(\"uid\")}/`;\t\t\t\t\r\n\t\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\t\t//console.log(response.data);\r\n\t\t\t\t\tsetFacultyArray([response.data]);\r\n\t\t\t\t\tsetMasterFacultyArray([response.data]);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tconsole.log(\"None\");\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\thandleResize();\r\n\t\tgetAllFaculty();\r\n\t\t\r\n\t\twindow.addEventListener('resize', handleResize);\r\n\t}, [])\r\n\r\n\t// function handleTimer() {}\r\n\r\n\tfunction ShowResisterStatus() {\r\n        // console.log(`Status is ${registerStatus}`);\r\n        let myMsg;\r\n        let errmsg = true;\r\n        switch (registerStatus) {\r\n          case 200:\r\n            myMsg = \"Successfully updated Captain / ViceCaptain details\";\r\n            errmsg = false;\r\n            break;\r\n          case 0:\r\n            myMsg = \"\";\r\n\t\t\t\t\t\terrmsg = false;\r\n            break;\r\n          case -1:\r\n            myMsg = \"Area Code cannot be blank\";\r\n            break;\r\n          case -2:\r\n            myMsg = `Area Code cannot be more than ${MAXAREACODELENGTH} characters`;\r\n            break;\r\n          case -3:\r\n            myMsg = \"Area code already in use\";\r\n            break;\r\n          case -4:\r\n            myMsg = \"Area description cannot be blank\";\r\n            break;\r\n          default:\r\n            myMsg = \"Error updating Captain / ViceCaptain details\";\r\n            break;\r\n        }\r\n\t\t\t\t//console.log(errmsg, registerStatus);\r\n\t\t\t\tif (errmsg)\r\n\t\t\t\t\tshowError(myMsg);\r\n\t\t\t\t\r\n        let myClass = (errmsg) ? gClasses.error : gClasses.nonerror;\r\n\t\t\t\treturn null;\r\n        return(\r\n          <div>\r\n            <Typography align=\"center\" className={myClass}>{myMsg}</Typography>\r\n          </div>\r\n        );\r\n      }\r\n\r\n\tasync function handleFacultySchedule(rec) {\r\n\t\t/*\r\n\t\tvar batchInfo = {inUse: true, from: process.env.REACT_APP_BATCH, status: STATUS_INFO.FACULTYSCHEDULE, msg: \"\", record:  rec };\r\n\t\tsessionStorage.setItem(\"batchInfo\", JSON.stringify(batchInfo));\r\n\t\tsetTab(process.env.REACT_APP_FACULTYSCHEDULE);\r\n\t\t*/\r\n\t\tsetFacultyInfo({name: rec.name, fid: rec.fid});\r\n\t\tsetShowAll(isAdmMan());\r\n\t\tsetDrawerDetail(\"FACULTYSCHEDULE\");\r\n\t\t\r\n\t}\r\n  \r\n\tasync function handleAddEditSubmit() {\r\n\t\t//console.log(\"Add / Edit User\");\r\n\t\tvar response;\r\n\t\tvar a1 = (area1 !== \"\") ? area1 : BLANKCHAR;\r\n\t\tvar a2 = (area2 !== \"\") ? area2 : BLANKCHAR;\r\n\t\tvar a3 = (area3 !== \"\") ? area3 : BLANKCHAR;\r\n\t\tvar a4 = (area4 !== \"\") ? area4 : BLANKCHAR;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tif (facultyRec == null) {\r\n\t\t\t// for add new user\r\n\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/faculty/add/${userName}/${encrypt(password)}/${encrypt(email)}/${mobile}/${a1}/${a2}/${a3}/${a4}`;\r\n\t\t\t\t//console.log(myUrl);\r\n\t\t\t\tvar response = await axios.get(myUrl);\r\n\t\t\t\t//console.log(\"axios done\", response.data);\r\n\t\t\t\tvar tmp = masterFacultyArray.concat([response.data]);\r\n\t\t\t\ttmp = lodashSortBy(tmp, 'name');\r\n\t\t\t\tsetMasterFacultyArray(tmp);\r\n\t\t\t\tfilterFaculty(tmp, currentSelection);\r\n\t\t\t\tsetDrawer(\"\");\r\n\t\t\t\tshowSuccess(\"Successfully added details of \" + userName);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// for edit user\r\n\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/faculty/update/${facultyRec.fid}/${userName}/${encrypt(password)}/${encrypt(email)}/${mobile}/${a1}/${a2}/${a3}/${a4}`;\t\r\n\t\t\t\t//console.log(myUrl);\r\n\t\t\t\tvar response = await axios.get(myUrl);\r\n\t\t\t\tvar tmp = masterFacultyArray.filter(x => x.uid !== facultyRec.uid);\r\n\t\t\t\ttmp = tmp.concat([response.data])\r\n\t\t\t\ttmp = lodashSortBy(tmp, 'name');\r\n\t\t\t\tsetMasterFacultyArray(tmp);\r\n\t\t\t\tfilterFaculty(tmp, currentSelection);\r\n\t\t\t\tsetDrawer(\"\");\r\n\t\t\t\tshowSuccess(\"Successfully edit details of \" + userName);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\tshowError(\"Error adding / updateing Area\");\r\n\t\t\tconsole.log(\"Error\");\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction handleAdd() {\r\n    console.log(\"In add\");\r\n    setFacultyRec(null);\r\n\t\tsetUserName(\"\");\r\n\t\tsetMobile(\"\");\r\n\t\tsetEmail(\"\")\r\n\t\t//setRole(ALLROLES[0]);\r\n\t\tsetPassword(\"\");\r\n\t\tsetArea1(\"\");\r\n\t\tsetArea2(\"\");\r\n\t\tsetArea3(\"\");\r\n\t\tsetArea4(\"\");\r\n\t\tsetDrawer(\"New\");\r\n\t}\r\n\t\r\n\tasync function handleEdit(r) {\r\n\t\t//console.log(r);\r\n    setFacultyRec(r);\r\n\t\t// Now get the user record\r\n\t\tvar myUser;\r\n\t\ttry {\r\n\t\t\tvar resp = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/acagetbyid/${r.uid}`);\r\n\t\t\tmyUser = resp.data;\r\n\t\t\t//console.log(myUser);\r\n\t\t\tsetUserRec(myUser);\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\tshowError('Error while fetching user record');\r\n\t\t\tsetFacultyRec(null);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetUserName(myUser.displayName);\r\n\t\tsetMobile(myUser.mobile);\r\n\t\tsetEmail(decrypt(myUser.email))\r\n\t\t//setRole(r.role);\r\n\t\tsetPassword(decrypt(myUser.password));\r\n\t\tsetArea1(myUser.addr1);\r\n\t\tsetArea2(myUser.addr2);\r\n\t\tsetArea3(myUser.addr3);\r\n\t\tsetArea4(myUser.addr4);\r\n\t\tsetDrawer(\"Edit\");\r\n\t}\r\n\t\r\n\t\r\n\tasync function handleInfo(rec) {\r\n\t\tsetFacultyRec(rec);\r\n\t\t// Now fetch User details of the student\r\n\t\t// Now get the user record\r\n\t\ttry {\r\n\t\t\tvar resp = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/acagetbyid/${rec.uid}`);\r\n\t\t\tsetUserRec(resp.data);\r\n\t\t\tsetDrawerInfo(\"detail\");\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\tshowError('Error fetching user record');\r\n\t\t\tsetFacultyRec(null);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction DisplayFacultyInfo(props) {\r\n\treturn(\r\n\t\t<div>\r\n\t\t<Grid key=\"FACULTYINFO\" className={gClasses.noPadding} container >\r\n\t\t\t<Grid item xs={4} sm={4} md={3} lg={3} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Name</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={8} sm={8} md={9} lg={9} align=\"left\" >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{props.userRecord.displayName}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={4} sm={4} md={3} lg={3} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Code</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={8} sm={8} md={9} lg={9} align=\"left\" >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{props.facultyRecord.fid}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={4} sm={4} md={3} lg={3} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Batches</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={8} sm={8} md={9} lg={9} align=\"left\" >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{props.facultyRecord.batchCount}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={4} sm={4} md={3} lg={3} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Mobile</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={8} sm={8} md={9} lg={9} align=\"left\" >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{props.userRecord.mobile}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={4} sm={4} md={3} lg={3} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Email</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={8} sm={8} md={9} lg={9} align=\"left\" >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{decrypt(props.userRecord.email)}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Address</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={3} sm={3} md={2} lg={2} />\r\n\t\t\t<Grid item xs={9} sm={9} md={10} lg={10} align=\"left\" >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{props.userRecord.addr1}</Typography>\r\n\t\t\t\t{(props.userRecord.addr2 !== \"-\") &&\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{props.userRecord.addr2}</Typography>\r\n\t\t\t\t}\r\n\t\t\t\t{(props.userRecord.addr3 !== \"-\") &&\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{props.userRecord.addr3}</Typography>\r\n\t\t\t\t}\r\n\t\t\t\t{(props.userRecord.addr4 !== \"-\") &&\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{props.userRecord.addr4}</Typography>\r\n\t\t\t\t}\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={12} align=\"left\" />\r\n\t\t</Grid>\r\n\t\t<br />\r\n\t\t<br />\r\n\t\t</div>\r\n\t)}\r\n\r\n\r\n\tfunction DisplayAllToolTips() {\r\n\treturn(\r\n\t\t<div>\r\n\t\t{facultyArray.map( t =>\r\n\t\t\t<DisplaySingleTip id={\"USER\"+t.uid} />\r\n\t\t)}\r\n\t\t</div>\r\n\t)}\r\n\r\n\tfunction DisplaySingleTip(props) {\r\n\t\treturn null; //<Tooltip className={gClasses.tooltip} backgroundColor='#42EEF9' borderColor='black' arrowColor='blue' textColor='black' key={props.id} type=\"info\" effect=\"float\" id={props.id} multiline={true}/>\r\n\t}\r\n\t\r\n\t\r\n\t\t\r\n\tfunction handleDisableFaculty(t) {\r\n\t\tvsDialog(\"Disable Faculty\", `Are you sure you want disable faculty ${mergedName(t.name, t.fid)}?`,\r\n\t\t\t{label: \"Yes\", onClick: () => handleDisableFacultyConfirm(t) },\r\n\t\t\t{label: \"No\" }\r\n\t\t);\r\n\t}\r\n\r\n\tasync function handleDisableFacultyConfirm(x) {\r\n\t\tlet myRec = masterFacultyArray.find(rrr => rrr.fid === x.fid);\r\n\t\tif (myRec.batchCount > 0) {\r\n\t\t\tshowError(`Faculty ${myRec.name} has ${myRec.batchCount} batches in progress.`);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tawait axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/faculty/disabled/${myRec.fid}`);\r\n\t\t\tmyRec.enabled = false;\r\n\t\t\tvar allRec  = [].concat(masterFacultyArray)\r\n\t\t\tsetMasterFacultyArray(allRec);\r\n\t\t\tfilterFaculty(allRec, currentSelection);\r\n\t\t\tshowSuccess(`Disabled Faculty ${mergedName( myRec.name, myRec.fid)}`);\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\t// error \r\n\t\t\tconsole.log(e);\r\n\t\t\tshowError(\"Error disabling faculty \"+x.name);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction handleEnableFaculty(t) {\r\n\t\tvsDialog(\"Enable Faculty\", `Are you sure you want enable faculty ${mergedName(t.name, t.fid)}?`,\r\n\t\t\t{label: \"Yes\", onClick: () => handleEnableFacultyConfirm(t) },\r\n\t\t\t{label: \"No\" }\r\n\t\t);\r\n\t}\r\n\r\n\tasync function handleEnableFacultyConfirm(x) {\r\n\t\tlet myRec = masterFacultyArray.find(rrr => rrr.fid === x.fid);\r\n\t\ttry {\r\n\t\t\tawait axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/faculty/enabled/${myRec.fid}`);\r\n\t\t\tmyRec.enabled = true;\r\n\t\t\tvar allRec  = [].concat(masterFacultyArray);\r\n\t\t\tsetMasterFacultyArray(allRec);\r\n\t\t\tfilterFaculty(allRec, currentSelection);\r\n\t\t\tshowSuccess(`Enabled Faculty ${mergedName( myRec.name, myRec.fid)}`);\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\t// error \r\n\t\t\tconsole.log(e);\r\n\t\t\tshowError(\"Error disabling faculty \"+x.name);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction DisplayAllFaculty() {\r\n\t\t//console.log(dispType);\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t<Table  align=\"center\">\r\n\t\t\t<TableHead p={0}>\r\n\t\t\t<TableRow key=\"header\" align=\"center\">\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Faculty</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Batch</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Hours</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\"></TableCell>\r\n\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t\t<TableBody p={0}>\r\n\t\t\t\t{facultyArray.map(x => {\r\n\t\t\t\t\tlet myInfo = \"Address\" + \"<br />\";\r\n\t\t\t\t\t\tmyInfo +=  x.addr1 + \"<br />\";\r\n\t\t\t\t\t\tmyInfo +=  x.addr2 + \"<br />\";\r\n\t\t\t\t\t\tmyInfo +=  x.addr3 + \"<br />\";\r\n\t\t\t\t\t\tmyInfo +=  x.addr4 + \"<br />\";\r\n\t\t\t\t\t\t//console.log(x);\r\n\t\t\t\t\t\tvar myClasses = (x.enabled) ? gClasses.td : gClasses.disabledtd;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t<TableRow key={x.fid}>\r\n\t\t\t\t\t\t<TableCell align=\"center\" className={myClasses} p={0} >{mergedName(x.name, x.fid)}</TableCell>\r\n\t\t\t\t\t\t<TableCell align=\"center\" className={myClasses} p={0} >{x.batchCount}</TableCell>\r\n\t\t\t\t\t\t<TableCell align=\"center\" className={myClasses} p={0} >{x.hours}</TableCell>\r\n\t\t\t\t\t\t<TableCell className={myClasses} p={0} >\r\n\t\t\t\t\t\t\t<IconButton disabled={!x.enabled} color=\"primary\" size=\"small\" onClick={() => {handleEdit(x)}}  ><EditIcon /></IconButton>\r\n\t\t\t\t\t\t\t<IconButton disabled={!x.enabled} color=\"primary\" size=\"small\" onClick={() => {handleInfo(x)}} ><InfoIcon /></IconButton>\r\n\t\t\t\t\t\t\t{(x.enabled) &&\r\n\t\t\t\t\t\t\t\t<IconButton  disabled={x.batchCount > 0} color=\"primary\" size=\"small\" onClick={() => {handleDisableFaculty(x)}} ><IndeterminateCheckBoxIcon  /></IconButton>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{(!x.enabled) &&\r\n\t\t\t\t\t\t\t\t<IconButton color=\"primary\" size=\"small\" onClick={() => {handleEnableFaculty(x)}} ><CheckBoxIcon /></IconButton>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t<IconButton color=\"primary\" disabled={!x.enabled} size=\"small\" onClick={() => {handleFacultySchedule(x)}} ><TableChartSharpIcon /></IconButton>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t</TableRow>\r\n\t\t\t\t)})}\r\n\t\t\t</TableBody>\r\n\t\t\t</Table>\r\n\t\t</div>\r\n\t\t);\r\n\r\n\t}\r\n\t\r\n\tfunction filterFaculty(masterArray, x) {\r\n\t\tswitch (x) {\r\n\t\t\tcase \"Disabled\":  setFacultyArray(masterArray.filter(x => !x.enabled ));  break;\r\n\t\t\tcase \"Enabled\":   setFacultyArray(masterArray.filter(x => x.enabled ));  break;\r\n\t\t\tdefault:          setFacultyArray(masterArray);  break;\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction selectAll(x) {\r\n\t\tsetCurrentSelection(x);\r\n\t\tfilterFaculty(masterFacultyArray, x);\r\n\t}\r\n\t\r\n\t// style={{marginTop: \"5px\" }}  \r\n\tfunction DisplayOptions() {\r\n\treturn (\r\n\t<Grid key=\"Options\" className={gClasses.noPadding} container alignItems=\"center\" >\r\n\t\t<Grid  item xs={3} sm={2} md={2} lg={1} >\r\n\t\t\t<VsSelect size=\"small\" align=\"center\" label=\"Selection\" options={ALLSELECTIONS} value={currentSelection} onChange={(event) => { selectAll(event.target.value)}} />\r\n\t\t</Grid>\r\n\t\t<Grid align=\"left\"  item xs={6} sm={7} md={8} lg={10} >\r\n\t\t\t<span></span>\r\n\t\t</Grid>\r\n\t\t<Grid  item xs={3} sm={3} md={2} lg={1} >\r\n\t\t\t<VsButton disabled={!isAdmMan()} name=\"New Faculty\" align=\"right\" onClick={handleAdd} />\r\n\t\t</Grid>\r\n\t</Grid>\r\n\t)}\r\n\t\t\r\n\t\treturn (\r\n\t\t<div>\r\n\t\t\t<DisplayPageHeader headerName=\"Faculty\" groupName=\"\" tournament=\"\" />\r\n\t\t\t<DisplayOptions />\r\n\t\t\t<DisplayAllFaculty/>\r\n\t\t\t{/*<DisplayAllToolTips />*/}\r\n\t\t\t<Drawer anchor=\"right\" variant=\"temporary\" open={drawer !== \"\"}>\r\n\t\t\t<Box margin={1} className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t\t\t<VsCancel align=\"right\" onClick={() => { setDrawer(\"\")}} />\r\n\t\t\t\t<ValidatorForm margin={2} align=\"center\" className={gClasses.form} onSubmit={handleAddEditSubmit}>\r\n\t\t\t\t\t<Typography className={gClasses.title}>{drawer+\" Faculty \"}</Typography>\t\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextValidator enable={(drawer == \"New\") ? \"true\" : \"false\"}  variant=\"outlined\" required fullWidth id=\"userName\" label=\"User Name\" name=\"username\"\r\n\t\t\t\t\t\tvalidators={['required', 'minLength', 'noSpecialCharacters']}\r\n\t\t\t\t\t\terrorMessages={['User Name to be provided', 'Mimumum 6 characters required', ]}\r\n\t\t\t\t\t\tvalue={userName} onChange={() => { setUserName(event.target.value) }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<BlankArea/>\r\n\t\t\t\t\t{/*<VsSelect fullWidth align=\"center\" label=\"Role\" options={ALLROLES} value={role} onChange={(event) => { setRole(event.target.value)}} />*/}\r\n\t\t\t\t\t<BlankArea/>\r\n\t\t\t\t\t<TextValidator variant=\"outlined\" required fullWidth id=\"emaild\" label=\"Email\" name=\"Email\"\r\n\t\t\t\t\t\tvalidators={['isEmailOK', 'required']}\r\n\t\t\t\t\t\terrorMessages={['Invalid Email', 'Email to be provided']}\r\n\t\t\t\t\t\tvalue={email} onChange={(event) => setEmail(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<BlankArea/>\r\n\t\t\t\t\t<TextValidator variant=\"outlined\" required fullWidth label=\"Mobile\" name=\"mobile\"\r\n\t\t\t\t\t\tvalidators={['required', 'mobile']}\r\n\t\t\t\t\t\terrorMessages={[, 'Mobile to be provided', '10 digit mobile number required']}\r\n\t\t\t\t\t\tvalue={mobile} onChange={(event) => setMobile(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextValidator variant=\"outlined\" required fullWidth label=\"Password\" name=\"password\"\r\n\t\t\t\t\t\tvalidators={['required', 'minLength', 'noSpecialCharacters']}\r\n\t\t\t\t\t\terrorMessages={['Password to be provided', 'Mimumum 6 characters required', ]}\r\n\t\t\t\t\t\tvalue={password} onChange={(event) => setPassword(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextValidator variant=\"outlined\" required fullWidth label=\"Address 1\" name=\"Addr1\"\r\n\t\t\t\t\t\tvalidators={['required']}\r\n\t\t\t\t\t\terrorMessages={['Addres line 1 to be provided']}\r\n\t\t\t\t\t\tvalue={area1} onChange={(event) => setArea1(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextValidator variant=\"outlined\"  fullWidth label=\"Address 2\" name=\"Addr2\"\r\n\t\t\t\t\t\tvalue={area2} onChange={(event) => setArea2(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextValidator variant=\"outlined\"  fullWidth label=\"Address 3\" name=\"Addr3\"\r\n\t\t\t\t\t\tvalue={area3} onChange={(event) => setArea3(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextValidator variant=\"outlined\"  fullWidth label=\"Address 4\" name=\"Addr4\"\r\n\t\t\t\t\t\tvalue={area4} onChange={(event) => setArea4(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<ShowResisterStatus />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<VsButton name={(drawer == \"New\") ? \"Add Faculty\" : \"Update Faculty\"} />\r\n\t\t\t\t</ValidatorForm>\r\n\t\t\t\t<ValidComp p1={password}/>   \r\n\t\t\t</Box>\r\n\t\t\t</Drawer>\r\n\t\t\t<Drawer anchor=\"top\" variant=\"temporary\" open={drawerDetail !== \"\"}>\r\n\t\t\t\t<VsCancel align=\"right\" onClick={() => { setDrawerDetail(\"\")}} />\r\n\t\t\t\t{(drawerDetail === \"FACULTYSCHEDULE\") &&\r\n\t\t\t\t\t<FacultySchedule faculty={facultyInfo} all={showAll} />\r\n\t\t\t\t}\r\n\t\t\t</Drawer>\r\n\t\t\t<Drawer anchor=\"bottom\" variant=\"temporary\" open={drawerInfo !== \"\"}>\r\n\t\t\t<Container component=\"main\" maxWidth=\"xs\">\r\n\t\t\t<Box margin={1} className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} paddingLeft={2} >\r\n\t\t\t\t<DisplayPageHeader headerName=\"Faculty Details\" groupName=\"\" tournament=\"\" />\r\n\t\t\t\t<VsCancel align=\"right\" onClick={() => { setDrawerInfo(\"\")}} />\r\n\t\t\t\t<br />\r\n\t\t\t\t<DisplayFacultyInfo facultyRecord={facultyRec} userRecord={userRec} />\r\n\t\t\t</Box>\r\n\t\t\t</Container>\r\n\t\t\t</Drawer>\t\t\t\r\n\t\t\t<ToastContainer />\r\n\t\t</div>\r\n\t\t)\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { TextareaAutosize } from '@material-ui/core';\r\n// import { Switch, Route, Link } from 'react-router-dom';\r\nimport { ValidatorForm, TextValidator, TextValidatorcvariant} from 'react-material-ui-form-validator';\r\nimport Drawer from '@material-ui/core/Drawer';\r\n//import Tooltip from \"react-tooltip\";\r\n//import ReactTooltip from 'react-tooltip'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport BlueRadio from 'components/Radio/BlueRadio';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport { JumpButton, DisplayPageHeader, ValidComp, BlankArea} from 'CustomComponents/CustomComponents.js';\r\n\r\nimport lodashSortBy from \"lodash/sortBy\";\r\n\r\nimport Datetime from \"react-datetime\";\r\nimport \"react-datetime/css/react-datetime.css\";\r\n\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport IndeterminateCheckBoxIcon from '@material-ui/icons/IndeterminateCheckBox';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n\r\n//import { NoGroup, JumpButton, DisplayPageHeader, MessageToUser } from 'CustomComponents/CustomComponents.js';\r\nimport { isMobile, getWindowDimensions, displayType, decrypt, encrypt } from 'views/functions';\r\n\r\nimport globalStyles from \"assets/globalStyles\";\r\n\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\n\r\nimport VsButton from \"CustomComponents/VsButton\"; \r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\nimport VsSelect from \"CustomComponents/VsSelect\";\r\nimport VsRadio from \"CustomComponents/VsRadio\";\r\nimport VsCheckBox from \"CustomComponents/VsCheckBox\";\r\n\r\n\r\n\r\nimport {\r\n\tROLE_FACULTY , ROLE_STUDENT,\r\n\tALLSELECTIONS, BLANKCHAR,\r\n\tNOFRACTION,\r\n\tSHORTWEEKSTR, HOURBLOCKSTR, MINUTEBLOCKSTR, SESSIONHOURSTR,\r\n\tSTATUS_INFO,\r\n\tMAXDISPLAYTEXTROWS,\r\n} from 'views/globals';\r\n\r\nimport {\r\n\tmergedName, getCodeFromMergedName, getNameFromMergedName,\r\n\tdisablePastDt, disableFutureDt,\r\n\tshowError, showSuccess, showInfo,\r\n} from 'views/functions';\r\n\r\n\r\n\r\nexport default function SessionAddEdit(props) {\r\n\t//const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\r\n\t\r\n\tconst [origSessionRec, setOrigSessionRec] = useState(null);\r\n\tconst [origBatchRec, setOrigBatchRec] = useState(null);\r\n\tconst [origBid, setOrigBid] = useState(\"\");\r\n\tconst [returnPath, setReturnPath] = useState(process.env.REACT_APP_BATCH);\r\n\r\n\tconst [cbArray, setCbArray] = useState(Array(25).fill(true));\r\n\tconst [sessionDate, setSessionDate] = useState(new Date());\r\n\t\r\n\tconst [studentArray, setStudentArray] = useState([]);\r\n\tconst [sessionNumber, setSessionNumber] = useState(\"NEW\");\r\n\tconst [myNotes, setMyNotes] = useState(\"\");\r\n\r\n\tconst [newFaculty, setNewFaculty] = useState(\"\");\r\n\r\n\t//const [drawer, setDrawer] = useState(\"\");\r\n\r\n\tconst [registerStatus, setRegisterStatus] = useState(0);\r\n\t\r\n\tconst [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\tconst [dispType, setDispType] = useState(\"lg\");\r\n\r\n\tuseEffect(() => {\r\n\t\tfunction handleResize() {\r\n\t\t\tlet myDim = getWindowDimensions();\r\n      setWindowDimensions(myDim);\r\n\t\t\t//let myRows = 0;\r\n\t\t\tlet defHeight = 100;\r\n      //console.log(displayType(myDim.width)) ;\r\n      setDispType(displayType(myDim.width));\r\n     \r\n\t\t\t//switch (displayType(myDim.width)) {\r\n\t\t\t//\tcase 'xs': myRows = 10; break;\r\n\t\t\t//\tcase 'sm': myRows = 24; break;\r\n\t\t\t//\tcase 'md': myRows = 36; break;\r\n\t\t\t//\tcase 'lg': myRows = 48; break;\r\n\t\t\t//}\r\n\t\t\t//console.log(myRows);\r\n\t\t\t//setROWSPERPAGE(myRows);\r\n\t\t}\r\n\r\n\t\tasync function getAllStudents(sidList) {\r\n\t\t\ttry {\r\n\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/student/list/selected/${sidList}`;\r\n\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\t//console.log(response.data);\r\n\t\t\t\tsetStudentArray(response.data);\r\n\t\t\t\tvar filledArray = Array(response.data.length).fill(true);\r\n\t\t\t\tsetCbArray(filledArray);\r\n\t\t\t\t\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tshowError(\"Error Fetching Studnets\");\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//console.log(props.batchRec)\r\n\t\t//console.log(props.sessionRec)\r\n\t\tsetOrigBatchRec(props.batchRec);\r\n\t\tsetOrigBid(props.batchRec.bid);\r\n\t\tsetOrigSessionRec(props.sessionRec);\t\t\r\n\t\tgetAllStudents(props.batchRec.sid);\r\n\t\t\r\n\t\tif (props.mode === \"EDIT\") {\r\n\t\t\tconsole.log(props.sessionRec.sessionDate);\r\n\t\t\tsetSessionDate(new Date(props.sessionRec.sessionDate));\r\n\t\t\tsetMyNotes(props.sessionRec.remarks);\r\n\t\t\tvar tmpCbArray = [];\r\n\t\t\tfor(var i=0; i<props.sessionRec.sidList.length; ++i) {\r\n\t\t\t\ttmpCbArray.push((props.sessionRec.attendedSidList.includes(props.sessionRec.sidList[i])) ? true : false);\r\n\t\t\t}\r\n\t\t\tsetCbArray(tmpCbArray);\r\n\t\t}\r\n\t\t\r\n\t\thandleResize();\r\n\t\twindow.addEventListener('resize', handleResize);\r\n\t}, [])\r\n\r\n// function handleTimer() {}\r\n\r\nfunction mainCancel() {\r\n\tvar batchInfo = {inUse: true, status: STATUS_INFO.CANCEL, msg: \"\", record: null };\r\n\tsessionStorage.setItem(\"batchInfo\", JSON.stringify(batchInfo));\r\n\tsetTab(process.env.REACT_APP_BATCH);\r\n}\r\n\r\nfunction ShowResisterStatus() {\r\n\t\t\t//console.log(`Status is ${registerStatus}`);\r\n\t\t\tlet myMsg;\r\n\t\t\tlet errmsg = true;\r\n\t\t\tswitch (registerStatus) {\r\n\t\t\t\tcase 200:\r\n\t\t\t\t\tmyMsg = \"Successfully updated Captain / ViceCaptain details\";\r\n\t\t\t\t\terrmsg = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tmyMsg = \"\";\r\n\t\t\t\t\terrmsg = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase -1:\r\n\t\t\t\t\tmyMsg = \"Area Code cannot be blank\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase -2:\r\n\t\t\t\t\tmyMsg = `Area Code cannot be more than ${MAXAREACODELENGTH} characters`;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase -3:\r\n\t\t\t\t\tmyMsg = \"Area code already in use\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase -4:\r\n\t\t\t\t\tmyMsg = \"Area description cannot be blank\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 501:\r\n\t\t\t\t\tmyMsg = \"Student name is blank\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 502:\r\n\t\t\t\t\tmyMsg = \"Duplicate entry of student in Batch\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 511:\r\n\t\t\t\t\tmyMsg = \"Duplicate entry of session in Batch\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 521:\r\n\t\t\t\t\tmyMsg = \"No students selected in Batch\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 522:\r\n\t\t\t\t\tmyMsg = \"No sessions selected in Batch\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tmyMsg = \"Error updating Captain / ViceCaptain details\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t//console.log(errmsg, registerStatus);\r\n\t\t\tlet myClass = (errmsg) ? gClasses.error : gClasses.nonerror;\r\n\t\t\treturn(\r\n\t\t\t\t<div align=\"center\">\r\n\t\t\t\t\t<Typography align=\"center\" className={myClass}>{myMsg}</Typography>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\nasync function handleAddEditSubmit() {\r\n\r\n\tvar tmpattend = cbArray.filter(x => x === true);\r\n\tif \t(tmpattend.length === 0) {\r\n\t\tshowError(\"Minimum 1 student has to be present for the session\");\r\n\t\treturn;\r\n\t}\r\n\t// luckily no validation required\r\n\tvar myData = {};\r\n\t//console.log(origBatchRec)\r\n\tmyData[\"sessionId\"] = (props.mode === \"EDIT\") ? origSessionRec._id : \"\";\r\n\tmyData[\"batchData\"] = origBatchRec;\r\n\tmyData[\"remarks\"] = myNotes;\r\n\tmyData[\"sessionDate\"] = sessionDate;\r\n\tvar attendanceSid = [];\r\n\tfor(var i=0; i<origBatchRec.sid.length; ++i) {\r\n\t\t//if (cbArray[i]) attendanceSid.push(origBatchRec.sid[i]);\r\n\t\tattendanceSid.push(origBatchRec.sid[i]);\t\t\t// mark all as present\r\n\t}\r\n\t//console.log(attendanceSid);\r\n\tmyData[\"attendanceList\"] = attendanceSid;\r\n\t//console.log(myData);\r\n\t\r\n\tvar myJsonData = JSON.stringify(myData);\r\n\tvar finalData = encodeURI(myJsonData);\r\n\r\n\t//var batchRec;\r\n\ttry {\r\n\t\tif (props.mode == \"ADD\") {\r\n\t\t// for add new batch\r\n\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/session/add/${finalData}`;\r\n\t\t\tvar response = await axios.get(myUrl);\r\n\t\t\tprops.onReturn.call(this, {status: STATUS_INFO.SUCCESS, sessionRec: response.data, msg: `Successfully added session of batch ${response.data.bid}.`});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// for edit user\r\n\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/session/update/${finalData}`;\t\r\n\t\t\tvar response = await axios.get(myUrl);\r\n\t\t\tprops.onReturn.call(this, {status: STATUS_INFO.SUCCESS, sessionRec: response.data, msg: `Successfully update session of batch ${response.data.bid}.`});\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\tcatch (e) {\r\n\t\tconsole.log(e);\r\n\t\tprops.onReturn.call(this, {status: STATUS_INFO.SUCCESS, msg: \"Error adding/updating session.\", record: null });\r\n\t\treturn;\r\n\t}\r\n\tsetTab(returnPath)\r\n}\r\n\r\n\r\nfunction handleSessionDate(d) {\r\n\tsetSessionDate(d.toDate());\r\n}\r\n\r\n\r\nfunction handlePresentAbsent(idx, state) {\r\n\t//console.log(cbArray);\r\n\tvar tmp =[].concat(cbArray);\r\n\ttmp[idx] = state;\r\n\tsetCbArray(tmp);\r\n\t//console.log(tmp);\r\n}\r\n\r\n\r\n\t//console.log(\"sess\", sessionDate);\r\n\treturn (\r\n\t<div align=\"center\">\r\n\t\t<DisplayPageHeader headerName={(props.mode == \"ADD\") ? `Add session of batch ${origBid}` : `Edit Session`} groupName=\"\" tournament=\"\" />\r\n\t\t<br />\r\n\t\t<ValidatorForm margin={2} align=\"center\" className={gClasses.form} onSubmit={handleAddEditSubmit}  >\r\n\t\t<Grid key=\"ADDEDITBATCH\" className={gClasses.noPadding} container alignItems=\"flex-start\" >\r\n\t\t\t{((dispType == \"md\") || (dispType == \"lg\")) &&\r\n\t\t\t\t<Grid item xs={6} sm={6} md={3} lg={5} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={6} sm={6} md={3} lg={1} >\r\n\t\t\t\t<Typography className={gClasses.info18Blue} >Session Date</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={6} sm={6} md={3} lg={1} >\r\n\t\t\t\t<Datetime \r\n\t\t\t\t\tclassName={gClasses.dateTimeBlock}\r\n\t\t\t\t\tinputProps={{className: gClasses.dateTimeNormal}}\r\n\t\t\t\t\ttimeFormat={false} \r\n\t\t\t\t\tvalue={sessionDate}\r\n\t\t\t\t\tdateFormat=\"DD/MM/yyyy\"\r\n\t\t\t\t\tisValidDate={disableFutureDt}\r\n\t\t\t\t\tonClose={handleSessionDate}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t{((dispType == \"md\") || (dispType == \"lg\")) &&\r\n\t\t\t\t<Grid item xs={6} sm={6} md={3} lg={5} />\r\n\t\t\t}\r\n\t\t\t<Grid style={{margin: \"10px\"}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t\t{/*\r\n\t\t\t{((dispType == \"md\") || (dispType == \"lg\")) &&\r\n\t\t\t\t<Grid item xs={6} sm={6} md={4} lg={4} />\r\n\t\t\t}\t\t\t\t\r\n\t\t\t<Grid style={{margin: \"10px\"}} item xs={12} sm={12} md={4} lg={4} >\r\n\t\t\t\t<Typography className={gClasses.info18Blue}>Students Attendance</Typography>\r\n\t\t\t\t<Table  align=\"center\">\r\n\t\t\t\t<TableHead p={0}>\r\n\t\t\t\t<TableRow key=\"header\" align=\"center\">\r\n\t\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Student</TableCell>\r\n\t\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Attended</TableCell>\r\n\t\t\t\t</TableRow>\r\n\t\t\t\t</TableHead>\r\n\t\t\t\t<TableBody p={0}>\r\n\t\t\t\t\t{studentArray.map( (x, idx)  => {\r\n\t\t\t\t\t\t\tvar myClasses = gClasses.td;\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<TableRow key={x.sid} align=\"center\">\r\n\t\t\t\t\t\t\t<TableCell align=\"center\" className={myClasses} p={0} >{mergedName(x.name, x.sid)}</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align=\"center\" className={myClasses} p={0} >\r\n\t\t\t\t\t\t\t\t<VsCheckBox align=\"center\" checked={cbArray[idx]} onClick={() => handlePresentAbsent(idx, event.target.checked)} /> \r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t)})}\r\n\t\t\t\t</TableBody>\r\n\t\t\t\t</Table>\r\n\t\t\t</Grid>\r\n\t\t\t{((dispType == \"md\") || (dispType == \"lg\")) &&\r\n\t\t\t\t<Grid item xs={6} sm={6} md={4} lg={4} />\r\n\t\t\t}\t\r\n\t\t\t<Grid style={{margin: \"10px\"}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t*/}\r\n\t\t\t{((dispType == \"md\") || (dispType == \"lg\")) &&\r\n\t\t\t\t<Grid item xs={6} sm={6} md={4} lg={4} />\r\n\t\t\t}\t\r\n\t\t\t<Grid item xs={12} sm={12} md={4} lg={4} >\r\n\t\t\t\t<Typography className={gClasses.info18Blue}>Remarks</Typography>\r\n\t\t\t\t<TextareaAutosize maxRows={MAXDISPLAYTEXTROWS} className={gClasses.textAreaFixed}  value={myNotes} onChange={() => {setMyNotes(event.target.value)}} />\r\n\t\t\t</Grid>\r\n\t\t\t{((dispType == \"md\") || (dispType == \"lg\")) &&\r\n\t\t\t\t<Grid item xs={6} sm={6} md={4} lg={4} />\r\n\t\t\t}\t\r\n\t\t\t<Grid style={{margin: \"10px\"}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t<ShowResisterStatus />\r\n\t\t\t<Grid item xs={3} sm={3} md={4} lg={5} />\r\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t\t<VsButton type=\"submit\" name={(props.mode == \"EDIT\") ? \"Update Session\" : \"Add Session\"} />\r\n\t\t\t</Grid>\r\n\t\t\t{/*<Grid  item xs={3} sm={3} md={2} lg={1} >\r\n\t\t\t\t<VsButton disabled={true} type=\"button\" name=\"Cancel\" onClick={mainCancel}/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={3} sm={3} md={4} lg={5} />*/}\r\n\t\t</Grid>\r\n\t\t</ValidatorForm>\r\n\t\t<ValidComp />   \r\n\t\t<ToastContainer />\r\n\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n// import { Switch, Route, Link } from 'react-router-dom';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport { TextareaAutosize, TextField } from '@material-ui/core';\r\nimport Container from '@material-ui/core/Container';\r\nimport Drawer from '@material-ui/core/Drawer';\r\n//import Tooltip from \"react-tooltip\";\r\n//import ReactTooltip from 'react-tooltip'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport BlueRadio from 'components/Radio/BlueRadio';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport { JumpButton, DisplayPageHeader, ValidComp, BlankArea} from 'CustomComponents/CustomComponents.js';\r\n\r\nimport lodashSortBy from \"lodash/sortBy\";\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport IndeterminateCheckBoxIcon from '@material-ui/icons/IndeterminateCheckBox';\r\nimport FilterSharpIcon from '@material-ui/icons/FilterSharp';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport SchoolIcon from '@material-ui/icons/School';\r\n\r\nconst STUDENT_DETAILS_REQUIRED = false;\r\n\r\nimport SessionAddEdit\t from \"views/Session/SessionAddEdit\"\r\n\r\nimport { \r\n\tisMobile, getWindowDimensions, displayType, decrypt, encrypt,\r\n\tisAdmin, isAdmMan, isAdmManFac, isStudent, isFaculty,\r\n\tmergedName,\r\n\tvsDialog,\r\n\tshowError, showSuccess, showInfo,\r\n} from 'views/functions';\r\n\r\n\r\n\r\nimport {\r\n\t\tFILTER_NONE,\r\n\t\tSTATUS_INFO,\r\n} from 'views/globals';\r\n\r\n\r\nimport globalStyles from \"assets/globalStyles\";\r\n\r\nimport VsButton from \"CustomComponents/VsButton\"; \r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\nimport VsSelect from \"CustomComponents/VsSelect\";\r\n//import VsRadio from \"CustomComponents/VsRadio\";\r\n\r\n//const ALLROLES = [\"Student\", \"Faculty\", \"Admin\"];\r\n\r\nconst ALLSELCTIONS = [\"Enabled\", \"Disabled\", \"All\"];\r\n\r\nconst BLANKCHAR = \"-\";\r\n\r\n//var props.mode = \"ADD\";\r\nconst spacing = \"5px\"\r\n\r\n\r\nexport default function Student() {\r\n\t//const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\t\r\n\t\r\n\tconst [currentSelection, setCurrentSelection] = useState(ALLSELCTIONS[0]);\r\n\t\r\n\tconst [studentArray, setStudentArray] = useState([]);\r\n\tconst [masterStudentArray, setMasterStudentArray] = useState([]);\r\n\tconst [custFilter, setCustFilter] = useState({status: \"Enabled\"});\r\n\tconst [filterDisplayData, setFilterDisplayData] = useState([]);\r\n\t\r\n\tconst [batchRec, setBatchRec] = useState({});\r\n\t\r\n\tconst [userName, setUserName] = useState(\"\");\r\n\tconst [email, setEmail] = useState(\"\");\r\n\tconst [mobile, setMobile] = useState(\"\");\r\n\tconst [studentRec, setStudentRec] = useState(null);\r\n\tconst [userRec, setUserRec] = useState(null);\r\n\tconst [password, setPassword] = useState(\"\");\r\n\tconst [role, setRole] = useState(\"Student\");\r\n\tconst [area1, setArea1] = useState(\"\");\r\n\tconst [area2, setArea2] = useState(\"\");\r\n\tconst [area3, setArea3] = useState(\"\");\r\n\tconst [area4, setArea4] = useState(\"\");\r\n\tconst [parentName, setParentName] = useState(\"\");\r\n\tconst [parentMobile, setParentMobile] = useState(\"\");\r\n\t\r\n\tconst [areaCode, setAreaCode] = useState(\"\");\r\n\tconst [areaDesc, setAreaDesc] = useState(\"\");\r\n\t\r\n\tconst [drawerAddEdit, setDrawerAddEdit] = useState(\"\");\r\n\tconst [drawerInfo, setDrawerInfo] = useState(\"\");\r\n\tconst [drawer, setDrawer] = useState(\"\");\r\n\tconst [drawerFilter, setDrawerFilter] = useState(\"\");\r\n\t\r\n\tconst [filterName,   setFilterName] = useState(\"\");\r\n\tconst [filterBatch, setFilterBatch] = useState(\"\");\r\n\tconst [filterStatus, setFilterStatus] = useState(\"Enabled\");\r\n\t\r\n\tconst [registerStatus, setRegisterStatus] = useState(0);\r\n\t\r\n\tconst [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\tconst [dispType, setDispType] = useState(\"lg\");\r\n\r\n\tuseEffect(() => {\r\n\t\tfunction handleResize() {\r\n\t\t\tlet myDim = getWindowDimensions();\r\n      setWindowDimensions(myDim);\r\n\t\t\t//let myRows = 0;\r\n\t\t\tlet defHeight = 100;\r\n      //console.log(displayType(myDim.width)) ;\r\n      setDispType(displayType(myDim.width));\r\n     \r\n\t\t\t//switch (displayType(myDim.width)) {\r\n\t\t\t//\tcase 'xs': myRows = 10; break;\r\n\t\t\t//\tcase 'sm': myRows = 24; break;\r\n\t\t\t//\tcase 'md': myRows = 36; break;\r\n\t\t\t//\tcase 'lg': myRows = 48; break;\r\n\t\t\t//}\r\n\t\t\t//console.log(myRows);\r\n\t\t\t//setROWSPERPAGE(myRows);\r\n\t\t}\r\n\t\t//console.log(firsTime);\r\n\t\tasync function getAllStudent() {\r\n\t\t\ttry {\r\n\t\t\t\tif ( isAdmMan() ) { \r\n\t\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/student/list/all`;\r\n\t\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\t\t//console.log(response.data);\r\n\t\t\t\t\tsetStudentArray(response.data);\r\n\t\t\t\t\tsetFilter(response.data, custFilter);\t\r\n\t\t\t\t\tsetMasterStudentArray(response.data);\r\n\t\t\t\t}\r\n\t\t\t\telse if ( isFaculty() ) {\r\n\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/student/byfacultyuid/${sessionStorage.getItem(\"uid\")}`;\r\n\t\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\t\t//console.log(response.data);\r\n\t\t\t\t\tsetStudentArray(response.data);\r\n\t\t\t\t\tsetFilter(response.data, custFilter);\t\r\n\t\t\t\t\tsetMasterStudentArray(response.data);\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\tgetAllStudent();\r\n\t\thandleResize();\r\n\t\twindow.addEventListener('resize', handleResize);\r\n\t}, [])\r\n\r\n\t// function handleTimer() {}\r\n\r\n\tfunction ShowResisterStatus() {\r\n        // console.log(`Status is ${registerStatus}`);\r\n        let myMsg;\r\n        let errmsg = true;\r\n        switch (registerStatus) {\r\n          case 200:\r\n            myMsg = \"Successfully updated Captain / ViceCaptain details\";\r\n            errmsg = false;\r\n            break;\r\n          case 0:\r\n            myMsg = \"\";\r\n\t\t\t\t\t\terrmsg = false;\r\n            break;\r\n          case -1:\r\n            myMsg = \"Area Code cannot be blank\";\r\n            break;\r\n          case -2:\r\n            myMsg = `Area Code cannot be more than ${MAXAREACODELENGTH} characters`;\r\n            break;\r\n          case -3:\r\n            myMsg = \"Area code already in use\";\r\n            break;\r\n          case -4:\r\n            myMsg = \"Area description cannot be blank\";\r\n            break;\r\n          default:\r\n            myMsg = \"Error updating Captain / ViceCaptain details\";\r\n            break;\r\n        }\r\n\t\t\t\t//console.log(errmsg, registerStatus);\r\n\t\t\t\tif (errmsg)\r\n\t\t\t\t\tshowError(myMsg);\r\n\r\n        let myClass = (errmsg) ? gClasses.error : gClasses.nonerror;\r\n\t\t\t\treturn null;\r\n        return(\r\n          <div>\r\n            <Typography align=\"center\" className={myClass}>{myMsg}</Typography>\r\n          </div>\r\n        );\r\n      }\r\n\r\n  async function handleAddEditSubmit() {\r\n\t\t//console.log(\"Add / Edit User\");\r\n\t\tvar response;\r\n\t\tvar a1 = (area1 !== \"\") ? area1 : BLANKCHAR;\r\n\t\tvar a2 = (area2 !== \"\") ? area2 : BLANKCHAR;\r\n\t\tvar a3 = (area3 !== \"\") ? area3 : BLANKCHAR;\r\n\t\tvar a4 = (area4 !== \"\") ? area4 : BLANKCHAR;\r\n\t\tvar pName = (parentName !== \"\") ? parentName : BLANKCHAR;\r\n\t\tvar pMob = (parentMobile !== \"\") ? parentMobile : BLANKCHAR;\r\n\t\tvar pwd = (password !== \"\") ? password : BLANKCHAR; \r\n\t\tvar em = (email !== \"\") ? email : BLANKCHAR; \r\n\t\tvar mob = (mobile !== \"\") ? mobile : BLANKCHAR; \r\n\t\t\r\n\t\ttry {\r\n\t\t\tif (studentRec == null) {\r\n\t\t\t// for add new user\r\n\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/student/add/${userName}/${encrypt(pwd)}/${encrypt(em)}/${mob}/${a1}/${a2}/${a3}/${a4}/${pName}/${pMob}`;\r\n\t\t\t\t//console.log(myUrl);\r\n\t\t\t\tvar response = await axios.get(myUrl);\r\n\t\t\t\t//console.log(\"axios done\", response.data);\r\n\t\t\t\tvar tmp = masterStudentArray.concat([response.data]);\r\n\t\t\t\ttmp = lodashSortBy(tmp, 'name');\r\n\t\t\t\tsetMasterStudentArray(tmp);\r\n\t\t\t\t//filterStudent(tmp, currentSelection);\r\n\t\t\t\tsetDrawerAddEdit(\"\");\r\n\t\t\t\tsetFilter(tmp, custFilter);\r\n\t\t\t\tshowSuccess(\"Successfully added details of \" + userName);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// for edit user\r\n\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/student/update/${studentRec.sid}/${userName}/${encrypt(pwd)}/${encrypt(em)}/${mob}/${a1}/${a2}/${a3}/${a4}/${pName}/${pMob}`;\t\r\n\t\t\t\t//console.log(myUrl);\r\n\t\t\t\tvar response = await axios.get(myUrl);\r\n\t\t\t\tvar tmp = masterStudentArray.filter(x => x.uid !== studentRec.uid);\r\n\t\t\t\ttmp = tmp.concat([response.data])\r\n\t\t\t\ttmp = lodashSortBy(tmp, 'name');\r\n\t\t\t\tsetMasterStudentArray(tmp);\r\n\t\t\t\t//filterStudent(tmp, currentSelection);\r\n\t\t\t\tsetDrawerAddEdit(\"\");\r\n\t\t\t\tsetFilter(tmp, custFilter);\r\n\t\t\t\tshowSuccess(\"Successfully updated details of \" + userName);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\tshowError(\"Error adding / updateing Area\");\r\n\t\t\tconsole.log(\"Error\");\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction handleAdd() {\r\n    console.log(\"In add\");\r\n    setStudentRec(null);\r\n\t\tsetUserName(\"\");\r\n\t\tsetMobile(\"\");\r\n\t\tsetEmail(\"\")\r\n\t\t//setRole(ALLROLES[0]);\r\n\t\tsetPassword(\"\");\r\n\t\tsetArea1(\"\");\r\n\t\tsetArea2(\"\");\r\n\t\tsetArea3(\"\");\r\n\t\tsetArea4(\"\");\r\n\t\tsetParentName(\"\");\r\n\t\tsetParentMobile(\"\");\r\n\t\tsetDrawerAddEdit(\"New\");\r\n\t}\r\n\t\r\n\tasync function handleEdit(r) {\r\n\t\t//console.log(r);\r\n    setStudentRec(r);\r\n\t\t// Now get the user record\r\n\t\tvar myUser;\r\n\t\ttry {\r\n\t\t\tvar resp = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/acagetbyid/${r.uid}`);\r\n\t\t\tmyUser = resp.data;\r\n\t\t\t//console.log(myUser);\r\n\t\t\tsetUserRec(myUser);\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\tshowError('Error while fetching user record');\r\n\t\t\tsetStudentRec(null);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetUserName(myUser.displayName);\r\n\t\tsetMobile(myUser.mobile);\r\n\t\tvar tmp = decrypt(myUser.email);\r\n\t\tsetEmail((tmp !== \"-\") ? tmp : \"\");\r\n\t\t//setRole(r.role);\r\n\t\tsetPassword(decrypt(myUser.password));\r\n\t\tsetArea1(myUser.addr1);\r\n\t\tsetArea2(myUser.addr2);\r\n\t\tsetArea3(myUser.addr3);\r\n\t\tsetArea4(myUser.addr4);\r\n\t\tsetParentName(r.parentName);\r\n\t\tsetParentMobile(r.parentMobile);\r\n\t\tsetDrawerAddEdit(\"Edit\");\r\n\t}\r\n\t\r\n\tasync function handleInfo(rec) {\r\n\t\tsetStudentRec(rec);\r\n\t\t// Now fetch User details of the student\r\n\t\t// Now get the user record\r\n\t\ttry {\r\n\t\t\tvar resp = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/acagetbyid/${rec.uid}`);\r\n\t\t\tsetUserRec(resp.data);\r\n\t\t\tsetDrawerInfo(\"detail\");\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\tshowError('Error fetching user record');\r\n\t\t\tsetStudentRec(null);\r\n\t\t}\r\n\t\t//showInfo(\"Student info to be implemented\");\r\n\t}\r\n\r\n\tfunction StudentInfo(props) {\r\n\treturn(\r\n\t\t<div>\r\n\t\t<Grid key=\"STUDENTINFO\" className={gClasses.noPadding} container >\r\n\t\t\t<Grid item xs={4} sm={4} md={4} lg={4} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Name</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={8} sm={8} md={8} lg={8} align=\"left\" >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{props.userRecord.displayName}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={4} sm={4} md={4} lg={4} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Code</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={8} sm={8} md={8} lg={8} align=\"left\" >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{props.studentRecord.sid}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={4} sm={4} md={4} lg={4} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Batch</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={8} sm={8} md={8} lg={8} align=\"left\" >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{(props.studentRecord.bid !== \"\") ? props.studentRecord.bid : \"None\"}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={4} sm={4} md={4} lg={4} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Par. Name</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={8} sm={8} md={8} lg={8} align=\"left\" >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{props.studentRecord.parentName}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={4} sm={4} md={4} lg={4} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Par. Mobile</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={8} sm={8} md={8} lg={8} align=\"left\" >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{props.studentRecord.parentMobile}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t{(STUDENT_DETAILS_REQUIRED) &&\r\n\t\t\t<div>\r\n\t\t\t<Grid item xs={4} sm={4} md={2} lg={2} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Mobile</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={8} sm={8} md={9} lg={9} align=\"left\" >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{props.userRecord.mobile}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t<Grid item xs={4} sm={4} md={4} lg={4} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Email</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={8} sm={8} md={8} lg={8} align=\"left\" >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{decrypt(props.userRecord.email)}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Address</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={3} sm={3} md={2} lg={2} />\r\n\t\t\t<Grid item xs={9} sm={9} md={10} lg={10} align=\"left\" >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{props.userRecord.addr1}</Typography>\r\n\t\t\t\t{(props.userRecord.addr2 !== \"-\") &&\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{props.userRecord.addr2}</Typography>\r\n\t\t\t\t}\r\n\t\t\t\t{(props.userRecord.addr3 !== \"-\") &&\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{props.userRecord.addr3}</Typography>\r\n\t\t\t\t}\r\n\t\t\t\t{(props.userRecord.addr4 !== \"-\") &&\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{props.userRecord.addr4}</Typography>\r\n\t\t\t\t}\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={12} align=\"left\" />\r\n\t\t</Grid>\r\n\t\t<br />\r\n\t\t<br />\r\n\t\t</div>\r\n\t)}\r\n\r\n\r\n\tasync function handleAddSession(rec) {\r\n\t\ttry {\r\n\t\t\tvar response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/batch/get/${rec.bid}`);\r\n\t\t\tsetBatchRec(response.data);\r\n\t\t\tsetDrawer(\"ADDSESSION\");\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tshowError(`Error getting batch record of ${rec.bid}`);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction handleBack(sts) {\r\n\t\tif ((sts.msg !== \"\") && (sts.status === STATUS_INFO.ERROR)) showError(sts.msg); \r\n\t\telse if ((sts.msg !== \"\") && (sts.status === STATUS_INFO.SUCCESS)) showSuccess(sts.msg); \r\n\t\t\r\n\t\t// Yeah. Nothing to be modified in student record.\r\n\t\tsetDrawer(\"\");\r\n\t}\r\n\t\r\n\r\n\t\r\n\tfunction DisplayAllToolTips() {\r\n\treturn(\r\n\t\t<div>\r\n\t\t{studentArray.map( t =>\r\n\t\t\t<DisplaySingleTip id={\"USER\"+t.uid} />\r\n\t\t)}\r\n\t\t</div>\r\n\t)}\r\n\r\n\tfunction DisplaySingleTip(props) {\r\n\t\treturn null; //<Tooltip className={gClasses.tooltip} backgroundColor='#42EEF9' borderColor='black' arrowColor='blue' textColor='black' key={props.id} type=\"info\" effect=\"float\" id={props.id} multiline={true}/>\r\n\t}\r\n\t\r\n\tfunction handleDisableStudent(t) {\r\n\t\tvsDialog(\"Disable Student\", `Are you sure you want disable student ${mergedName(t.name, t.sid)}?`,\r\n\t\t\t{label: \"Yes\", onClick: () => handleDisableStudentConfirm(t) },\r\n\t\t\t{label: \"No\" }\r\n\t\t);\r\n\t}\r\n\t\r\n\tasync function handleDisableStudentConfirm(x) {\r\n\t\tlet myRec = masterStudentArray.find(rrr => rrr.sid === x.sid);\r\n\t\tif (myRec.bid != \"\") {\r\n\t\t\tshowError(`Student ${myRec.name} has batch ${myRec.bid} in progress.`);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tawait axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/student/disabled/${myRec.sid}`);\r\n\t\t\tmyRec.enabled = false;\r\n\t\t\tvar allRec  = [].concat(masterStudentArray)\r\n\t\t\tshowSuccess(`Disabled Student ${mergedName( myRec.name, myRec.sid)}`);\r\n\t\t\tsetMasterStudentArray(allRec);\r\n\t\t\tsetFilter(allRec, custFilter);\r\n\t\t\t\r\n\t\t\t//filterStudent(allRec, currentSelection);\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\t// error \r\n\t\t\tconsole.log(e);\r\n\t\t\tshowError(\"Error disabling student \"+x.name);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleEnableStudent(t) {\r\n\t\tvsDialog(\"Enable Student\", `Are you sure you want enable student ${mergedName(t.name, t.sid)}?`,\r\n\t\t\t{label: \"Yes\", onClick: () => handleEnableStudentConfirm(t) },\r\n\t\t\t{label: \"No\" }\r\n\t\t);\r\n\t}\r\n\t\r\n\t\r\n\tasync function handleEnableStudentConfirm(x) {\r\n\t\tlet myRec = masterStudentArray.find(rrr => rrr.sid === x.sid);\r\n\t\ttry {\r\n\t\t\tawait axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/student/enabled/${myRec.sid}`);\r\n\t\t\tmyRec.enabled = true;\r\n\t\t\tvar allRec  = [].concat(masterStudentArray)\r\n\t\t\tshowSuccess(`Enabled Student ${mergedName( myRec.name, myRec.sid)}`);\r\n\t\t\tsetMasterStudentArray(allRec);\r\n\t\t\tsetFilter(allRec, custFilter);\r\n\t\t\t//filterStudent(allRec, currentSelection);\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\t// error \r\n\t\t\tconsole.log(e);\r\n\t\t\tshowError(\"Error disabling student \"+x.name);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction DisplayAllStudent() {\r\n\t\t//console.log(dispType);\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t<Table  align=\"center\">\r\n\t\t\t<TableHead p={0}>\r\n\t\t\t<TableRow key=\"header\" align=\"center\">\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Student</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Batch</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\"></TableCell>\r\n\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t\t<TableBody p={0}>\r\n\t\t\t\t{studentArray.map(x => {\r\n\t\t\t\t\tlet myInfo = \"Address\" + \"<br />\";\r\n\t\t\t\t\t\tmyInfo +=  x.addr1 + \"<br />\";\r\n\t\t\t\t\t\tmyInfo +=  x.addr2 + \"<br />\";\r\n\t\t\t\t\t\tmyInfo +=  x.addr3 + \"<br />\";\r\n\t\t\t\t\t\tmyInfo +=  x.addr4 + \"<br />\";\r\n\t\t\t\t\t\t//console.log(x);\r\n\t\t\t\t\t\tvar myClasses = (x.enabled) ? gClasses.td : gClasses.disabledtd;\r\n\t\t\t\t\t\t//console.log(x.bid);\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t<TableRow key={x.sid}>\r\n\t\t\t\t\t\t<TableCell className={myClasses} p={0} >{x.name + \" (\" + x.sid + \")\"}</TableCell>\r\n\t\t\t\t\t\t<TableCell className={myClasses} p={0} >{x.bid}</TableCell>\r\n\t\t\t\t\t\t<TableCell className={myClasses} p={0} >\r\n\t\t\t\t\t\t\t<IconButton disabled={!isAdmMan()} color=\"primary\" size=\"small\" onClick={() => {handleEdit(x)}} ><EditIcon /></IconButton>\r\n\t\t\t\t\t\t\t<IconButton color=\"primary\" size=\"small\" onClick={() => {handleInfo(x)}} ><InfoIcon /></IconButton>\r\n\t\t\t\t\t\t\t<IconButton color=\"primary\" disabled={!x.enabled || (x.bid === \"\")} size=\"small\" onClick={() => {handleAddSession(x)}} ><SchoolIcon /></IconButton>\r\n\t\t\t\t\t\t\t{(x.enabled) &&\r\n\t\t\t\t\t\t\t\t<IconButton disabled={(x.bid != \"\") || !isAdmMan() } color=\"primary\" size=\"small\" onClick={() => {handleDisableStudent(x)}} ><IndeterminateCheckBoxIcon /></IconButton>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{(!x.enabled) &&\r\n\t\t\t\t\t\t\t\t<IconButton disabled={ !isAdmMan() } color=\"primary\" size=\"small\" onClick={() => {handleEnableStudent(x)}} ><CheckBoxIcon /></IconButton>\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t</TableRow>\r\n\t\t\t\t)})}\r\n\t\t\t</TableBody>\r\n\t\t\t</Table>\r\n\t\t</div>\r\n\t\t);\r\n\r\n\t}\r\n\t\r\n\tfunction filterStudent(masterArray, x) {\r\n\t\tswitch (x) {\r\n\t\t\tcase \"Disabled\":  setStudentArray(masterArray.filter(x => !x.enabled ));  break;\r\n\t\t\tcase \"Enabled\":   setStudentArray(masterArray.filter(x => x.enabled ));  break;\r\n\t\t\tdefault:          setStudentArray(masterArray);  break;\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction selectAll(x) {\r\n\t\tsetCurrentSelection(x);\r\n\t\tfilterStudent(masterStudentArray, x);\r\n\t}\r\n\t\r\n\t// style={{marginTop: \"5px\" }}  \r\n\tfunction DisplayOptionsOrg() {\r\n\treturn (\r\n\t<Grid key=\"Options\" className={gClasses.noPadding} container alignItems=\"center\" >\r\n\t\t<Grid  item xs={3} sm={2} md={2} lg={1} >\r\n\t\t\t<VsSelect size=\"small\" align=\"center\" label=\"Selection\" options={ALLSELCTIONS} value={currentSelection} onChange={(event) => { selectAll(event.target.value)}} />\r\n\t\t</Grid>\r\n\t\t<Grid align=\"left\"  item xs={6} sm={7} md={8} lg={10} >\r\n\t\t\t<span></span>\r\n\t\t</Grid>\r\n\t\t<Grid  item xs={3} sm={3} md={2} lg={1} >\r\n\t\t\t<VsButton disabled={!isAdmMan()} name=\"New Student\" align=\"right\" onClick={handleAdd} />\r\n\t\t</Grid>\r\n\t</Grid>\r\n\t)}\r\n\t\r\n\t\r\n\tfunction handleFilter() {\r\n\t\tsetFilterName( (custFilter[\"name\"]) ? custFilter[\"name\"] : \"\");\r\n\t\tsetFilterBatch((custFilter[\"batch\"]) ? custFilter[\"batch\"] : \"\");\r\n\t\tsetFilterStatus((custFilter[\"status\"]) ? custFilter[\"status\"] : \"All\");\r\n\t\tsetDrawerFilter(\"filter\");\r\n\t}\r\n\t\r\n\tfunction setFilter(masterData, filterObject) {\r\n\t\t//console.log(filterObject);\r\n\t\tvar keyNames = Object.keys(filterObject);\r\n\t\t//console.log(keyNames);\r\n\t\tvar myData = [];\r\n\t\tfor(var i=0; i<keyNames.length; ++i) {\r\n\t\t\tmyData.push({key: keyNames[i], value: filterObject[keyNames[i]] });\r\n\t\t}\r\n\t\tsetFilterDisplayData(myData);\r\n\t\t\r\n\t\tvar myArray = [].concat(masterData);\r\n\t\t//console.log(myArray);\r\n\t\tif (filterObject.name) {\r\n\t\t\tmyArray = myArray.filter(x => x.name.toLowerCase().includes(filterName.toLowerCase()) );\r\n\t\t}\r\n\t\t\r\n\t\tif (filterObject.batch) {\r\n\t\t\tmyArray = myArray.filter(x => x.bid.includes(filterBatch.toUpperCase()));\r\n\t\t}\r\n\t\t\r\n\t\tif (filterObject.status)  {\r\n\t\t\tif (filterObject.status === \"Enabled\")\r\n\t\t\t\tmyArray = myArray.filter(x => x.enabled);\r\n\t\t\telse if (filterObject.status === \"Disabled\")\r\n\t\t\t\tmyArray = myArray.filter(x => !x.enabled);\r\n\t\t}\r\n\t\tsetCustFilter(filterObject);\r\n\t\tsetStudentArray(myArray);\t\r\n\t}\r\n\r\n\tfunction handleSubmitFilter() {\r\n\t\tvar myFilter = {};\r\n\t\tif (filterName != \"\") {\r\n\t\t\tmyFilter[\"name\"] = filterName;\r\n\t\t}\r\n\t\tif (filterBatch != \"\") {\r\n\t\t\tmyFilter[\"batch\"] = filterBatch;\r\n\t\t}\r\n\t\t//console.log(filterRole);\r\n\t\tif (filterStatus != \"All\") {\r\n\t\t\tmyFilter[\"status\"] = filterStatus;\r\n\t\t}\r\n\t\t//console.log(myFilter);\r\n\t\tsetFilter(masterStudentArray, myFilter);\r\n\t\tsetCustFilter(myFilter);\r\n\t\tsetDrawerFilter(\"\")\r\n\t}\r\n\t\t\r\n\tfunction DisplayOptions() {\r\n\treturn (\t\r\n\t\t<div>\r\n\t\t<VsButton align=\"right\" disabled={!isAdmin()} name=\"New Student\" align=\"right\" onClick={handleAdd} />\r\n\t\t<Box margin={1} className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} paddingTop={1} >\r\n\t\t<Grid key=\"Filter\" className={gClasses.noPadding} container  >\r\n\t\t\t<Grid  align=\"left\" item xs={11} sm={11} md={11} lg={11} >\r\n\t\t\t\t<Typography>\r\n\t\t\t\t{ filterDisplayData.map(x => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t<span key={x.key} className={gClasses.filter}  >{x.key + \": \" + x.value}</span>\r\n\t\t\t\t)})}\r\n\t\t\t\t{(filterDisplayData.length === 0) &&\r\n\t\t\t\t\t<span key=\"NOKEY\" className={gClasses.info16}  >{FILTER_NONE}</span>\r\n\t\t\t\t}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid align=\"right\"  item xs={1} sm={1} md={1} lg={1} >\r\n\t\t\t\t<IconButton color=\"primary\" size=\"small\" onClick={handleFilter}  ><SearchIcon /></IconButton>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t\t</Box>\r\n\t\t</div>\r\n\t)}\r\n\t\r\n\r\n\t\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<DisplayPageHeader headerName=\"Student\" groupName=\"\" tournament=\"\" />\r\n\t\t\t<DisplayOptions />\r\n\t\t\t<DisplayAllStudent/>\r\n\t\t\t{/*<DisplayAllToolTips />*/}\r\n\t\t\t<Drawer anchor=\"right\" variant=\"temporary\" open={drawerAddEdit !== \"\"}>\r\n\t\t\t<Box margin={1} className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t\t\t<VsCancel align=\"right\" onClick={() => { setDrawerAddEdit(\"\")}} />\r\n\t\t\t\t<ValidatorForm margin={2} align=\"center\" className={gClasses.form} onSubmit={handleAddEditSubmit}>\r\n\t\t\t\t\t<Typography className={gClasses.title}>{drawerAddEdit+\" Student \"}</Typography>\t\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextValidator enable={(drawerAddEdit == \"New\") ? \"true\" : \"false\"}  variant=\"outlined\" required fullWidth id=\"userName\" label=\"User Name\" name=\"username\"\r\n\t\t\t\t\t\tvalidators={['required', 'minLength', 'noSpecialCharacters']}\r\n\t\t\t\t\t\terrorMessages={['User Name to be provided', 'Mimumum 6 characters required', ]}\r\n\t\t\t\t\t\tvalue={userName} onChange={() => { setUserName(event.target.value) }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<BlankArea/>\r\n\t\t\t\t\t{/*<VsSelect fullWidth align=\"center\" label=\"Role\" options={ALLROLES} value={role} onChange={(event) => { setRole(event.target.value)}} />*/}\r\n\t\t\t\t\t<BlankArea/>\r\n\t\t\t\t\t<TextValidator variant=\"outlined\"  fullWidth id=\"emaild\" label=\"Email\" name=\"Email\"\t\t\t\t\t\r\n\t\t\t\t\t\tvalue={email} onChange={(event) => setEmail(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<BlankArea/>\r\n\t\t\t\t\t{(STUDENT_DETAILS_REQUIRED) &&\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t<TextValidator variant=\"outlined\" required fullWidth label=\"Mobile\" name=\"mobile\"\r\n\t\t\t\t\t\tvalidators={['required', 'mobile']}\r\n\t\t\t\t\t\terrorMessages={[, 'Mobile to be provided', '10 digit mobile number required']}\r\n\t\t\t\t\t\tvalue={mobile} onChange={(event) => setMobile(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{(STUDENT_DETAILS_REQUIRED) &&\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t<TextValidator variant=\"outlined\" required fullWidth label=\"Password\" name=\"password\"\r\n\t\t\t\t\t\tvalidators={['required', 'minLength', 'noSpecialCharacters']}\r\n\t\t\t\t\t\terrorMessages={['Password to be provided', 'Mimumum 6 characters required', ]}\r\n\t\t\t\t\t\tvalue={password} onChange={(event) => setPassword(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{(STUDENT_DETAILS_REQUIRED) &&\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t<TextValidator variant=\"outlined\" required fullWidth label=\"Address 1\" name=\"Addr1\"\r\n\t\t\t\t\t\tvalidators={['required']}\r\n\t\t\t\t\t\terrorMessages={['Addres line 1 to be provided']}\r\n\t\t\t\t\t\tvalue={area1} onChange={(event) => setArea1(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextValidator variant=\"outlined\"  fullWidth label=\"Address 2\" name=\"Addr2\"\r\n\t\t\t\t\t\tvalue={area2} onChange={(event) => setArea2(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextValidator variant=\"outlined\"  fullWidth label=\"Address 3\" name=\"Addr3\"\r\n\t\t\t\t\t\tvalue={area3} onChange={(event) => setArea3(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextValidator variant=\"outlined\"  fullWidth label=\"Address 4\" name=\"Addr4\"\r\n\t\t\t\t\t\tvalue={area4} onChange={(event) => setArea4(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<TextValidator variant=\"outlined\"  fullWidth required label=\"Parent Name\" name=\"pName\"\r\n\t\t\t\t\t\tvalue={parentName} onChange={(event) => setParentName(event.target.value)}\r\n\t\t\t\t\t\tvalidators={['required', 'minLength', 'noSpecialCharacters']}\r\n\t\t\t\t\t\terrorMessages={['User Name to be provided', 'Mimumum 6 characters required', ]}\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextValidator variant=\"outlined\" required fullWidth label=\"Parent Mobile\" name=\"mobile\"\r\n\t\t\t\t\t\tvalidators={['required', 'mobile']}\r\n\t\t\t\t\t\terrorMessages={[, 'Mobile to be provided', '10 digit mobile number required']}\r\n\t\t\t\t\t\tvalue={parentMobile} onChange={(event) => setParentMobile(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ShowResisterStatus />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<VsButton name={(drawerAddEdit == \"New\") ? \"Add\" : \"Update\"} />\r\n\t\t\t\t</ValidatorForm>\r\n\t\t\t\t<ValidComp p1={password}/>   \r\n\t\t\t</Box>\r\n\t\t\t</Drawer>\r\n\t\t\t<Drawer anchor=\"top\" variant=\"temporary\" open={drawer !== \"\"}>\r\n\t\t\t\t<VsCancel align=\"right\" onClick={() => { setDrawer(\"\")}} />\r\n\t\t\t\t{(drawer === \"ADDSESSION\") &&\r\n\t\t\t\t\t<SessionAddEdit mode=\"ADD\" batchRec={batchRec} sessionRec={null} onReturn={handleBack} />\r\n\t\t\t\t}\r\n\t\t\t</Drawer>\t\t\t\r\n\t\t\t<Drawer anchor=\"left\" variant=\"temporary\" open={drawerFilter !== \"\"} >\r\n\t\t\t<Box margin={1} className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t\t\t<DisplayPageHeader headerName=\"Filter Options\" groupName=\"\" tournament=\"\" />\r\n\t\t\t\t<VsCancel align=\"right\" onClick={() => { setDrawerFilter(\"\")}} />\r\n\t\t\t\t<br />\r\n\t\t\t\t<ValidatorForm margin={2} align=\"center\" className={gClasses.form} onSubmit={handleSubmitFilter}  >\r\n\t\t\t\t<Grid key=\"Filter\" className={gClasses.noPadding} container >\r\n\t\t\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Name</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={7}\r\n\t\t\t\t\tsm={7} md={3} lg={3} >\r\n\t\t\t\t\t\t<TextField fullWidth  value={filterName} onChange={(event) => { setFilterName(event.target.value)}} />\t\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid style={{margin: spacing}} item xs={12} sm={12} md={12} lg={12} />\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Batch</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={7} sm={7} md={3} lg={3} >\r\n\t\t\t\t\t\t<TextField fullWidth value={filterBatch} onChange={(event) => { setFilterBatch(event.target.value)}} />\t\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid style={{margin: spacing}} item xs={12} sm={12} md={12} lg={12} />\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Status</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={7} sm={7} md={3} lg={1} >\r\n\t\t\t\t\t\t<VsSelect size=\"small\" align=\"left\" options={ALLSELCTIONS} value={filterStatus} onChange={(event) => { setFilterStatus(event.target.value)}} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid style={{margin: spacing}} item xs={12} sm={12} md={12} lg={12} />\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t\t\t\t<VsButton type=\"submit\" name=\"Apply Filter\" />\r\n\t\t\t\t\t</Grid>\t\t\t\t\t\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</ValidatorForm>\r\n\t\t\t</Box>\r\n\t\t\t</Drawer>\r\n\t\t\t<Drawer anchor=\"bottom\" variant=\"temporary\" open={drawerInfo !== \"\"}>\r\n\t\t\t<Container component=\"main\" maxWidth=\"xs\">\r\n\t\t\t<Box margin={1} className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} paddingLeft={2} >\r\n\t\t\t\t<DisplayPageHeader headerName=\"Student Details\" groupName=\"\" tournament=\"\" />\r\n\t\t\t\t<VsCancel align=\"right\" onClick={() => { setDrawerInfo(\"\")}} />\r\n\t\t\t\t<br />\r\n\t\t\t\t<StudentInfo studentRecord={studentRec} userRecord={userRec} />\r\n\t\t\t</Box>\r\n\t\t\t</Container>\r\n\t\t\t</Drawer>\r\n\t\t\t<ToastContainer />\r\n\t\t</div>\r\n\t\t)\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n// import { Switch, Route, Link } from 'react-router-dom';\r\nimport { ValidatorForm, TextValidator, TextValidatorcvariant} from 'react-material-ui-form-validator';\r\nimport Drawer from '@material-ui/core/Drawer';\r\n//import Tooltip from \"react-tooltip\";\r\n//import ReactTooltip from 'react-tooltip'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport BlueRadio from 'components/Radio/BlueRadio';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport { JumpButton, DisplayPageHeader, ValidComp, BlankArea} from 'CustomComponents/CustomComponents.js';\r\n\r\nimport lodashSortBy from \"lodash/sortBy\";\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport IndeterminateCheckBoxIcon from '@material-ui/icons/IndeterminateCheckBox';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n\r\n//import { NoGroup, JumpButton, DisplayPageHeader, MessageToUser } from 'CustomComponents/CustomComponents.js';\r\nimport { isMobile, getWindowDimensions, displayType, decrypt, encrypt,\r\n\tshowError, showSuccess, showInfo,\r\n} from 'views/functions';\r\n\r\nimport globalStyles from \"assets/globalStyles\";\r\n\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\n\r\nimport VsButton from \"CustomComponents/VsButton\"; \r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\nimport VsSelect from \"CustomComponents/VsSelect\";\r\nimport VsRadio from \"CustomComponents/VsRadio\";\r\n\r\n//const ALLROLES = [\"Student\", \"Faculty\", \"Admin\"];\r\n\r\nimport {\r\n\tROLE_FACULTY , ROLE_STUDENT,\r\n\tALLSELECTIONS, BLANKCHAR,\r\n\tNOFRACTION,\r\n\tSHORTWEEKSTR, HOURBLOCKSTR, MINUTEBLOCKSTR, SESSIONHOURSTR,\r\n\tSTATUS_INFO,\r\n\tDURATIONSTR,\r\n\tBATCHTIMESTR\t,\r\n} from 'views/globals';\r\n\r\nimport {\r\n\tmergedName, getCodeFromMergedName, getNameFromMergedName,\r\n\tgetAreafromBid,\r\n} from 'views/functions';\r\n\r\n\r\nexport default function BatchAddEdit(props) {\r\n\t//const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\r\n\t\r\n\tconst [currentSelection, setCurrentSelection] = useState(ALLSELECTIONS[0]);\r\n\t\r\n\tconst [areaArray, setAreaArray] = useState([]);\r\n\tconst [studentArray, setStudentArray] = useState([]);\r\n\tconst [batchArray, setBatchArray] = useState([]);\r\n\tconst [facultyArray, setFacultyArray] = useState([]);\r\n\tconst [masterBatchArray, setMasterBatchArray] = useState([]);\r\n\t\r\n\tconst [userName, setUserName] = useState(\"\");\r\n\tconst [email, setEmail] = useState(\"\");\r\n\tconst [mobile, setMobile] = useState(\"\");\r\n\t//const [batchRec, setBatchtRec] = useState(null);\r\n\tconst [userRec, setUserRec] = useState(null);\r\n\t\r\n\tconst [newArea, setNewArea] = useState(\"\");\r\n\tconst [newFaculty, setNewFaculty] = useState(\"\");\r\n\r\n\tconst [sessDuration, setSessDuration] = useState(DURATIONSTR[1].name);\r\n\r\n\tconst [newStudent, setNewStudent] = useState(\"\");\r\n\tconst [batchStudents, setBatchStudents] = useState([]);\r\n\tconst [batchSessions, setBatchSessions] = useState([]);\r\n\t\r\n\tconst [newDay, setNewDay] = useState(\"\");\r\n\tconst [newHourMinute, setNewHourMinute] = useState(\"03:00 PM\");\r\n\tconst [newMin, setNewMin] = useState(\"\");\r\n\tconst [newFess, setNewFees] = useState(200);\r\n\tconst [origHourMinute, setOrigHourMinute] = useState(\"\");\r\n\tconst [origDay, setOrigDay] = useState(\"\");\r\n\t\r\n\tconst [drawer, setDrawer] = useState(\"\");\r\n\tconst [drawerDetail, setDrawerDetail] = useState(\"\");\r\n\tconst [registerStatus, setRegisterStatus] = useState(0);\r\n\t\r\n\tconst [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\tconst [dispType, setDispType] = useState(\"lg\");\r\n\r\n\tuseEffect(() => {\r\n\t\tfunction handleResize() {\r\n\t\t\tlet myDim = getWindowDimensions();\r\n      setWindowDimensions(myDim);\r\n\t\t\t//let myRows = 0;\r\n\t\t\tlet defHeight = 100;\r\n      //console.log(displayType(myDim.width)) ;\r\n      setDispType(displayType(myDim.width));\r\n     \r\n\t\t\t//switch (displayType(myDim.width)) {\r\n\t\t\t//\tcase 'xs': myRows = 10; break;\r\n\t\t\t//\tcase 'sm': myRows = 24; break;\r\n\t\t\t//\tcase 'md': myRows = 36; break;\r\n\t\t\t//\tcase 'lg': myRows = 48; break;\r\n\t\t\t//}\r\n\t\t\t//console.log(myRows);\r\n\t\t\t//setROWSPERPAGE(myRows);\r\n\t\t}\r\n\r\n\t\tasync function getAllAreas(myArea) {\r\n\t\t\tvar allAreas = [];\r\n\t\t\ttry {\r\n\t\t\t\tif (myArea === \"\") {\r\n\t\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/area/list`;\r\n\t\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\t\t//console.log(response.data);\r\n\t\t\t\t\tvar allAreas = response.data;\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/area/get/shortname/${myArea}`;\r\n\t\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\t\tvar allAreas = [response.data];\r\n\t\t\t\t}\r\n\t\t\t\tfor(var i=0; i<allAreas.length; ++i) {\r\n\t\t\t\t\tallAreas[i][\"mergedName\"] = mergedName(allAreas[i].longName, allAreas[i].shortName);\r\n\t\t\t\t}\r\n\t\t\t\tsetNewArea(allAreas[0].mergedName);\r\n\t\t\t\tsetAreaArray(allAreas);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tshowError(\"Error Fetching area\");\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\r\n\t\tasync function getAllFaculty(myFid) {\t\r\n\t\t\tvar myFacultys = [];\r\n\t\t\ttry {\r\n\t\t\t\tif (myFid == \"\") {\r\n\t\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/faculty/list/enabled`;\r\n\t\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\t\tmyFacultys = response.data;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/faculty/get/${myFid}`;\r\n\t\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\t\tmyFacultys = [response.data];\r\n\t\t\t\t}\r\n\t\t\t\tfor(var i=0; i<myFacultys.length; ++i) {\r\n\t\t\t\t\tmyFacultys[i][\"mergedName\"] = mergedName(myFacultys[i].name, myFacultys[i].fid);\r\n\t\t\t\t}\r\n\t\t\t\tsetFacultyArray(myFacultys);\r\n\t\t\t\tsetNewFaculty(myFacultys[0].mergedName);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tshowError(\"Error Fetching Faculty\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t\r\n\t\tasync function getAllStudents() {\r\n\t\t\ttry {\r\n\t\t\t\tvar subfun = (props.mode == \"EDIT\") ? \"list/freeorbatch/\" + props.batchRec.bid :  \"list/free\";\r\n\t\t\t\tconsole.log(subfun);\r\n\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/student/${subfun}`;\r\n\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\tvar tmp = response.data;\r\n\t\t\t\tfor(var i=0; i<tmp.length; ++i) {\r\n\t\t\t\t\ttmp[i][\"mergedName\"] = mergedName(tmp[i].name, tmp[i].sid);\r\n\t\t\t\t}\r\n\t\t\t\t//console.log(response.data);\r\n\t\t\t\tsetStudentArray(tmp);\r\n\t\t\t\tif (props.mode === \"ADD\") {\r\n\t\t\t\t\tsetBatchStudents([]);\r\n\t\t\t\t} \r\n\t\t\t\telse {\r\n\t\t\t\t\tsetBatchStudents(tmp.filter(x => props.batchRec.sid.includes(x.sid)));\r\n\t\t\t\t}\r\n\t\t\t} \r\n\t\t\tcatch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tshowError(\"Error Fetching Students\");\r\n\t\t\t}\r\n\t\t}\r\n\t\t// get the data\r\n\t\tgetAllAreas( (props.mode === \"EDIT\") ?\tgetAreafromBid(props.batchRec.bid) : \"\" );\r\n\t\tgetAllFaculty( (props.mode === \"EDIT\") ?\tprops.batchRec.fid : \"\");\r\n\t\tgetAllStudents();\r\n\t\t\r\n\t\t// other batch infor set if props.mode \r\n\t\tif (props.mode === \"EDIT\") {\r\n\t\t\tsetNewFees(props.batchRec.fees);\r\n\t\t\tvar myRec = DURATIONSTR.find(x => x.block === props.batchRec.sessionTime);\r\n\t\t\tsetSessDuration(myRec.name);\r\n\t\t\t\r\n\t\t\t// Get the session details\r\n\t\t\tvar bSessions = [];\r\n\t\t\tfor(var i=0; i<props.batchRec.timings.length; ++i) {\r\n\t\t\t\t//console.log(props.batchRec.timings[i].hour, props.batchRec.timings[i].minute);\r\n\t\t\t\tvar dRec = BATCHTIMESTR.find(x => (x.hour == props.batchRec.timings[i].hour) && (x.min === props.batchRec.timings[i].minute) );\r\n\t\t\t\t//console.log(dRec);\r\n\t\t\t\tbSessions.push({name: dRec.name, hour: dRec.hour, min: dRec.min, block: dRec.block, day: props.batchRec.timings[i].day });\r\n\t\t\t}\r\n\t\t\tsetBatchSessions(bSessions);\r\n\t\t}\r\n\t\t\r\n\t\thandleResize();\r\n\t\twindow.addEventListener('resize', handleResize);\r\n\t}, [])\r\n\r\n// function handleTimer() {}\r\n\r\nfunction mainCancel() {\r\n\tvar batchInfo = {inUse: true, status: STATUS_INFO.CANCEL, msg: \"\", record: null };\r\n\tsessionStorage.setItem(\"batchInfo\", JSON.stringify(batchInfo));\r\n\tsetTab(process.env.REACT_APP_BATCH);\r\n}\r\n\r\nfunction ShowResisterStatus() {\r\n\t\t\t//console.log(`Status is ${registerStatus}`);\r\n\t\t\tlet myMsg;\r\n\t\t\tlet errmsg = true;\r\n\t\t\tswitch (registerStatus) {\r\n\t\t\t\tcase 200:\r\n\t\t\t\t\tmyMsg = \"Successfully updated Captain / ViceCaptain details\";\r\n\t\t\t\t\terrmsg = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tmyMsg = \"\";\r\n\t\t\t\t\terrmsg = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase -1:\r\n\t\t\t\t\tmyMsg = \"Area Code cannot be blank\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase -2:\r\n\t\t\t\t\tmyMsg = `Area Code cannot be more than ${MAXAREACODELENGTH} characters`;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase -3:\r\n\t\t\t\t\tmyMsg = \"Area code already in use\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase -4:\r\n\t\t\t\t\tmyMsg = \"Area description cannot be blank\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 501:\r\n\t\t\t\t\tmyMsg = \"Student name is blank\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 502:\r\n\t\t\t\t\tmyMsg = \"Duplicate entry of student in Batch\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 511:\r\n\t\t\t\t\tmyMsg = \"Duplicate entry of session in Batch\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 521:\r\n\t\t\t\t\tmyMsg = \"No students selected in Batch\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 522:\r\n\t\t\t\t\tmyMsg = \"No sessions selected in Batch\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tmyMsg = \"Error updating Captain / ViceCaptain details\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t//console.log(errmsg, registerStatus);\r\n\t\t\tlet myClass = (errmsg) ? gClasses.error : gClasses.nonerror;\r\n\t\t\treturn(\r\n\t\t\t\t<div align=\"center\">\r\n\t\t\t\t\t<Typography align=\"center\" className={myClass}>{myMsg}</Typography>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\nasync function handleAddEditSubmit() {\r\n\r\n\tif (batchStudents.length === 0) {\r\n\t\tsetRegisterStatus(521);\r\n\t\treturn;\r\n\t}\r\n\tif (batchSessions.length === 0) {\r\n\t\tsetRegisterStatus(522);\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tconsole.log(\"All okay\");\r\n\tvar myData = {};\r\n\tvar tmp = areaArray.find( x => x.mergedName === newArea);\r\n\tmyData[\"area\"] = tmp.shortName;\r\n\ttmp = facultyArray.find( x => x.mergedName === newFaculty);\r\n\tmyData[\"faculty\"] = tmp;\r\n\tmyData[\"fees\"] = Number(newFess);\r\n\ttmp = DURATIONSTR.find(x => x.name === sessDuration);\r\n\tmyData[\"duration\"] = Number(tmp.block);\r\n\tmyData[\"students\"] = batchStudents;\r\n\tmyData[\"sessions\"] = batchSessions;\r\n\t// findally add batch record. Required for Update\r\n\tmyData[\"batchRec\"] = props.batchRec;\r\n\tconsole.log(myData);\r\n\t\r\n\tvar myJsonData = JSON.stringify(myData);\r\n\tvar finalData = encodeURI(myJsonData);\r\n\r\n\tconsole.log(props.mode);\r\n\tvar batchRec;\r\n\ttry {\r\n\t\tif (props.mode == \"ADD\") {\r\n\t\t// for add new batch\r\n\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/batch/add/${finalData}`;\r\n\t\t\tvar response = await axios.get(myUrl);\r\n\t\t\tprops.onReturn.call(this, {status: STATUS_INFO.SUCCESS, batchRec: response.data, msg: `Successfully added batch ${response.data.bid}.`} );\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// for edit user\r\n\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/batch/update/${finalData}`;\t\r\n\t\t\t//console.log(myUrl);\r\n\t\t\tvar response = await axios.get(myUrl);\r\n\t\t\tprops.onReturn.call(this, {status: STATUS_INFO.SUCCESS, batchRec: response.data, msg: `Successfully updated batch ${response.data.bid}.`} );\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\tcatch (e) {\r\n\t\tconsole.log(e);\r\n\t\tvar myMessage = \"Error in add/update batch\";\r\n\t\tvar stayback = false;\r\n\t\tif (e.response)\r\n\t\tswitch (e.response.status) {\r\n\t\t\tcase 601: \r\n\t\t\t\tmyMessage = \"Student(s) not assigned\"; \r\n\t\t\t\tstayback = true; \r\n\t\t\t\tbreak;\r\n\t\t\tcase 602: \r\n\t\t\t\tmyMessage = \"Session(s) not assigned\"; \r\n\t\t\t\tstayback = true; \r\n\t\t\t\tbreak;\r\n\t\t\tcase 603: myMessage = \"Student(s) aready assigned batch\"; \r\n\t\t\t\tstayback = true; \r\n\t\t\t\tbreak;\r\n\t\t\tcase 604: myMessage = \"faculty block clash\"; \r\n\t\t\t\tstayback = true; \r\n\t\t\t\tbreak;\r\n\t\t\tcase 605: \r\n\t\t\t\tmyMessage = \"test edit batch error\";  \r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\t\r\n\t\tif (stayback) {\r\n\t\t\tshowError(myMessage);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tprops.onReturn.call(this, {status: STATUS_INFO.ERROR, msg: myMessage});\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\t\r\n}\r\n\r\nfunction handleAdd() {\r\n\tconsole.log(\"In add\");\r\n\r\n\tsetDrawer(\"New\");\r\n}\r\n\r\nasync function handleEdit(r) {\r\n\t//console.log(r);\r\n\tsetBatchtRec(r);\r\n\t// Now get the user record\r\n\tvar myUser;\r\n\ttry {\r\n\t\tvar resp = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/acagetbyid/${r.uid}`);\r\n\t\tmyUser = resp.data;\r\n\t\t//console.log(myUser);\r\n\t\tsetUserRec(myUser);\r\n\t}\r\n\tcatch (e) {\r\n\t\tshowError('Error while fetching user record');\r\n\t\tsetBatchtRec(null);\r\n\t\treturn;\r\n\t}\r\n\tsetUserName(myUser.displayName);\r\n\r\n\tsetDrawer(\"Edit\");\r\n}\r\n\r\nfunction handleInfo(r) {\r\n\tsetBatchtRec(r);\r\n\tsetDrawerDetail(\"detail\");\r\n}\r\n\r\nfunction DisplayAllToolTips() {\r\nreturn(\r\n\t<div>\r\n\t{batchArray.map( t =>\r\n\t\t<DisplaySingleTip id={\"USER\"+t.uid} />\r\n\t)}\r\n\t</div>\r\n)}\r\n\r\nfunction DisplaySingleTip(props) {\r\n\treturn null; //<Tooltip className={gClasses.tooltip} backgroundColor='#42EEF9' borderColor='black' arrowColor='blue' textColor='black' key={props.id} type=\"info\" effect=\"float\" id={props.id} multiline={true}/>\r\n}\r\n\r\nfunction handleAddStudent() {\r\n\tsetOrigHourMinute(\"\");\r\n\tsetNewStudent(\"\");\r\n\tsetDrawer(\"ADDSTUDENT\");\r\n}\r\n\r\nfunction handleEditStudent(x) {\r\n\t//console.log(x);\r\n\tsetOrigHourMinute(x.mergedName);\r\n  setNewStudent(x.mergedName);\r\n\tsetDrawer(\"EDITSTUDENT\");\r\n}\r\n\r\n\r\nfunction handleDelStudent(rec) {\r\n\tconsole.log(batchStudents);\r\n\tsetBatchStudents(batchStudents.filter(x => x.name !== rec.name));\r\n\tsetRegisterStatus(0);\r\n}\r\n\r\n\r\nfunction handleAddSession() {\r\n\tsetOrigDay(\"\");\r\n\tsetOrigHourMinute(\"\");\r\n\tsetNewDay(SHORTWEEKSTR[0]);\r\n\tsetNewHourMinute(\"03:00 PM\");\r\n\tsetDrawer(\"ADDSESSION\");\r\n}\r\n\r\nfunction handleEditSession(x) {\r\n\tsetOrigDay(x.day);\r\n\tsetNewDay(x.day);\r\n  setOrigHourMinute(x.name);\r\n\tsetNewHourMinute(x.name);\r\n\t//setNewMin(x.min);\r\n\tsetDrawer(\"EDITSESSION\");\r\n}\r\n\r\n\r\nfunction handleDelSession(rec) {\r\n\tsetBatchSessions(batchSessions.filter(x => x.name !== rec.name));\r\n\tsetRegisterStatus(0);\r\n}\r\n\r\n\r\n\r\nfunction handleAddEditSubmitStudent() {\r\n\t//console.log(\"Studnet \" + newStudent + \" selected\");\r\n\r\n\t// if student not chnaged during edit. noting to do\r\n\tif ((drawer == \"EDITSTUDENT\") && (origHourMinute == newStudent)) {\r\n\t\tsetDrawer(\"\");\r\n\t\treturn;\r\n\t}\r\n\telse if (newStudent == \"\") {\r\n\t\tsetRegisterStatus(501);\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tvar studentName = getNameFromMergedName(newStudent);\r\n\tvar studentId = getCodeFromMergedName(newStudent);\r\n\tconsole.log(studentName, studentId, batchStudents);\r\n\tvar tmp = batchStudents.find(x => x.name == studentName && x.sid === studentId);\r\n\tif (tmp) {\r\n\t\tsetRegisterStatus(502);\r\n\t\treturn;\r\n\t}\r\n\t\r\n\t// New student validation done\r\n\tif (drawer == \"ADDSTUDENT\") {\r\n\t\tvar newStudentRec = studentArray.find(x => x.name === studentName);\r\n\t\ttmp = batchStudents.concat([newStudentRec]);\r\n\t\tsetBatchStudents(tmp)\t\t\r\n\t}\r\n\telse {\r\n\t\tvar newStudentRec = studentArray.find(x => x.name === studentName);\r\n\t\tvar tmp = batchStudents.filter(x => x.name != origHourMinute);\t\t// delete old student\r\n\t\tsetBatchStudents( tmp.concat([newStudentRec]));\t\t\t\t\t\t// add new studennt\r\n\t}\r\n\tsetDrawer(\"\");\r\n}\r\n\r\n\r\n\r\nfunction handleAddEditSubmitSession() {\r\n\r\n\t// check for duplicate sessio time\r\n\tconsole.log(origDay, origHourMinute, newHourMinute, newDay);\r\n\r\n\tif ((origHourMinute !== newHourMinute) && (origDay !== newDay)) {\r\n\t\tvar tmp = batchSessions.find(x => x.name === newHourMinute && x.day === newDay);\r\n\t\tconsole.log(tmp);\r\n\t\tif (tmp) {\r\n\t\t\tsetRegisterStatus(511);\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\t// get record of session start Time\r\n\t//console.log(newHourMinute, newDay);\r\n\tvar startTimeRec = BATCHTIMESTR.find(x => x.name === newHourMinute);\r\n\t//console.log(startTimeRec);\r\n\tvar clonedArray = [].concat(batchSessions);\r\n\tif (drawer === \"ADDSESSION\") {\r\n\t\tclonedArray.push({name: startTimeRec.name, hour: startTimeRec.hour, min: startTimeRec.min, block: startTimeRec.block, day: newDay })\r\n\t}\r\n\telse {\r\n\t\tvar tmp = clonedArray.find(x => x.name === origHourMinute && x.day === origDay);\r\n\t\ttmp.name = newHourMinute;\r\n\t\ttmp.hour = startTimeRec.hour;\r\n\t\ttmp.min = startTimeRec.min;\r\n\t\ttmp.block = startTimeRec.block;\r\n\t\ttmp.day = newDay;\r\n\t}\r\n\tsetBatchSessions(clonedArray);\r\n\tsetRegisterStatus(0);\r\n\tsetDrawer(\"\");\r\n}\r\n\r\nfunction testfun(xxx) {\r\n\tconsole.log(xxx);\r\n\tsetNewHourMinute(xxx);\r\n}\r\n\r\n// style={{marginTop: \"5px\" }}  \r\nfunction DisplayOptions() {\r\nreturn (\r\n<Grid key=\"Options\" className={gClasses.noPadding} container alignItems=\"center\" >\r\n\t<Grid  item xs={3} sm={2} md={2} lg={1} >\r\n\t\t<VsSelect size=\"small\" align=\"center\" label=\"Selection\" options={ALLSELECTIONS} value={currentSelection} onChange={(event) => { selectAll(event.target.value)}} />\r\n\t</Grid>\r\n\t<Grid align=\"left\"  item xs={6} sm={7} md={8} lg={10} >\r\n\t\t<span></span>\r\n\t</Grid>\r\n\t<Grid  item xs={3} sm={3} md={2} lg={1} >\r\n\t\t<VsButton name=\"New Batch\" align=\"right\" onClick={handleAdd} />\r\n\t</Grid>\r\n</Grid>\r\n)}\r\n\t\r\n\t//console.log(dispType);\r\n\treturn (\r\n\t<div align=\"center\">\r\n<DisplayPageHeader headerName={ (props.mode ===\"ADD\") ? \"Add new Batch\" : `Edit batch ${props.batchRec.bid}` } groupName=\"\" tournament=\"\" />\r\n\t\t<br />\r\n\t\t<Box margin={1} className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t\t<ValidatorForm margin={2} align=\"center\" className={gClasses.form} onSubmit={handleAddEditSubmit}  >\r\n\t\t\t<Grid key=\"ADDEDITBATCH\" className={gClasses.noPadding} container alignItems=\"flex-start\" >\r\n\t\t\t\t<Grid style={{margin: \"10px\"}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t\t<Grid item xs={6} sm={6} md={3} lg={3} >\r\n\t\t\t\t\t<Typography className={gClasses.info18Blue} >Area</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={6} sm={6} md={3} lg={3} >\r\n\t\t\t\t\t<VsSelect size=\"small\" align=\"center\" options={areaArray} field=\"mergedName\" value={newArea} onChange={(event) => { setNewArea(event.target.value)}} />\t\t\t\r\n\t\t\t\t</Grid>\r\n\t\t\t\t{((dispType == \"xs\") || (dispType == \"sm\")) &&\r\n\t\t\t\t\t<Grid style={{margin: \"10px\"}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t\t}\r\n\t\t\t\t<Grid item xs={6} sm={6} md={3} lg={3} >\r\n\t\t\t\t\t<Typography className={gClasses.info18Blue} >Faculty</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={6} sm={6} md={3} lg={3} >\r\n\t\t\t\t\t<VsSelect size=\"small\" align=\"center\" options={facultyArray} field=\"mergedName\" value={newFaculty} onChange={(event) => { setNewFaculty(event.target.value)}} />\t\t\t\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid style={{margin: \"10px\"}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t\t<Grid item xs={6} sm={6} md={3} lg={3} >\r\n\t\t\t\t\t<Typography className={gClasses.info18Blue} >Fees</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={6} sm={6} md={3} lg={3} >\r\n\t\t\t\t\t<TextValidator variant=\"outlined\" required name=\"auctioncoins\" type=\"number\"\r\n\t\t\t\t\t\tvalue={newFess} onChange={(event) => setNewFees(event.target.value)}\r\n\t\t\t\t\t\tvalidators={['required', 'minNumber:0', 'maxNumber:10000', 'isNumeric']}\r\n\t\t\t\t\t\terrorMessages={['Session fees to be provided', 'Fees cannot be less than 0', 'Fees cannot be more than 10000',NOFRACTION ]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t{((dispType == \"xs\") || (dispType == \"sm\")) &&\r\n\t\t\t\t\t<Grid style={{margin: \"10px\"}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t\t}\r\n\t\t\t\t<Grid item xs={6} sm={6} md={3} lg={3} >\r\n\t\t\t\t\t<Typography className={gClasses.info18Blue} >Duration</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={6} sm={6} md={3} lg={3} >\r\n\t\t\t\t\t<VsSelect size=\"small\" align=\"center\" options={DURATIONSTR} field=\"name\" value={sessDuration} onChange={(event) => { setSessDuration(event.target.value)}} />\t\t\t\r\n\t\t\t\t</Grid>\r\n\t\t\t\t{((dispType == \"xs\") || (dispType == \"sm\")) &&\r\n\t\t\t\t\t<Grid style={{margin: \"10px\"}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t\t}\r\n\t\t\t\t<Grid style={{margin: \"10px\"}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t\t<Grid style={{margin: \"10px\"}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t\t<Grid item xs={8} sm={8} md={10} lg={10} >\r\n\t\t\t\t\t<Typography className={gClasses.info18Blue}>Batch students</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t{ (props.mode === \"ADD\") &&\r\n\t\t\t\t\t<Grid  item xs={4} sm={4} md={2} lg={2} >\r\n\t\t\t\t\t\t<VsButton type=\"button\" name=\"Add Student\" onClick={handleAddStudent} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t}\r\n\t\t\t\t<Grid style={{margin: \"10px\"}} item xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t\t\t<Table  align=\"center\">\r\n\t\t\t\t\t<TableHead p={0}>\r\n\t\t\t\t\t<TableRow key=\"header\" align=\"center\">\r\n\t\t\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Name</TableCell>\r\n\t\t\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\"></TableCell>\r\n\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t<TableBody p={0}>\r\n\t\t\t\t\t\t{batchStudents.map(x => {\r\n\t\t\t\t\t\t\t\tvar myClasses = gClasses.td;\r\n\t\t\t\t\t\t\t\t//console.log(x);\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<TableRow key={x.sid} align=\"center\">\r\n\t\t\t\t\t\t\t\t<TableCell align=\"center\" className={myClasses} p={0} >{x.mergedName}</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell align=\"center\" className={myClasses} p={0} >\r\n\t\t\t\t\t\t\t\t\t<IconButton disabled={props.mode !== \"ADD\"} color=\"primary\"  size=\"small\" onClick={() => {handleEditStudent(x)}} ><EditIcon /> </IconButton>\r\n\t\t\t\t\t\t\t\t\t<IconButton disabled={props.mode !== \"ADD\"} color=\"secondary\"  size=\"small\" onClick={() => {handleDelStudent(x)}} ><CancelIcon /> </IconButton>\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t)})}\r\n\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid style={{margin: \"10px\"}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t\t<Grid item xs={8} sm={8} md={10} lg={10} >\r\n\t\t\t\t\t<Typography className={gClasses.info18Blue}>Session schedule (per week)</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid  item xs={4} sm={4} md={2} lg={2} >\r\n\t\t\t\t\t<VsButton type=\"button\" name=\"Add Session\" onClick={handleAddSession} />\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid style={{margin: \"10px\"}} item xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t\t\t<Table  align=\"center\">\r\n\t\t\t\t\t<TableHead p={0}>\r\n\t\t\t\t\t<TableRow key=\"header\" align=\"center\">\r\n\t\t\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Day</TableCell>\r\n\t\t\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Time</TableCell>\r\n\t\t\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\"></TableCell>\r\n\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t<TableBody p={0}>\r\n\t\t\t\t\t\t{batchSessions.map( x => {\r\n\t\t\t\t\t\t\t\tvar myClasses = gClasses.td;\r\n\t\t\t\t\t\t\t\t//var timStr = `x.name`;\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<TableRow key={x.name+x.day} align=\"center\">\r\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"  className={myClasses} p={0} >{x.day}</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"  className={myClasses} p={0} >{x.name}</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"  className={myClasses} p={0} >\r\n\t\t\t\t\t\t\t\t\t<IconButton color=\"primary\"  size=\"small\" onClick={() => {handleEditSession(x)}} ><EditIcon /> </IconButton>\r\n\t\t\t\t\t\t\t\t\t<IconButton color=\"secondary\"  size=\"small\" onClick={() => {handleDelSession(x)}} ><CancelIcon /> </IconButton>\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t)})}\r\n\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<br />\r\n\t\t\t\t<ShowResisterStatus />\r\n\t\t\t\t<br />\r\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t\t\t<VsButton align=\"center\" type=\"submit\" name={(props.mode == \"EDIT\") ? \"Update Batch\" : \"Add Batch\"} />\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t</ValidatorForm>\r\n\t\t\t<ValidComp />   \r\n\t\t</Box>\r\n\t\t<Drawer anchor=\"right\" variant=\"temporary\" open={drawer != \"\"}>\r\n\t\t\t<Box style={{margin: \"20px\"}} margin={1} className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t\t\t<VsCancel align=\"right\" onClick={() => { setDrawer(\"\")}} />\r\n\t\t\t\t<br />\r\n\t\t\t\t<br />\r\n\t\t\t\t{((drawer === \"ADDSTUDENT\") || (drawer === \"EDITSTUDENT\")) &&\r\n\t\t\t\t\t<div align=\"center\">\r\n\t\t\t\t\t<Typography className={gClasses.info18Blue} >{((drawer === \"ADDSTUDENT\") ? \"Add\" : \"Edit\") +  \" Student\"}</Typography>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<VsSelect size=\"small\" align=\"center\" options={studentArray} field=\"mergedName\" value={newStudent} onChange={(event) => { setNewStudent(event.target.value)}} />\t\t\t\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<ShowResisterStatus />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<VsButton type=\"button\" name=\"Submit Student\" onClick={handleAddEditSubmitStudent} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\t{((drawer === \"ADDSESSION\") || (drawer === \"EDITSESSION\")) &&\r\n\t\t\t\t\t<div align=\"center\">\r\n\t\t\t\t\t<Typography className={gClasses.info18Blue} >{((drawer === \"ADDSESSION\") ? \"Add\" : \"Edit\") + \" Session\"}</Typography>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<Grid style={{margin: \"10px\"}} key=\"ADDSESSION\" className={gClasses.noPadding} container alignItems=\"flex-start\" >\r\n\t\t\t\t\t\t<Grid style={{margin: \"10px\"}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t\t\t\t<Grid item xs={6} sm={6} md={6} lg={6} align=\"left\" >\r\n\t\t\t\t\t\t\t<Typography className={gClasses.info18Blue} >Day of the week</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<VsSelect size=\"small\" align=\"center\" options={SHORTWEEKSTR} value={newDay} onChange={(event) => { setNewDay(event.target.value)}} />\t\t\t\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid style={{margin: \"10px\"}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t\t\t\t<Grid item xs={6} sm={6} md={6} lg={6} align=\"left\" >\r\n\t\t\t\t\t\t\t<Typography className={gClasses.info18Blue} >Start Time</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<VsSelect size=\"small\" align=\"center\" options={BATCHTIMESTR} field=\"name\" value={newHourMinute} onChange={(event) => { setNewHourMinute(event.target.value)}} />\t\t\t\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<ShowResisterStatus />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<VsButton type=\"button\" name=\"Submit Session\" onClick={handleAddEditSubmitSession} />\r\n\t\t\t\t\t</div>\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t</Box>\r\n\t\t</Drawer>\r\n\t\t<ToastContainer />\r\n\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n// import { Switch, Route, Link } from 'react-router-dom';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Container from '@material-ui/core/Container';\r\n\r\nimport Drawer from '@material-ui/core/Drawer';\r\n//import Tooltip from \"react-tooltip\";\r\n//import ReactTooltip from 'react-tooltip'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport BlueRadio from 'components/Radio/BlueRadio';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport { JumpButton, DisplayPageHeader, ValidComp, BlankArea} from 'CustomComponents/CustomComponents.js';\r\n\r\nimport lodashSortBy from \"lodash/sortBy\";\r\n\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\n\r\nimport FacultySchedule\t from \"views/Faculty/FacultySchedule\"\r\nimport SessionAddEdit\t from \"views/Session/SessionAddEdit\"\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport IndeterminateCheckBoxIcon from '@material-ui/icons/IndeterminateCheckBox';\r\nimport SchoolIcon from '@material-ui/icons/School';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport TableChartSharpIcon from '@material-ui/icons/TableChartSharp';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\n//import { NoGroup, JumpButton, DisplayPageHeader, MessageToUser } from 'CustomComponents/CustomComponents.js';\r\nimport { \r\n\tisMobile, getWindowDimensions, displayType, \r\n\tdecrypt, encrypt ,\r\n\tvsDialog,\r\n\tshowError, showSuccess, showInfo,\r\n} from 'views/functions';\r\n\r\nimport globalStyles from \"assets/globalStyles\";\r\n\r\nimport VsButton from \"CustomComponents/VsButton\"; \r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\nimport VsSelect from \"CustomComponents/VsSelect\";\r\nimport VsRadio from \"CustomComponents/VsRadio\";\r\n\r\nimport BatchAddEdit from \"views/Batch/BatchAddEdit\";\r\n\r\nimport {\r\n\tROLE_FACULTY, ROLE_STUDENT,\r\n\tALLSELECTIONS, BLANKCHAR, STATUS_INFO,\r\n\tDURATIONSTR, BATCHTIMESTR,\r\n} from 'views/globals';\r\n\r\n\r\nimport {\r\n\tmergedName, getCodeFromMergedName, getNameFromMergedName,\r\n\tisAdmin, isAdmMan, isAdmManFac, isFaculty,\r\n} from 'views/functions';\r\n\r\n\r\n\r\nexport default function Batch() {\r\n\t//const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\t\r\n\t\r\n\tconst [mode, setMode] = useState(\"\");\r\n\tconst [batchArray, setBatchArray] = useState([]);\r\n\tconst [masterBatchArray, setMasterBatchArray] = useState([]);\r\n\r\n\tconst [currentMode, setCurrentMode] = useState(ALLSELECTIONS[1]);\r\n\tconst [currentText, setCurrentText] = useState(\"\");\r\n\t\r\n\t//const [batchRec, setBatchRec] = useState(\"\");\r\n\r\n\t// for faculty schule call\r\n\tconst [batchRec, setBatchRec] = useState({sid: [], timings: []});\r\n\tconst [batchTime, setBatchTime] = useState(\"\");\r\n\t\r\n\tconst [showAll, setShowAll] = useState(false);\r\n\t\r\n\tconst [drawer, setDrawer] = useState(\"\");\r\n\tconst [drawerInfo, setDrawerInfo] = useState(\"\");\r\n\tconst [drawerDetail, setDrawerDetail] = useState(\"\");\r\n\tconst [registerStatus, setRegisterStatus] = useState(0);\r\n\t\r\n\tconst [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\tconst [dispType, setDispType] = useState(\"lg\");\r\n\r\n\tuseEffect(() => {\r\n\t\tfunction handleResize() {\r\n\t\t\tlet myDim = getWindowDimensions();\r\n      setWindowDimensions(myDim);\r\n\t\t\t//let myRows = 0;\r\n\t\t\tlet defHeight = 100;\r\n      //console.log(displayType(myDim.width)) ;\r\n      setDispType(displayType(myDim.width));\r\n     \r\n\t\t\t//switch (displayType(myDim.width)) {\r\n\t\t\t//\tcase 'xs': myRows = 10; break;\r\n\t\t\t//\tcase 'sm': myRows = 24; break;\r\n\t\t\t//\tcase 'md': myRows = 36; break;\r\n\t\t\t//\tcase 'lg': myRows = 48; break;\r\n\t\t\t//}\r\n\t\t\t//console.log(myRows);\r\n\t\t\t//setROWSPERPAGE(myRows);\r\n\t\t}\r\n\t\t//console.log(firsTime);\r\n\t\tasync function getAllBatch() {\r\n\t\t\ttry {\r\n\t\t\t\tif (isAdmMan()) {\r\n\t\t\t\t\t//console.log(\"Admin or Main\");\r\n\t\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/batch/list/all`;\r\n\t\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\t\t//console.log(response.data);\r\n\t\t\t\t\tsetMasterBatchArray(response.data);\r\n\t\t\t\t\tfilterBatch(response.data, currentText, currentMode);\r\n\t\t\t\t}\r\n\t\t\t\telse if (isFaculty()) {\r\n\t\t\t\t\tconsole.log(\"Facultyn\");\r\n\t\t\t\t\t// first get the faculty id\r\n\t\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/faculty/enabledfacultybyuid/${sessionStorage.getItem(\"uid\")}/`;\t\t\t\t\r\n\t\t\t\t\tvar response = await axios.get(myUrl);\r\n\t\t\t\t\t// not using facilty id. Get facult's batch\r\n\t\t\t\t\tif (response.data) {\r\n\t\t\t\t\t\tmyUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/batch/enabledbatch/${response.data.fid}`;\r\n\t\t\t\t\t\tresponse = await axios.get(myUrl);\r\n\t\t\t\t\t\tsetMasterBatchArray(response.data);\r\n\t\t\t\t\t\tfilterBatch(response.data, currentText, currentMode);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tconsole.log(\"Not correctr role\");\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\r\n\t\tgetAllBatch();\r\n\t\thandleResize();\r\n\t\twindow.addEventListener('resize', handleResize);\r\n\t}, [])\r\n\r\n\t// function handleTimer() {}\r\n\r\n\r\n\tfunction ShowResisterStatus() {\r\n        // console.log(`Status is ${registerStatus}`);\r\n        let myMsg;\r\n        let errmsg = true;\r\n        switch (registerStatus) {\r\n          case 200:\r\n            myMsg = \"Successfully updated Captain / ViceCaptain details\";\r\n            errmsg = false;\r\n            break;\r\n          case 0:\r\n            myMsg = \"\";\r\n\t\t\t\t\t\terrmsg = false;\r\n            break;\r\n          case -1:\r\n            myMsg = \"Area Code cannot be blank\";\r\n            break;\r\n          case -2:\r\n            myMsg = `Area Code cannot be more than ${MAXAREACODELENGTH} characters`;\r\n            break;\r\n          case -3:\r\n            myMsg = \"Area code already in use\";\r\n            break;\r\n          case -4:\r\n            myMsg = \"Area description cannot be blank\";\r\n            break;\r\n          default:\r\n            myMsg = \"Error updating Captain / ViceCaptain details\";\r\n            break;\r\n        }\r\n\t\t\t\t//console.log(errmsg, registerStatus);\r\n\t\t\t\tif (errmsg)\r\n\t\t\t\t\tshowError(myMsg);\r\n\t\t\t\t\r\n\r\n        let myClass = (errmsg) ? gClasses.error : gClasses.nonerror;\r\n\t\t\t\treturn null;\r\n        return(\r\n          <div>\r\n            <Typography align=\"center\" className={myClass}>{myMsg}</Typography>\r\n          </div>\r\n        );\r\n      }\r\n\r\n\tfunction handleAddBatch() {\r\n\t\t//var batchInfo = {inUse: true, status: STATUS_INFO.ADD_BATCH, msg: \"\", record:  null };\r\n\t\t//sessionStorage.setItem(\"batchInfo\", JSON.stringify(batchInfo));\r\n\t\t//setTab(process.env.REACT_APP_BATCH_ADDEDITBATCH);\r\n\t\tsetBatchRec({sid: [], timings: []});\r\n\t\tsetDrawer(\"ADDBATCH\");\r\n\t}\r\n\t\r\n\tfunction handleEditBatch(rec) {\r\n\t\t//var batchInfo = {inUse: true, status: STATUS_INFO.EDIT_BATCH, msg: \"\", record:  rec };\r\n\t\t//sessionStorage.setItem(\"batchInfo\", JSON.stringify(batchInfo));\r\n\t\t//setTab(process.env.REACT_APP_BATCH_ADDEDITBATCH);\r\n\t\tsetBatchRec(rec);\r\n\t\tsetDrawer(\"EDITBATCH\");\r\n\t}\r\n\t\r\n\tfunction handleAddSession(rec) {\r\n\t\t//var batchInfo = {inUse: true, from: process.env.REACT_APP_BATCH, status: STATUS_INFO.ADD_SESSION, msg: \"\", record:  rec, record2: null };\r\n\t\t//sessionStorage.setItem(\"batchInfo\", JSON.stringify(batchInfo));\r\n\t\t//setTab(process.env.REACT_APP_BATCH_ADDEDITSESSION);\r\n\t\tsetBatchRec(rec);\r\n\t\tsetDrawer(\"ADDSESSION\");\r\n\t}\r\n\t\r\n\tfunction handleBack(sts)\r\n\t{\r\n\t\tif ((sts.msg !== \"\") && (sts.status === STATUS_INFO.ERROR)) showError(sts.msg); \r\n\t\telse if ((sts.msg !== \"\") && (sts.status === STATUS_INFO.SUCCESS)) showSuccess(sts.msg); \r\n\t\t\r\n\t\tif (sts.status !== STATUS_INFO.ERROR) {\r\n\t\t\tif (drawer === \"ADDSESSION\") {\r\n\t\t\t\tvar clonedBatchArray = [].concat(batchArray);\r\n\t\t\t\tvar myRec = clonedBatchArray.find(x => x.bid === batchRec.bid);\r\n\t\t\t\tmyRec.sessionCount += 1;\r\n\t\t\t\tsetBatchArray(clonedBatchArray);\r\n\t\t\t}\t\r\n\t\t}\r\n\t\tsetDrawer(\"\");\r\n\t}\r\n\t\r\n\tfunction handleBackBatch(sts)\r\n\t{\r\n\t\tif ((sts.msg !== \"\") && (sts.status === STATUS_INFO.ERROR)) showError(sts.msg); \r\n\t\telse if ((sts.msg !== \"\") && (sts.status === STATUS_INFO.SUCCESS)) showSuccess(sts.msg);\r\n\t\tif (sts.status !== STATUS_INFO.ERROR) {\r\n\t\t\tif (drawer === \"ADDBATCH\") {\r\n\t\t\t\tvar clonedBatchArray = batchArray.concat([sts.batchRec]);\r\n\t\t\t\tsetBatchArray(clonedBatchArray);\r\n\t\t\t}\t\r\n\t\t\telse {\r\n\t\t\t\tvar clonedBatchArray = batchArray.filter(x => x.bid !== sts.batchRec.bid);\r\n\t\t\t\tsetBatchArray(clonedBatchArray.concat([sts.batchRec]));\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetDrawer(\"\");\r\n\t}\r\n\t\r\n\tfunction handleInfo(rec) {\r\n\t\tsetBatchRec(rec);\r\n\t\tlet tmp = DURATIONSTR.find(x => x.block === rec.sessionTime);\r\n\t\tsetBatchTime(tmp.name);\r\n\t\tsetDrawerInfo(\"detail\");\r\n\t}\r\n\r\n\tfunction handleDeleteBatch(t) {\r\n\t\tvsDialog(\"Delete Batch\", `Are you sure you want to delete batch ${t.bid}?`,\r\n\t\t\t{label: \"Yes\", onClick: () => handleDeleteBatchConfirm(t) },\r\n\t\t\t{label: \"No\" }\r\n\t\t);\r\n\t}\r\n\t\r\n\tasync function handleDeleteBatchConfirm(rec) {\r\n\t\ttry {\r\n\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/batch/delete/${rec.bid}`;\r\n\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\tvar allRec  = batchArray.filter(x => x.bid !== rec.bid);\r\n\t\t\tsetMasterBatchArray(allRec);\r\n\t\t\tfilterBatch(allRec, currentText, currentMode);\r\n\t\t\tshowSuccess(`Successfully deleted batch ${rec.bid}`);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tshowError(\"Error deleting batch\");\r\n\t\t}\r\n\t}\r\n\r\n\tasync function handleFacultySchedule(rec) {\r\n\t\t/*\r\n\t\tvar batchInfo = {inUse: true, from: process.env.REACT_APP_BATCH, status: STATUS_INFO.FACULTYSCHEDULE, msg: \"\", record:  rec };\r\n\t\tsessionStorage.setItem(\"batchInfo\", JSON.stringify(batchInfo));\r\n\t\tsetTab(process.env.REACT_APP_FACULTYSCHEDULE);\r\n\t\t*/\r\n\t\tsetBatchRec(rec);\r\n\t\tsetShowAll(isAdmMan());\r\n\t\tsetDrawer(\"FACULTYSCHEDULE\");\r\n\t\t\r\n\t}\r\n\r\n\tfunction DisplayAllToolTips() {\r\n\treturn(\r\n\t\t<div>\r\n\t\t{batchArray.map( t =>\r\n\t\t\t<DisplaySingleTip id={\"USER\"+t.uid} />\r\n\t\t)}\r\n\t\t</div>\r\n\t)}\r\n\r\n\tfunction DisplaySingleTip(props) {\r\n\t\treturn null; //<Tooltip className={gClasses.tooltip} backgroundColor='#42EEF9' borderColor='black' arrowColor='blue' textColor='black' key={props.id} type=\"info\" effect=\"float\" id={props.id} multiline={true}/>\r\n\t}\r\n\t\r\n\t\tfunction handleDisableBatch(t) {\r\n\t\tvsDialog(\"Disable Batch\", `Are you sure you want disable batch ${t.bid}?`,\r\n\t\t\t{label: \"Yes\", onClick: () => handleDisableBatchConfirm(t) },\r\n\t\t\t{label: \"No\" }\r\n\t\t);\r\n\t}\r\n\t\r\n\tasync function handleDisableBatchConfirm(rec) {\r\n\t\tlet myRec = masterBatchArray.find(x => x.bid === rec.bid);\r\n\t\ttry {\r\n\t\t\tawait axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/batch/disabled/${myRec.bid}`);\r\n\t\t\tmyRec.enabled = false;\r\n\t\t\tvar allRec  = [].concat(masterBatchArray)\r\n\t\t\tsetMasterBatchArray(allRec);\r\n\t\t\tfilterBatch(allRec, currentText, currentMode);\r\n\t\t\tshowSuccess(`Disabled batch ${myRec.bid}`);\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\t// error \r\n\t\t\tconsole.log(e);\r\n\t\t\tshowError(\"Error disabling batch \"+ rec.bid);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleEnableBatch(t) {\r\n\t\tvsDialog(\"Enable Batch\", `Are you sure you want enable batch ${t.bid}?`,\r\n\t\t\t{label: \"Yes\", onClick: () => handleEnableBatchConfirm(t) },\r\n\t\t\t{label: \"No\" }\r\n\t\t);\r\n\t}\r\n\t\r\n\tasync function handleEnableBatchConfirm(rec) {\r\n\t\tlet myRec = masterBatchArray.find(x => x.bid === rec.bid);\r\n\t\ttry {\r\n\t\t\tawait axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/batch/enabled/${myRec.bid}`);\r\n\t\t\tmyRec.enabled = true;\r\n\t\t\tvar allRec  = [].concat(masterBatchArray);\r\n\t\t\tsetMasterBatchArray(allRec);\r\n\t\t\tfilterBatch(allRec, currentText, currentMode);\r\n\t\t\tshowSuccess(`Disabled batch ${myRec.bid}`);\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\t// error \r\n\t\t\tconsole.log(e);\r\n\t\t\tshowError(\"Error enabling batch \"+rec.bid);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction DisplayAllBatch() {\r\n\t\t//console.log(dispType);\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t<Table  align=\"center\">\r\n\t\t\t<TableHead p={0}>\r\n\t\t\t<TableRow key=\"header\" align=\"center\">\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Batch</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Faculty</TableCell>\r\n\t\t\t\t{((dispType == \"md\") || (dispType == \"lg\")) &&\r\n\t\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Students</TableCell>\r\n\t\t\t\t}\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Days</TableCell>\r\n\t\t\t\t{((dispType == \"md\") || (dispType == \"lg\")) &&\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Sessions</TableCell>\r\n\t\t\t\t}\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\"></TableCell>\r\n\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t\t<TableBody p={0}>\r\n\t\t\t\t{batchArray.map(x => {\r\n\t\t\t\t\tlet myInfo = \"Address\" + \"<br />\";\r\n\t\t\t\t\t\tmyInfo +=  x.addr1 + \"<br />\";\r\n\t\t\t\t\t\tmyInfo +=  x.addr2 + \"<br />\";\r\n\t\t\t\t\t\tmyInfo +=  x.addr3 + \"<br />\";\r\n\t\t\t\t\t\tmyInfo +=  x.addr4 + \"<br />\";\r\n\t\t\t\t\t\t//console.log(x);\r\n\t\t\t\t\t\tvar sList = [];\r\n\t\t\t\t\t\tx.sid.forEach( (item) => {\r\n\t\t\t\t\t\t\tsList.push(item);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tvar tList = [];\r\n\t\t\t\t\t\tx.timings.forEach( (item) => {\r\n\t\t\t\t\t\t\ttList.push(item.day);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tvar myClasses = (x.enabled) ? gClasses.td : gClasses.disabledtd;\r\n\t\t\t\t\t\t//console.log(x)\r\n\t\t\t\t\t\tvar myStudents = [];\r\n\t\t\t\t\t\t//console.log(x);\r\n\t\t\t\t\t\tfor(var i=0; i<x.studentNameList.length; ++i) {\r\n\t\t\t\t\t\t\tmyStudents.push(mergedName(x.studentNameList[i], x.sid[i]));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t<TableRow key={x.bid}>\r\n\t\t\t\t\t\t<TableCell align=\"center\" className={myClasses} p={0} >{x.bid}</TableCell>\r\n\t\t\t\t\t\t<TableCell className={myClasses} p={0} >{mergedName(x.facultyName, x.fid)}</TableCell>\r\n\t\t\t\t\t\t{((dispType == \"md\") || (dispType == \"lg\")) &&\r\n\t\t\t\t\t\t\t<TableCell align=\"center\" className={myClasses} p={0} >{myStudents.join()}</TableCell>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<TableCell align=\"center\" className={myClasses} p={0} >{tList.join()}</TableCell>\r\n\t\t\t\t\t\t{((dispType == \"md\") || (dispType == \"lg\")) &&\r\n\t\t\t\t\t\t<TableCell align=\"center\" className={myClasses} p={0} >{x.sessionCount}</TableCell>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<TableCell className={myClasses} p={0} >\r\n\t\t\t\t\t\t\t<IconButton color=\"primary\" disabled={!isAdmMan()} size=\"small\" onClick={() => {handleEditBatch(x)}} ><EditIcon /></IconButton>\r\n\t\t\t\t\t\t\t<IconButton color=\"primary\" size=\"small\" onClick={() => {handleInfo(x)}} ><InfoIcon /></IconButton>\r\n\t\t\t\t\t\t\t{(x.enabled) &&\r\n\t\t\t\t\t\t\t\t<IconButton color=\"primary\" disabled={!isAdmMan()} size=\"small\" onClick={() => {handleDisableBatch(x)}} ><IndeterminateCheckBoxIcon /></IconButton>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{(!x.enabled) &&\r\n\t\t\t\t\t\t\t\t<IconButton color=\"primary\" disabled={!isAdmMan()} size=\"small\" onClick={() => {handleEnableBatch(x)}} ><CheckBoxIcon /></IconButton>\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t<IconButton color=\"primary\" disabled={!x.enabled} size=\"small\" onClick={() => {handleAddSession(x)}} ><SchoolIcon /></IconButton>\r\n\t\t\t\t\t\t\t<IconButton color=\"primary\" disabled={!x.enabled} size=\"small\" onClick={() => {handleFacultySchedule(x)}} ><TableChartSharpIcon /></IconButton>\r\n\t\t\t\t\t\t\t<IconButton disabled={(x.sessionCount > 0) || !isAdmMan() } color=\"secondary\" size=\"small\" onClick={() => {handleDeleteBatch(x)}} ><CancelIcon /></IconButton>\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t</TableRow>\r\n\t\t\t\t)})}\r\n\t\t\t</TableBody>\r\n\t\t\t</Table>\r\n\t\t</div>\r\n\t\t);\r\n\r\n\t}\r\n\t\r\n\tfunction filterBatch(masterArray, textFilter, modeFilter) {\r\n\t\tvar filteredArray = [].concat(masterArray);\r\n\t\t\r\n\t\t// First filter on mode\r\n\t\tswitch (modeFilter) {\r\n\t\t\tcase \"Disabled\":  filteredArray = filteredArray.filter(x => !x.enabled );  break;\r\n\t\t\tcase \"Enabled\":   filteredArray = filteredArray.filter(x => x.enabled );  break;\r\n\t\t\t//default:          setBatchArray(masterArray);  break;\r\n\t\t}\r\n\t\t\r\n\t\tvar finalFilterArray = [];\r\n\t\t// Now filter on text\r\n\t\tif (textFilter !== \"\") {\r\n\t\t\ttextFilter = textFilter.toUpperCase();\r\n\t\t\t// start filter process on all records one by one\r\n\t\t\tfor(var i=0; i<filteredArray.length; ++i) {\r\n\t\t\t\tif (\r\n\t\t\t\t\t(filteredArray[i].bid.includes(textFilter)) ||\r\n\t\t\t\t\t(filteredArray[i].fid.includes(textFilter)) ||\r\n\t\t\t\t\t(filteredArray[i].facultyName.toUpperCase().includes(textFilter)) ||\r\n\t\t\t\t\t(filteredArray[i].sid.includes(textFilter))\r\n\t\t\t\t) {\r\n\t\t\t\t\tfinalFilterArray.push(filteredArray[i]);\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tfor(var j=0; j<filteredArray[i].studentNameList.length; ++j) {\r\n\t\t\t\t\t\tif (filteredArray[i].studentNameList[j].toUpperCase().includes(textFilter)) {\r\n\t\t\t\t\t\t\tfinalFilterArray.push(filteredArray[i]);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse  {\r\n\t\t\tfinalFilterArray = filteredArray\t\t\t// no filter required\r\n\t\t}\r\n\t\tsetBatchArray(finalFilterArray);\r\n\t}\r\n\t\r\n\r\n\t// style={{marginTop: \"5px\" }}  \r\n\tfunction DisplayOptions() {\r\n\treturn (\r\n\t<Grid key=\"Options\" className={gClasses.noPadding} container alignItems=\"center\" >\r\n\t\t<Grid  item xs={3} sm={2} md={2} lg={1} >\r\n\t\t\t<VsSelect size=\"small\" align=\"center\" label=\"Selection\" options={ALLSELECTIONS} value={currentMode} onChange={(event) => { setModeFilter(event.target.value)}} />\r\n\t\t</Grid>\r\n\t\t<Grid align=\"left\"  item xs={6} sm={7} md={8} lg={10} >\r\n\t\t\t<span></span>\r\n\t\t</Grid>\r\n\t\t<Grid  item xs={3} sm={3} md={2} lg={1} >\r\n\t\t\t<VsButton disabled={!isAdmMan()} name=\"New Batch\" align=\"right\" onClick={handleAddBatch} />\r\n\t\t</Grid>\r\n\t</Grid>\r\n\t)}\r\n\t\r\n\tfunction setTextFilter(textValue) {\r\n\t\ttextValue = textValue.toLowerCase();\r\n\t\tsetCurrentText(textValue);\r\n\t\tfilterBatch(masterBatchArray, textValue, currentMode);\r\n\t}\r\n\r\n\tfunction setModeFilter(modeValue) {\r\n\t\tsetCurrentMode(modeValue);\r\n\t\tfilterBatch(masterBatchArray, currentText, modeValue);\r\n\t}\r\n\t\r\n\tfunction DisplayFilter() {\r\n\treturn (\t\r\n\t\t<div>\r\n\t\t<Box margin={1} className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} paddingTop={1} >\r\n\t\t<Grid key=\"Filter\" className={gClasses.noPadding} container  >\r\n\t\t\t<Grid  item xs={3} sm={2} md={2} lg={1} align=\"left\"  >\r\n\t\t\t\t<VsSelect size=\"small\" align=\"left\" options={ALLSELECTIONS} value={currentMode} onChange={(event) => { setModeFilter(event.target.value)}} />\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={1} sm={1} md={1} lg={1} align=\"right\"   >\r\n\t\t\t\t<TextField fullWidth  value={currentText} onChange={ (event) => { setTextFilter(event.target.value) } } />\t\r\n\t\t\t</Grid>\r\n\t\t\t<Grid  item xs={5} sm={6} md={7} lg={9} >\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={1} sm={1} md={1} lg={1} align=\"right\"   >\r\n\t\t\t\t<IconButton align=\"right\"  color=\"primary\" size=\"small\" onClick={(event) => {setTextFilter(event.target.value) } } ><SearchIcon /></IconButton>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid  item xs={3} sm={3} md={2} lg={1} >\r\n\t\t\t\t<VsButton disabled={!isAdmMan()} name=\"New Batch\" align=\"right\" onClick={handleAddBatch} />\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t\t</Box>\r\n\t\t</div>\r\n\t)}\r\n\t\r\n\r\n\treturn (\r\n\t<div>\r\n\t<DisplayPageHeader headerName=\"Batch\" groupName=\"\" tournament=\"\" />\r\n\t<Box margin={1} className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} paddingTop={1} >\r\n\t\t<Grid key=\"Filter\" className={gClasses.noPadding} container  >\r\n\t\t\t<Grid  item xs={3} sm={2} md={2} lg={1} align=\"left\"  >\r\n\t\t\t\t<VsSelect size=\"small\" align=\"left\" options={ALLSELECTIONS} value={currentMode} onChange={(event) => { setModeFilter(event.target.value)}} />\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={1} sm={1} md={4} lg={3}  >\r\n\t\t\t\t<TextField fullWidth label=\"Filter Text\" value={currentText} onChange={ (event) => { setTextFilter(event.target.value) } } />\t\r\n\t\t\t</Grid>\r\n\t\t\t<Grid  item xs={5} sm={6} md={4} lg={7} >\r\n\t\t\t</Grid>\r\n\t\t\t<Grid  item xs={3} sm={3} md={2} lg={1} >\r\n\t\t\t\t<VsButton disabled={!isAdmin()} name=\"New Batch\" align=\"right\" onClick={handleAddBatch} />\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t</Box>\r\n\t<DisplayAllBatch/>\r\n\t{/*<DisplayAllToolTips />*/}\r\n\t<Drawer anchor=\"top\" variant=\"temporary\" open={drawer !== \"\"}>\r\n\t\t<VsCancel align=\"right\" onClick={() => { setDrawer(\"\")}} />\r\n\t\t{(drawer === \"FACULTYSCHEDULE\") &&\r\n\t\t\t<FacultySchedule faculty={{name: batchRec.facultyName, fid: batchRec.fid} } all={showAll} />\r\n\t\t}\r\n\t\t{(drawer === \"ADDSESSION\") &&\r\n\t\t\t<SessionAddEdit mode=\"ADD\" batchRec={batchRec} sessionRec={null} onReturn={handleBack} />\r\n\t\t}\r\n\t\t{( (drawer === \"ADDBATCH\") || (drawer === \"EDITBATCH\") ) &&\r\n\t\t\t<BatchAddEdit mode={(drawer === \"ADDBATCH\") ? \"ADD\" : \"EDIT\"}  batchRec={batchRec} onReturn={handleBackBatch} />\r\n\t\t}\r\n\t</Drawer>\r\n\t<Drawer anchor=\"bottom\" variant=\"temporary\" open={drawerInfo !== \"\"} >\r\n\t\t<Container component=\"main\" maxWidth=\"xs\">\t\r\n\t\t<Box margin={1} className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} paddingLeft={2} >\t\t<VsCancel align=\"right\" onClick={() => { setDrawerInfo(\"\")}} />\t\r\n\t\t<DisplayPageHeader headerName={`Batch details`} groupName=\"\" tournament=\"\" />\r\n\t\t\t<Grid key=\"INFOBATCH\" className={gClasses.noPadding} container alignItems=\"flex-start\" >\r\n\t\t\t\t<Grid style={{margin: \"5px\"}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t\t<Grid item xs={5} sm={5} md={5} lg={5} >\r\n\t\t\t\t\t<Typography className={gClasses.info18Blue} >Batch Id</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={7} sm={7} md={7} lg={7} >\r\n\t\t\t\t\t<Typography className={gClasses.info18} >{batchRec.bid}</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={5} sm={5} md={5} lg={5} >\r\n\t\t\t\t\t<Typography className={gClasses.info18Blue} >Faculty</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={7} sm={7} md={7} lg={7} >\r\n\t\t\t\t\t<Typography className={gClasses.info18} >{mergedName(batchRec.facultyName,  batchRec.fid)}</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid style={{margin: \"5px\"}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t\t<Grid item xs={5} sm={5} md={5} lg={5} >\r\n\t\t\t\t\t<Typography className={gClasses.info18Blue} >Fees</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={7} sm={7} md={7} lg={7} >\r\n\t\t\t\t\t<Typography className={gClasses.info18} >{batchRec.fees}</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={5} sm={5} md={5} lg={5} >\r\n\t\t\t\t\t<Typography className={gClasses.info18Blue} >Duration</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={7} sm={7} md={7} lg={7} >\r\n\t\t\t\t\t<Typography className={gClasses.info18} >{batchTime}</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid style={{margin: \"10px\"}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t\t<Grid item xs={8} sm={8} md={10} lg={10} >\r\n\t\t\t\t\t<Typography className={gClasses.info18Blue}>Batch students</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid style={{margin: \"5px\"}} item xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t\t\t<Table  align=\"center\">\r\n\t\t\t\t\t<TableHead p={0}>\r\n\t\t\t\t\t<TableRow key=\"header\" align=\"center\">\r\n\t\t\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Name</TableCell>\r\n\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t<TableBody p={0}>\r\n\t\t\t\t\t\t{batchRec.sid.map( (x, index) => {\r\n\t\t\t\t\t\t\t\tvar myClasses = gClasses.td;\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<TableRow key={x} align=\"center\">\r\n\t\t\t\t\t\t\t\t<TableCell align=\"center\" className={myClasses} p={0} >{mergedName(batchRec.studentNameList[index], batchRec.sid[index])}</TableCell>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t)})}\r\n\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid style={{margin: \"5px\"}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t\t\t<Typography style={{margin: \"10px\"}} className={gClasses.info18Blue}>Session schedule (per week)</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid style={{margin: \"10px\"}} item xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t\t\t<Table  align=\"center\">\r\n\t\t\t\t\t<TableHead p={0}>\r\n\t\t\t\t\t<TableRow key=\"header\" align=\"center\">\r\n\t\t\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Day</TableCell>\r\n\t\t\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Time</TableCell>\r\n\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t<TableBody p={0}>\r\n\t\t\t\t\t\t{batchRec.timings.map( x => {\r\n\t\t\t\t\t\t\t\tvar myClasses = gClasses.td;\r\n\t\t\t\t\t\t\t\t//var timStr = `x.name`;\r\n\t\t\t\t\t\t\t\tvar myTime = BATCHTIMESTR.find(rec => (rec.hour === x.hour) && (rec.min === x.minute));\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<TableRow key={x.day+x.hour+x.minute} align=\"center\">\r\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"  className={myClasses} p={0} >{x.day}</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell align=\"center\"  className={myClasses} p={0} >{myTime.name}</TableCell>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t)})}\r\n\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t<br />\r\n\t\t\t</Grid>\r\n\t\t\t</Box>\r\n\t\t\t</Container>\r\n\t</Drawer>\r\n\t<ToastContainer />\r\n\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n// import { Switch, Route, Link } from 'react-router-dom';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport BlueRadio from 'components/Radio/BlueRadio';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport { JumpButton, DisplayPageHeader, ValidComp, BlankArea} from 'CustomComponents/CustomComponents.js';\r\n\r\nimport lodashSortBy from \"lodash/sortBy\";\r\n\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\n\r\nimport FacultySchedule\t from \"views/Faculty/FacultySchedule\"\r\nimport SessionAddEdit\t from \"views/Session/SessionAddEdit\"\r\n\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport IndeterminateCheckBoxIcon from '@material-ui/icons/IndeterminateCheckBox';\r\nimport SchoolIcon from '@material-ui/icons/School';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport TableChartSharpIcon from '@material-ui/icons/TableChartSharp';\r\n\r\nimport globalStyles from \"assets/globalStyles\";\r\n\r\nimport VsButton from \"CustomComponents/VsButton\"; \r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\nimport VsSelect from \"CustomComponents/VsSelect\";\r\nimport VsRadio from \"CustomComponents/VsRadio\";\r\n\r\n//import BatchAddEdit from \"./BatchAddEdit\";\r\n\r\nimport {\r\n\tROLE_FACULTY, ROLE_STUDENT,\r\n\tALLSELECTIONS, BLANKCHAR, STATUS_INFO,\r\n} from 'views/globals';\r\n\r\n\r\nimport {\r\n\tisMobile, getWindowDimensions, displayType, \r\n\tdecrypt, encrypt,\r\n\tmergedName, getCodeFromMergedName, getNameFromMergedName,\r\n\tisAdmin, isAdmMan, isAdmManFac, isFaculty,\r\n\tdateString, vsDialog,\r\n\tshowError, showSuccess, showInfo,\r\n} from 'views/functions';\r\n\r\n\r\n\r\nexport default function Session() {\r\n\t//const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\t//const alert = useAlert();\r\n\t\t\r\n\t\r\n\tconst [currentSelection, setCurrentSelection] = useState(ALLSELECTIONS[0]);\r\n\tconst [mode, setMode] = useState(\"\");\r\n\tconst [sessionArray, setSessionArray] = useState([]);\r\n\tconst [studentSession, setStudentSession] = useState([]);\r\n\tconst [studentRec, setStudentRec] = useState([]);\r\n\t//const [masterBatchArray, setMasterBatchArray] = useState([]);\r\n\r\n\tconst [batchRec, setBatchRec] = useState({});\r\n\r\n\t// for faculty schule call\r\n\tconst [sessionRec, setSessionRec] = useState({});\r\n\tconst [showAll, setShowAll] = useState(false);\r\n\t\r\n\tconst [drawer, setDrawer] = useState(\"\");\r\n\tconst [drawerInfo, setDrawerInfo] = useState(\"\");\r\n\tconst [registerStatus, setRegisterStatus] = useState(0);\r\n\t\r\n\tconst [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\tconst [dispType, setDispType] = useState(\"lg\");\r\n\r\n\tuseEffect(() => {\r\n\t\tfunction handleResize() {\r\n\t\t\tlet myDim = getWindowDimensions();\r\n      setWindowDimensions(myDim);\r\n\t\t\t//let myRows = 0;\r\n\t\t\tlet defHeight = 100;\r\n      //console.log(displayType(myDim.width)) ;\r\n      setDispType(displayType(myDim.width));\r\n     \r\n\t\t\t//switch (displayType(myDim.width)) {\r\n\t\t\t//\tcase 'xs': myRows = 10; break;\r\n\t\t\t//\tcase 'sm': myRows = 24; break;\r\n\t\t\t//\tcase 'md': myRows = 36; break;\r\n\t\t\t//\tcase 'lg': myRows = 48; break;\r\n\t\t\t//}\r\n\t\t\t//console.log(myRows);\r\n\t\t\t//setROWSPERPAGE(myRows);\r\n\t\t}\r\n\t\t//console.log(firsTime);\r\n\t\tasync function getAllSessions() {\r\n\t\t\ttry {\r\n\t\t\t\tif (isAdmMan()) {\r\n\t\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/session/list/all`;\r\n\t\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\t\t//console.log(response.data);\r\n\t\t\t\t\tsetSessionArray(response.data);\r\n\t\t\t\t\t//setMasterBatchArray(response.data);\r\n\t\t\t\t}\r\n\t\t\t\telse if (isFaculty()) {\r\n\t\t\t\t\t// first get the faculty id\r\n\t\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/faculty/enabledfacultybyuid/${sessionStorage.getItem(\"uid\")}/`;\t\t\t\t\r\n\t\t\t\t\tvar response = await axios.get(myUrl);\r\n\t\t\t\t\t//console.log(response.data);\r\n\t\t\t\t\t// now using faculty id. Get faculty's batch\r\n\t\t\t\t\tif (response.data) {\r\n\t\t\t\t\t\tmyUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/session/list/byFaculty/${response.data.fid}`;\r\n\t\t\t\t\t\tresponse = await axios.get(myUrl);\r\n\t\t\t\t\t\tsetSessionArray(response.data);\r\n\t\t\t\t\t\t//setMasterBatchArray(response.data);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tconsole.log(\"Not correct role\");\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t/*\r\n\t\tvar myData = sessionStorage.getItem(\"batchInfo\");\r\n\t\tif (myData) {\r\n\t\t\tvar tmp = JSON.parse(myData);\r\n\t\t\tswitch (tmp.status) {\r\n\t\t\t\tcase STATUS_INFO.OKAY:   alert(tmp.msg); break;\r\n\t\t\t\tcase STATUS_INFO.ERROR:  alert(tmp.msg); break;\r\n\t\t\t}\r\n\t\t}\r\n\t\tsessionStorage.removeItem(\"batchInfo\");\r\n\t\t*/\r\n\t\t\r\n\t\tgetAllSessions();\r\n\t\thandleResize();\r\n\t\twindow.addEventListener('resize', handleResize);\r\n\t}, [])\r\n\r\n\r\n\tfunction ShowResisterStatus() {\r\n        // console.log(`Status is ${registerStatus}`);\r\n        let myMsg;\r\n        let errmsg = true;\r\n        switch (registerStatus) {\r\n          case 200:\r\n            myMsg = \"Successfully updated Captain / ViceCaptain details\";\r\n            errmsg = false;\r\n            break;\r\n          case 0:\r\n            myMsg = \"\";\r\n\t\t\t\t\t\terrmsg = false;\r\n            break;\r\n          case -1:\r\n            myMsg = \"Area Code cannot be blank\";\r\n            break;\r\n          case -2:\r\n            myMsg = `Area Code cannot be more than ${MAXAREACODELENGTH} characters`;\r\n            break;\r\n          case -3:\r\n            myMsg = \"Area code already in use\";\r\n            break;\r\n          case -4:\r\n            myMsg = \"Area description cannot be blank\";\r\n            break;\r\n          default:\r\n            myMsg = \"Error updating Captain / ViceCaptain details\";\r\n            break;\r\n        }\r\n\t\t\t\t//console.log(errmsg, registerStatus);\r\n\t\t\t\tif (errmsg)\r\n\t\t\t\t\talert(myMsg);\r\n\t\t\t\t//else\r\n\t\t\t\t//\talert.info(\r\n        let myClass = (errmsg) ? gClasses.error : gClasses.nonerror;\r\n\t\t\t\treturn null;\r\n        return(\r\n          <div>\r\n            <Typography align=\"center\" className={myClass}>{myMsg}</Typography>\r\n          </div>\r\n        );\r\n      }\r\n\r\n\r\n\tfunction handleDelSession(rec) {\r\n\t\tsetDrawerInfo(\"\");\r\n\t\tvsDialog(\"Delete Session\", `Are you sure you want delete session number ${rec.sessionNumber} dated ${dateString(rec.sessionDate)}?`,\r\n\t\t\t{label: \"Yes\", onClick: () => handleDelSessionConfirm(rec) },\r\n\t\t\t{label: \"No\", onClick: () => setDrawerInfo(\"detail\") }\r\n\t\t);\r\n\t\t\r\n\t}\r\n\t\r\n\tasync function  handleDelSessionConfirm(rec) {\r\n\t\tsetDrawerInfo(\"detail\");\r\n\t\ttry {\r\n\t\t\tawait axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/session/delete/${rec._id}/${rec.bid}`);\r\n\t\t\t// Delete the session entry\r\n\t\t\tsetStudentSession(studentSession.filter(x => x._id !== rec._id));\r\n\t\t\t// Now reduce session count in session array\r\n\t\t\tvar clonedArray = [].concat(sessionArray);\r\n\t\t\tvar tmp = clonedArray.find(x => x.sid === studentRec.sid);\r\n\t\t\ttmp.count -= 1;\r\n\t\t\tif (tmp.count === 0) \r\n\t\t\t\tclonedArray = clonedArray.filter(x => x.sid !== studentRec.sid);\t\t// remove entry if no sessions\r\n\t\t\tsetSessionArray(clonedArray);\r\n\t\t\tshowSuccess(`Deleted  session number ${rec.sessionNumber} dated ${dateString(rec.sessionDate)}`);\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\t// error \r\n\t\t\tconsole.log(e);\r\n\t\t\tshowError(`Error deleting session number ${rec.sessionNumber} dated ${dateString(rec.sessionDate)}`);\r\n\t\t}\r\n\t}\r\n\r\n\tasync function handleAddSession(rec) {\r\n\t\ttry {\r\n\t\t\tvar response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/student/getbatch/${rec.sid}`);\r\n\t\t\tif (response.data.bid === \"\") {\r\n\t\t\t\tshowError(`No current batch for student ${rec.sid}`);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tsetBatchRec(response.data);\r\n\t\t\tsetDrawer(\"ADDSESSION\");\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tshowError(`Error getting batch record of ${rec.sid}`);\r\n\t\t}\r\n\t}\r\n\r\n\tasync function handleEditSession(rec) {\r\n\t\ttry {\r\n\t\t\tvar response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/student/getbatch/${studentRec.sid}`);\r\n\t\t\tsetBatchRec(response.data);\r\n\t\t\tsetSessionRec(rec);\r\n\t\t\tsetDrawer(\"EDITSESSION\");\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tshowError(`Error getting batch record of ${rec.bid}`);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction handleBack(sts)\r\n\t{\r\n\t\tif ((sts.msg !== \"\") && (sts.status === STATUS_INFO.ERROR)) showError(sts.msg); \r\n\t\telse if ((sts.msg !== \"\") && (sts.status === STATUS_INFO.SUCCESS)) showSuccess(sts.msg); \r\n\t\t\r\n\t\tif (sts.status !== STATUS_INFO.ERROR) {\r\n\t\t\tif (drawer === \"ADDSESSION\") {\r\n\t\t\t\tvar clonedSessionArray = [].concat(sessionArray);\r\n\t\t\t\tfor(var i = 0; i < clonedSessionArray.length; ++i) {\r\n\t\t\t\t\tif ( batchRec.sid.includes(clonedSessionArray[i].sid) )\r\n\t\t\t\t\t\tclonedSessionArray[i].count += 1;\r\n\t\t\t\t}\r\n\t\t\t\tsetSessionArray(clonedSessionArray);\r\n\t\t\t}\t\r\n\t\t\telse {\r\n\t\t\t\t// Edit session\r\n\t\t\t\tvar clonedArray = studentSession.filter(x => x._id !== sessionRec._id);\r\n\t\t\t\tclonedArray.push(sts.sessionRec);\r\n\t\t\t\tsetStudentSession(lodashSortBy(clonedArray, 'sessionNumber').reverse());\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetDrawer(\"\");\r\n\t}\r\n\t\t\r\n\tasync function handleInfo(rec) {\r\n\t\t//setSessionRec(rec);\r\n\t\tsetStudentRec(rec);\r\n\t\ttry {\r\n\t\t\tvar response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/session/listbysid/${rec.sid}`);\r\n\t\t\tsetStudentSession(response.data);\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\tsetStudentSession([]);\r\n\t\t\tconsole.log(e);\r\n\t\t\tshowError(`Error getting session details of ${mergedName(rec.name, rec.sid)}`);\r\n\t\t}\r\n\t\tsetDrawerInfo(\"detail\");\r\n\t}\r\n\r\n\r\n\tfunction DisplayAllSession() {\r\n\t\t//console.log(dispType);\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t<Table  align=\"center\">\r\n\t\t\t<TableHead p={0}>\r\n\t\t\t<TableRow key=\"header\" align=\"center\">\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Code</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Student</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Sess. Count</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\"></TableCell>\r\n\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t\t<TableBody p={0}>\r\n\t\t\t\t{sessionArray.map(x => {\r\n\t\t\t\t\t\tvar myClasses = gClasses.td ;\r\n\t\t\t\t\t\t//console.log(x)\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t<TableRow key={x.sid}>\r\n\t\t\t\t\t\t<TableCell className={myClasses} p={0} align=\"center\" >{x.sid}</TableCell>\r\n\t\t\t\t\t\t<TableCell className={myClasses} p={0}  >{x.name}</TableCell>\r\n\t\t\t\t\t\t<TableCell className={myClasses} align=\"center\" p={0} >{x.count}</TableCell>\r\n\t\t\t\t\t\t<TableCell className={myClasses} p={0} >\r\n\t\t\t\t\t\t\t<IconButton disabled={x.count === 0} color=\"primary\" size=\"small\" onClick={() => {handleInfo(x)}} ><InfoIcon /></IconButton>\r\n\t\t\t\t\t\t\t<IconButton color=\"primary\"  size=\"small\" onClick={() => {handleAddSession(x)}} ><SchoolIcon /></IconButton>\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t</TableRow>\r\n\t\t\t\t)})}\r\n\t\t\t</TableBody>\r\n\t\t\t</Table>\r\n\t\t</div>\r\n\t\t);\r\n\r\n\t}\r\n\t\r\n\r\n\t// style={{marginTop: \"5px\" }}  \r\n\tfunction DisplayOptions() {\r\n\treturn (\r\n\t<Grid key=\"Options\" className={gClasses.noPadding} container alignItems=\"center\" >\r\n\t\t<Grid  item xs={3} sm={2} md={2} lg={1} >\r\n\t\t\t<VsSelect size=\"small\" align=\"center\" label=\"Selection\" options={ALLSELECTIONS} value={currentSelection} onChange={(event) => { selectAll(event.target.value)}} />\r\n\t\t</Grid>\r\n\t\t<Grid align=\"left\"  item xs={6} sm={7} md={8} lg={10} >\r\n\t\t\t<span></span>\r\n\t\t</Grid>\r\n\t\t<Grid  item xs={3} sm={3} md={2} lg={1} >\r\n\t\t</Grid>\r\n\t</Grid>\r\n\t)}\r\n\t\t\r\n\treturn (\r\n\t<div>\r\n\t<DisplayPageHeader headerName=\"Sessions\" groupName=\"\" tournament=\"\" />\r\n\t<DisplayOptions />\r\n\t<DisplayAllSession/>\r\n\t<Drawer anchor=\"bottom\" variant=\"temporary\" open={drawerInfo !== \"\"} >\r\n\t\t<VsCancel align=\"right\" onClick={() => { setDrawerInfo(\"\")}} />\t\r\n\t\t<DisplayPageHeader headerName={`Session details of ${mergedName(studentRec.name, studentRec.sid)}`} groupName=\"\" tournament=\"\" />\r\n\t\t<Table  align=\"center\">\r\n\t\t<TableHead p={0}>\r\n\t\t<TableRow key=\"header\" align=\"center\">\r\n\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Date</TableCell>\r\n\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Sess. Info</TableCell>\r\n\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Present</TableCell>\r\n\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\"></TableCell>\r\n\t\t</TableRow>\r\n\t\t</TableHead>\r\n\t\t<TableBody p={0}>\r\n\t\t\t{studentSession.map(x => {\r\n\t\t\t\t\t//console.log(x)\r\n\t\t\t\t\tvar myClasses = gClasses.td ;\r\n\t\t\t\t\tvar isPresent = (x.attendedSidList.includes(studentRec.sid)) ? \"Yes\" : \"No\";\t\t\t\t\t\r\n\t\t\t\treturn (\r\n\t\t\t\t<TableRow key={x.sessionDate+x.sessionNumber}>\r\n\t\t\t\t\t<TableCell className={myClasses} p={0} align=\"center\" >{dateString(x.sessionDate)}</TableCell>\r\n\t\t\t\t\t<TableCell className={myClasses} p={0}  >{`Session ${x.sessionNumber} of batch ${x.bid} by ${x.facultyName}`}</TableCell>\r\n\t\t\t\t\t<TableCell className={myClasses} align=\"center\" p={0} >{isPresent}</TableCell>\r\n\t\t\t\t\t<TableCell className={myClasses} align=\"center\" p={0} >\r\n\t\t\t\t\t\t<IconButton color=\"primary\" disabled={!isAdmin()} size=\"small\" onClick={() => {handleEditSession(x)}} ><EditIcon /></IconButton>\r\n\t\t\t\t\t\t<IconButton color=\"secondary\" disabled={!isAdmin()} size=\"small\" onClick={() => {handleDelSession(x)}} ><CancelIcon /></IconButton>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t</TableRow>\r\n\t\t\t)})}\r\n\t\t</TableBody>\r\n\t\t</Table>\r\n\t\t<br />\r\n\t\t<br />\r\n\t</Drawer>\r\n\t<Drawer anchor=\"top\" variant=\"temporary\" open={drawer !== \"\"}>\r\n\t\t<VsCancel align=\"right\" onClick={() => { setDrawer(\"\")}} />\r\n\t\t{(drawer === \"ADDSESSION\") &&\r\n\t\t\t<SessionAddEdit mode=\"ADD\" batchRec={batchRec} sessionRec={null} onReturn={handleBack} />\r\n\t\t}\r\n\t\t{(drawer === \"EDITSESSION\") &&\r\n\t\t\t<SessionAddEdit mode=\"EDIT\" batchRec={batchRec} sessionRec={sessionRec} onReturn={handleBack} />\r\n\t\t}\t</Drawer>\t\r\n\t<ToastContainer />\r\n\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { TextareaAutosize, TextField } from '@material-ui/core';\r\n// import { Switch, Route, Link } from 'react-router-dom';\r\nimport { ValidatorForm, TextValidator, TextValidatorcvariant} from 'react-material-ui-form-validator';\r\nimport Drawer from '@material-ui/core/Drawer';\r\n//import Tooltip from \"react-tooltip\";\r\n//import ReactTooltip from 'react-tooltip'\r\n//import { useAlert } from 'react-alert';\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport BlueRadio from 'components/Radio/BlueRadio';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport { JumpButton, DisplayPageHeader, ValidComp, BlankArea} from 'CustomComponents/CustomComponents.js';\r\n\r\nimport lodashSortBy from \"lodash/sortBy\";\r\n\r\nimport Datetime from \"react-datetime\";\r\nimport \"react-datetime/css/react-datetime.css\";\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport IndeterminateCheckBoxIcon from '@material-ui/icons/IndeterminateCheckBox';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n\r\n//import { NoGroup, JumpButton, DisplayPageHeader, MessageToUser } from 'CustomComponents/CustomComponents.js';\r\nimport { isMobile, getWindowDimensions, displayType, decrypt, encrypt } from 'views/functions';\r\n\r\nimport globalStyles from \"assets/globalStyles\";\r\n\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\n\r\nimport VsButton from \"CustomComponents/VsButton\"; \r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\nimport VsSelect from \"CustomComponents/VsSelect\";\r\nimport VsRadio from \"CustomComponents/VsRadio\";\r\nimport VsCheckBox from \"CustomComponents/VsCheckBox\";\r\n\r\n\r\n\r\nimport {\r\n\tROLE_FACULTY , ROLE_STUDENT,\r\n\tALLSELECTIONS, BLANKCHAR,\r\n\tNOFRACTION,\r\n\tSHORTWEEKSTR, HOURBLOCKSTR, MINUTEBLOCKSTR, SESSIONHOURSTR,\r\n\tSTATUS_INFO,\r\n\tMAXDISPLAYTEXTROWS,\r\n\tPAYMENTMODE, PAYMENTSTATUS,\r\n} from 'views/globals';\r\n\r\nimport {\r\n\tmergedName, getCodeFromMergedName, getNameFromMergedName,\r\n\tdisablePastDt, disableFutureDt,\r\n\tshowError, showSuccess, showInfo,\r\n} from 'views/functions';\r\n\r\n\r\n//var props.mode = \"ADD\";\r\nconst spacing = \"5px\"\r\n\r\nexport default function PaymentAddEdit(props) {\r\n\t//const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\t//const alert = useAlert();\r\n\r\n\tconst [newStudent, setNewStudent] = useState(\"\");\r\n\tconst [studentArray, setStudentArray] = useState([]);\r\n\tconst [origStudentRec, setOrigStudentRec] = useState(null);\r\n\tconst [paymentDate, setPaymentDate] = useState(new Date());\r\n\tconst [newAmount, setNewAmount] = useState(300);\r\n\tconst [paymentMode, setPaymentMode] = useState(PAYMENTMODE[0]);\r\n\tconst [paymentStatus, setPaymentStatus] = useState(PAYMENTSTATUS[0]);\r\n\tconst [paymentRef, setPaymentRef] = useState(\"\");\r\n\r\n\tconst [drawer, setDrawer] = useState(\"\");\r\n\tconst [registerStatus, setRegisterStatus] = useState(0);\r\n\r\n\t\r\n\tconst [origSessionRec, setOrigSessionRec] = useState(null);\r\n\tconst [origBid, setOrigBid] = useState(\"\");\r\n\tconst [returnPath, setReturnPath] = useState(process.env.REACT_APP_BATCH);\r\n\r\n\tconst [cbArray, setCbArray] = useState(Array(25).fill(true));\r\n\t\r\n\t\r\n\tconst [sessionNumber, setSessionNumber] = useState(\"NEW\");\r\n\tconst [myNotes, setMyNotes] = useState(\"\");\r\n\r\n\tconst [newFaculty, setNewFaculty] = useState(\"\");\r\n\r\n\r\n\t\r\n\tconst [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\tconst [dispType, setDispType] = useState(\"lg\");\r\n\r\n\tuseEffect(() => {\r\n\t\tfunction handleResize() {\r\n\t\t\tlet myDim = getWindowDimensions();\r\n      setWindowDimensions(myDim);\r\n\t\t\t//let myRows = 0;\r\n\t\t\tlet defHeight = 100;\r\n      //console.log(displayType(myDim.width)) ;\r\n      setDispType(displayType(myDim.width));\r\n     \r\n\t\t\t//switch (displayType(myDim.width)) {\r\n\t\t\t//\tcase 'xs': myRows = 10; break;\r\n\t\t\t//\tcase 'sm': myRows = 24; break;\r\n\t\t\t//\tcase 'md': myRows = 36; break;\r\n\t\t\t//\tcase 'lg': myRows = 48; break;\r\n\t\t\t//}\r\n\t\t\t//console.log(myRows);\r\n\t\t\t//setROWSPERPAGE(myRows);\r\n\t\t}\r\n\r\n\t\tasync function getAllStudents(mySid) {\r\n\t\t\tvar allRecs = [];\r\n\t\t\ttry {\r\n\t\t\t\tif (mySid !== \"\") {\r\n\t\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/student/get/${mySid}`;\r\n\t\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\t\tallRecs = [response.data];\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/student/list/all`;\r\n\t\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\t\t//console.log(response.data);\r\n\t\t\t\t\tallRecs = response.data;\r\n\t\t\t\t}\r\n\t\t\t\tfor (var i=0; i<allRecs.length; ++i) {\r\n\t\t\t\t\tallRecs[i][\"mergedName\"] = mergedName(allRecs[i].name, allRecs[i].sid);\r\n\t\t\t\t}\r\n\t\t\t\tsetStudentArray(allRecs);\r\n\t\t\t\tsetNewStudent( (allRecs.length > 0) ? allRecs[0].mergedName : \"\" );\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\talert(\"Error Fetching Studnets\");\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//console.log(props);\r\n\t\tsetOrigStudentRec( props.sid );\t\r\n\t\tgetAllStudents(props.sid);\r\n\t\t//console.log(props.paymentRec);\r\n\t\tif (props.mode !== \"ADD\") {\r\n\t\t\tsetNewStudent(mergedName(props.paymentRec._id.sid, props.paymentRec._id.studentName));\r\n\t\t\tvar tmp = new Date(props.paymentRec.date)\r\n\t\t\tsetPaymentDate(tmp);\r\n\t\t\tsetPaymentMode(props.paymentRec.mode);\r\n\t\t\tsetPaymentRef(props.paymentRec.reference);\r\n\t\t\tsetNewAmount(props.paymentRec.amount);\r\n\t\t\tsetPaymentStatus(props.paymentRec.status);\r\n\t\t\tsetMyNotes(props.paymentRec.remarks);\r\n\t\t}\r\n\t\thandleResize();\r\n\t\twindow.addEventListener('resize', handleResize);\r\n\t}, [])\r\n\r\n// function handleTimer() {}\r\n\r\n\r\n\r\nfunction ShowResisterStatus() {\r\n\t\t\t//console.log(`Status is ${registerStatus}`);\r\n\t\t\tlet myMsg;\r\n\t\t\tlet errmsg = true;\r\n\t\t\tswitch (registerStatus) {\r\n\t\t\t\tcase 200:\r\n\t\t\t\t\tmyMsg = \"Successfully updated Captain / ViceCaptain details\";\r\n\t\t\t\t\terrmsg = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tmyMsg = \"\";\r\n\t\t\t\t\terrmsg = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase -1:\r\n\t\t\t\t\tmyMsg = \"Area Code cannot be blank\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase -2:\r\n\t\t\t\t\tmyMsg = `Area Code cannot be more than ${MAXAREACODELENGTH} characters`;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase -3:\r\n\t\t\t\t\tmyMsg = \"Area code already in use\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase -4:\r\n\t\t\t\t\tmyMsg = \"Area description cannot be blank\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 501:\r\n\t\t\t\t\tmyMsg = \"Student name is blank\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 502:\r\n\t\t\t\t\tmyMsg = \"Duplicate entry of student in Batch\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 511:\r\n\t\t\t\t\tmyMsg = \"Duplicate entry of session in Batch\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 521:\r\n\t\t\t\t\tmyMsg = \"No students selected in Batch\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 522:\r\n\t\t\t\t\tmyMsg = \"No sessions selected in Batch\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tmyMsg = \"Error updating Captain / ViceCaptain details\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t//console.log(errmsg, registerStatus);\r\n\t\t\tlet myClass = (errmsg) ? gClasses.error : gClasses.nonerror;\r\n\t\t\treturn(\r\n\t\t\t\t<div align=\"center\">\r\n\t\t\t\t\t<Typography align=\"center\" className={myClass}>{myMsg}</Typography>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\nasync function handleAddEditSubmit() {\r\n\r\n\t// luckily not validation required\r\n\tvar myData = {};\r\n\t//console.log(origStudentRec)\r\n\t\r\n\tvar tmpRec = studentArray.find(x => x.name === getNameFromMergedName(newStudent));\r\n\tmyData[\"studentRec\"] = tmpRec;\r\n\tmyData[\"paymentRec\"] = props.paymentRec;\r\n\tmyData[\"amount\"] = newAmount;\r\n\tmyData[\"paymentDate\"] = paymentDate;\r\n\tmyData[\"paymentMode\"] = paymentMode;\r\n\tmyData[\"paymentRef\"] = paymentRef;\r\n\tmyData[\"paymentStatus\"] = paymentStatus;\r\n\tmyData[\"remarks\"] = myNotes;\r\n\t\r\n\tvar myJsonData = JSON.stringify(myData);\r\n\tvar finalData = encodeURI(myJsonData);\r\n\r\n\t//var studentRec;\r\n\ttry {\r\n\t\tif (props.mode == \"ADD\") {\r\n\t\t// for add new batch\r\n\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/payment/add/${finalData}`;\r\n\t\t\tvar response = await axios.get(myUrl);\r\n\t\t\tprops.onReturn.call(this, {status: STATUS_INFO.SUCCESS, paymentRec: response.data, msg: `Successfully added payment of ${newStudent}.`} );\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// for edit user\r\n\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/payment/update/${finalData}`;\t\r\n\t\t\t//console.log(myUrl);\r\n\t\t\tvar response = await axios.get(myUrl);\r\n\t\t\t//console.log(response.data);\r\n\t\t\tprops.onReturn.call(this, {status: STATUS_INFO.SUCCESS, paymentRec: response.data, msg: `Successfully updated payment of ${response.data.sid}.`} );\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\tcatch (e) {\r\n\t\tconsole.log(e);\r\n\t\tprops.onReturn.call(this, {status: STATUS_INFO.ERROR, msg: `Error adding payment of student ${newStudent}.`});\r\n\t\treturn;\r\n\t}\r\n\t\r\n}\r\n\r\n\r\nfunction handlePaymentDate(d) {\r\n\tsetPaymentDate(d.toDate());\r\n}\r\n\r\n\r\n\treturn (\r\n\t<div align=\"center\">\r\n\t\t<Box margin={1} className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t<DisplayPageHeader headerName={(props.mode == \"ADD\") ? `Add student payment` : `Edit payment`} groupName=\"\" tournament=\"\" />\r\n\t\t<br />\r\n\t\t<ValidatorForm margin={2} align=\"center\" className={gClasses.form} onSubmit={handleAddEditSubmit}  >\r\n\t\t<Grid key=\"ADDEDITPAYMENT\" className={gClasses.noPadding} container >\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Student</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={7} sm={7} md={3} lg={1} >\r\n\t\t\t\t<VsSelect size=\"small\" align=\"left\" options={studentArray} field=\"mergedName\" value={newStudent} onChange={(event) => { setNewStudent(event.target.value)}} />\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: spacing}} item xs={12} sm={12} md={12} lg={12} />\r\n\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Payment Date</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={7} sm={7} md={3} lg={1} >\r\n\t\t\t\t<div align=\"left\">\r\n\t\t\t\t<Datetime \r\n\t\t\t\t\tclassName={gClasses.dateTimeBlock}\r\n\t\t\t\t\tinputProps={{className: gClasses.dateTimeNormal}}\r\n\t\t\t\t\ttimeFormat={false} \r\n\t\t\t\t\tinitialValue={paymentDate}\r\n\t\t\t\t\tvalue={paymentDate}\r\n\t\t\t\t\tdateFormat=\"DD/MM/yyyy\"\r\n\t\t\t\t\tisValidDate={disableFutureDt}\r\n\t\t\t\t\tonClose={handlePaymentDate}\r\n\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: spacing}} item xs={12} sm={12} md={12} lg={12} />\r\n\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Amount</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={7} sm={7} md={3} lg={1} >\r\n\t\t\t\t<div align=\"left\">\r\n\t\t\t\t<TextValidator align=\"left\" variant=\"outlined\" required name=\"amount\" type=\"number\"\r\n\t\t\t\t\tvalue={newAmount} onChange={(event) => setNewAmount(event.target.value)}\r\n\t\t\t\t\tvalidators={['required', 'minNumber:0', 'maxNumber:100000', 'isNumeric']}\r\n\t\t\t\t\terrorMessages={['Payment amount to be provided', 'Payment amount cannot be less than 0', 'Payment cannot be more than 100000',NOFRACTION ]}\r\n\t\t\t\t/>\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: spacing }} item xs={12} sm={12} md={12} lg={12} />\r\n\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t<Typography align=\"left\" className={gClasses.info18Blue} >Payment Mode</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={7} sm={7} md={3} lg={1} >\r\n\t\t\t\t<VsSelect size=\"small\" align=\"left\" options={PAYMENTMODE} value={paymentMode} onChange={(event) => { setPaymentMode(event.target.value)}} />\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: spacing }} item xs={12} sm={12} md={12} lg={12} />\r\n\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t<Typography align=\"left\" className={gClasses.info18Blue} >Payment Status</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={7} sm={7} md={3} lg={1} >\r\n\t\t\t\t<VsSelect size=\"small\" align=\"left\" options={PAYMENTSTATUS} value={paymentStatus} onChange={(event) => { setPaymentStatus(event.target.value)}} />\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: spacing}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t<Typography align=\"left\" className={gClasses.info18Blue} >Payment Ref.</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={7} sm={7} md={5} lg={3} >\r\n\t\t\t\t<TextField fullWidth variant=\"outlined\"  value={paymentRef} onChange={(event) => { setPaymentRef(event.target.value)}} />\t\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: spacing}} item xs={12} sm={12} md={12} lg={12} />\r\n\r\n\t\t\t\t{/*{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={6} sm={6} md={3} lg={2} >\r\n\t\t\t\t<Typography align=\"left\" className={gClasses.info18Blue}>Remarks</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={6} sm={6} md={3} lg={4} >\r\n\t\t\t\t<TextareaAutosize maxRows={MAXDISPLAYTEXTROWS} className={gClasses.textAreaFixed}  value={myNotes} onChange={() => {setMyNotes(event.target.value)}} />\r\n\t\t\t\t</Grid>*/}\r\n\t\t\t<br />\r\n\t\t\t<ShowResisterStatus />\r\n\t\t\t<br />\r\n\t\t\t<Grid item xs={3} sm={3} md={4} lg={5} />\r\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t\t<VsButton type=\"submit\" name={(props.mode == \"EDIT\") ? \"Update Payment\" : \"Add Payment\"} />\r\n\t\t\t</Grid>\r\n\t\t\t{/*<Grid  item xs={3} sm={3} md={2} lg={1} >\r\n\t\t\t\t<VsButton disabled={true} type=\"button\" name=\"Cancel\" onClick={mainCancel}/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={3} sm={3} md={4} lg={5} />*/}\r\n\t\t</Grid>\r\n\t\t</ValidatorForm>\r\n\t\t<ValidComp />   \r\n\t\t</Box>\r\n\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n// import { Switch, Route, Link } from 'react-router-dom';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport Drawer from '@material-ui/core/Drawer';\r\n//import Tooltip from \"react-tooltip\";\r\n//import ReactTooltip from 'react-tooltip'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\t\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport BlueRadio from 'components/Radio/BlueRadio';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport { JumpButton, DisplayPageHeader, ValidComp, BlankArea} from 'CustomComponents/CustomComponents.js';\r\n\r\nimport lodashSortBy from \"lodash/sortBy\";\r\nimport lodashOrderBy from \"lodash/orderBy\";\r\nimport lodashSumBy from \"lodash/sumBy\";\r\n\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\n\r\nimport FacultySchedule\t from \"views/Faculty/FacultySchedule\"\r\nimport PaymentAddEdit\t from \"views/Payment/PaymentAddEdit\"\r\n\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport IndeterminateCheckBoxIcon from '@material-ui/icons/IndeterminateCheckBox';\r\nimport SchoolIcon from '@material-ui/icons/School';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport TableChartSharpIcon from '@material-ui/icons/TableChartSharp';\r\nimport Money from '@material-ui/icons/Money';\r\n\r\n//import { NoGroup, JumpButton, DisplayPageHeader, MessageToUser } from 'CustomComponents/CustomComponents.js';\r\nimport { \r\n\tisMobile, getWindowDimensions, displayType, \r\n\tdecrypt, encrypt ,\r\n\tvsDialog,\r\n\tshowError, showSuccess, showInfo,\r\n} from 'views/functions';\r\n\r\nimport globalStyles from \"assets/globalStyles\";\r\n\r\nimport VsButton from \"CustomComponents/VsButton\"; \r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\nimport VsSelect from \"CustomComponents/VsSelect\";\r\nimport VsRadio from \"CustomComponents/VsRadio\";\r\n\r\n//import BatchAddEdit from \"./BatchAddEdit\";\r\n\r\nimport {\r\n\tROLE_FACULTY, ROLE_STUDENT,\r\n\tALLSELECTIONS, BLANKCHAR, STATUS_INFO,\r\n} from 'views/globals';\r\n\r\n\r\nimport {\r\n\tmergedName, getCodeFromMergedName, getNameFromMergedName,\r\n\tisAdmMan, isAdmManFac, isFaculty,\r\n\tdateString,\r\n} from 'views/functions';\r\n\r\n\r\n\r\nexport default function Payment() {\r\n\t//const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\t\r\n\tconst [currentSelection, setCurrentSelection] = useState(ALLSELECTIONS[0]);\r\n\tconst [mode, setMode] = useState(\"\");\r\n\tconst [masterPaymentArray, setMasterPaymentArray] = useState([]);\r\n\tconst [paymentArray, setPaymentArray] = useState([]);\r\n\r\n\r\n\tconst [studentPayments ,setStudentPayments] = useState([]);\r\n\tconst [selStudent, setSelStudent] = useState(\"\");\r\n\tconst [selPaymentRec, setSelPaymentRec] = useState(\"\");\r\n\r\n\t// for faculty schedule call\r\n\tconst [batchRec, setBatchRec] = useState({});\r\n\tconst [showAll, setShowAll] = useState(false);\r\n\t\r\n\tconst [drawer, setDrawer] = useState(\"\");\r\n\tconst [drawerInfo, setDrawerInfo] = useState(\"\");\r\n\tconst [registerStatus, setRegisterStatus] = useState(0);\r\n\t\r\n\tconst [currentText, setCurrentText] = useState(\"\");\r\n\t\r\n\tconst [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\tconst [dispType, setDispType] = useState(\"lg\");\r\n\r\n\tuseEffect(() => {\r\n\t\tfunction handleResize() {\r\n\t\t\tlet myDim = getWindowDimensions();\r\n      setWindowDimensions(myDim);\r\n\t\t\t//let myRows = 0;\r\n\t\t\tlet defHeight = 100;\r\n      //console.log(displayType(myDim.width)) ;\r\n      setDispType(displayType(myDim.width));\r\n     \r\n\t\t\t//switch (displayType(myDim.width)) {\r\n\t\t\t//\tcase 'xs': myRows = 10; break;\r\n\t\t\t//\tcase 'sm': myRows = 24; break;\r\n\t\t\t//\tcase 'md': myRows = 36; break;\r\n\t\t\t//\tcase 'lg': myRows = 48; break;\r\n\t\t\t//}\r\n\t\t\t//console.log(myRows);\r\n\t\t\t//setROWSPERPAGE(myRows);\r\n\t\t}\r\n\t\t//console.log(firsTime);\r\n\t\tasync function getAllPayments() {\r\n\t\t\ttry {\r\n\t\t\t\tif (isAdmMan()) {\r\n\t\t\t\t\t//console.log(\"Admin or Main\");\r\n\t\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/payment/total/all`;\r\n\t\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\t\t//console.log(response.data);\r\n\t\t\t\t\tsetMasterPaymentArray(response.data);\r\n\t\t\t\t\t//setPaymentArray(response.data);\r\n\t\t\t\t\tfilterPayment(response.data, currentText);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tconsole.log(\"Not correct role\");\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tgetAllPayments();\r\n\t\thandleResize();\r\n\t\twindow.addEventListener('resize', handleResize);\r\n\t}, [])\r\n\r\n\r\n\tfunction handleBack(sts) {\r\n\t\t//console.log(sts);\r\n\t\tif ((sts.msg !== \"\") && (sts.status === STATUS_INFO.ERROR)) showError(sts.msg); \r\n\t\telse if ((sts.msg !== \"\") && (sts.status === STATUS_INFO.SUCCESS)) showSuccess(sts.msg); \r\n\t\t\r\n\t\t//console.log(sts.status, selPaymentRec);\r\n\t\tif (sts.status == STATUS_INFO.SUCCESS) {\r\n\t\t\tif (selPaymentRec) {\r\n\t\t\t\t//console.log(\"in edit payment return\");\r\n\t\t\t\t//console.log(sts.paymentRec);\r\n\t\t\t\r\n\t\t\t\t// two chnages to be done.\r\n\t\t\t\t// first chnage in studentPayments Array\r\n\t\t\t\t//console.log(sts.paymentRec._id);\r\n\t\t\t\tvar clonedArray = studentPayments.filter(x => x._id !== sts.paymentRec._id);\r\n\t\t\t\tclonedArray.push(sts.paymentRec);\r\n\t\t\t\tlet sorted_array = lodashSortBy(clonedArray, 'date').reverse();\r\n\t\t\t\tsetStudentPayments(sorted_array);\r\n\t\t\t\r\n\t\t\t\t// Now make correction in grand total\r\n\t\t\t\tvar clonedMainArray = [].concat(masterPaymentArray);\r\n\t\t\t\tvar tmp = clonedMainArray.find(x => x._id.sid === sts.paymentRec.sid);\r\n\t\t\t\tvar sum = 0;\r\n\t\t\t\tclonedArray.map(x => sum += x.amount);\r\n\t\t\t\t//console.log(sum);\r\n\t\t\t\ttmp.amount = sum;\r\n\t\t\t\t//console.log(tmp);\r\n\t\t\t\t//setPaymentArray(clonedMainArray);\t\t\t\t\r\n\t\t\t\tfilterPayment(clonedMainArray, currentText);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// New Payment\r\n\t\t\t\tconsole.log(\"payment new\");\r\n\t\t\t\tvar clonedArray = [].concat(masterPaymentArray);\r\n\t\t\t\tvar tmp = clonedArray.find( x => x._id.sid === sts.paymentRec.sid);\r\n\t\t\t\tif (tmp) {\r\n\t\t\t\t\ttmp.amount += sts.paymentRec.amount;\r\n\t\t\t\t\t//setPaymentArray(clonedArray);\r\n\t\t\t\t\tfilterPayment(clonedArray, currentText);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t//console.log(sts.paymentRec);\r\n\t\t\t\t\tclonedArray.push(\r\n\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t_id: {sid: sts.paymentRec.sid, studentName: sts.paymentRec.studentName },\r\n\t\t\t\t\t\tamount: sts.paymentRec.amount\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\t//setPaymentArray(lodashSortBy(clonedArray, ['_id.studentName'] ));\r\n\t\t\t\t\tvar myAaary = lodashSortBy(clonedArray, ['_id.studentName'] );\r\n\t\t\t\t\tsetMasterPaymentArray(myAaary);\r\n\t\t\t\t\tfilterPayment(myAaary, currentText);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.log(\"Yaha kaise aaya\");\r\n\t\t}\r\n\t\tsetDrawer(\"\");\r\n\t}\r\n\t\r\n\tfunction ShowResisterStatus() {\r\n        // console.log(`Status is ${registerStatus}`);\r\n        let myMsg;\r\n        let errmsg = true;\r\n        switch (registerStatus) {\r\n          case 200:\r\n            myMsg = \"Successfully updated Captain / ViceCaptain details\";\r\n            errmsg = false;\r\n            break;\r\n          case 0:\r\n            myMsg = \"\";\r\n\t\t\t\t\t\terrmsg = false;\r\n            break;\r\n          case -1:\r\n            myMsg = \"Area Code cannot be blank\";\r\n            break;\r\n          case -2:\r\n            myMsg = `Area Code cannot be more than ${MAXAREACODELENGTH} characters`;\r\n            break;\r\n          case -3:\r\n            myMsg = \"Area code already in use\";\r\n            break;\r\n          case -4:\r\n            myMsg = \"Area description cannot be blank\";\r\n            break;\r\n          default:\r\n            myMsg = \"Error updating Captain / ViceCaptain details\";\r\n            break;\r\n        }\r\n\t\t\t\t//console.log(errmsg, registerStatus);\r\n\t\t\t\tif (errmsg)\r\n\t\t\t\t\talert(myMsg);\r\n\t\t\t\t//else\r\n        let myClass = (errmsg) ? gClasses.error : gClasses.nonerror;\r\n\t\t\t\treturn null;\r\n        return(\r\n          <div>\r\n            <Typography align=\"center\" className={myClass}>{myMsg}</Typography>\r\n          </div>\r\n        );\r\n      }\r\n\r\n\tfunction handleNewPayment() {\r\n\t\tsetSelStudent({sid: \"\"});\r\n\t\tsetDrawer(\"ADDPAYMENT\");\r\n\t}\r\n\t\r\n\tfunction handleAddStudentPayment(rec) {\r\n\t\tsetSelStudent({sid: rec._id.sid});\r\n\t\tsetSelPaymentRec(null);\r\n\t\tsetDrawer(\"ADDPAYMENT\");\r\n\t}\r\n\t\r\n\tfunction handleEditStudentPayment(rec) {\r\n\t\t//console.log(rec);\r\n\t\t//console.log(selStudent);\r\n\t\tsetSelPaymentRec(rec);\r\n\t\tsetDrawer(\"EDITPAYMENT\");\r\n\t}\r\n\t\r\n\tfunction handleDelStudentPayment(t) {\r\n\t\tsetDrawerInfo(\"\")\r\n\t\tvsDialog(\"Delete Payment\", `Are you sure you want to delete payment of ${mergedName(t.studentName, t.sid)}?`,\r\n\t\t\t{label: \"Yes\", onClick: () => handleDelStudentPaymentConfirm(t) },\r\n\t\t\t{label: \"No\",  onClick: () => setDrawerInfo(\"detail\") }\r\n\t\t);\r\n\t}\r\n\t\r\n\tasync function handleDelStudentPaymentConfirm(rec) {\r\n\t\tsetDrawerInfo(\"detail\");\r\n\t\ttry {\r\n\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/payment/delete/${rec._id}`;\r\n\t\t\tawait axios.get(myUrl);\r\n\t\t\tlet newArray = studentPayments.filter(x => x._id !== rec._id);\r\n\t\t\tsetStudentPayments(newArray)\r\n\t\t\t\r\n\t\t\tif (newArray.length > 0) {\r\n\t\t\t\tvar clonedArray = [].concat(masterPaymentArray);\r\n\t\t\t\tlet tmp = clonedArray.find( x => x._id.sid === rec.sid);\r\n\t\t\t\ttmp.amount = lodashSumBy(newArray, 'amount');\r\n\t\t\t\t//setPaymentArray(clonedArray);\r\n\t\t\t\tsetMasterPaymentArray(clonedArray);\r\n\t\t\t\tfilterPayment(clonedArray, currentText);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//setPaymentArray(paymentArray.filter( x => x._id.sid !== rec.sid));\r\n\t\t\t\tvar myArray = masterPaymentArray.filter( x => x._id.sid !== rec.sid);\r\n\t\t\t\tsetMasterPaymentArray(myAaary);\r\n\t\t\t\tfilterPayment(myAaary, currentText);\r\n\t\t\t}\r\n\t\t\tshowSuccess(`Deleted payment record of ${mergedName( rec.studentName, rec.sid )}`);\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tshowError(`Error deleting payment record`);\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tfunction handleEditBatch(rec) {\r\n\t\tvar batchInfo = {inUse: true, status: STATUS_INFO.EDIT_BATCH, msg: \"\", record:  rec };\r\n\t\tsessionStorage.setItem(\"batchInfo\", JSON.stringify(batchInfo));\r\n\t\tsetTab(process.env.REACT_APP_BATCH_ADDEDITBATCH);\r\n\t}\r\n\t\r\n\r\n\tasync function handleInfo(rec) {\r\n\t\t//console.log(rec);\r\n\t\tsetSelStudent({sid: rec._id.sid, studentName: rec._id.studentName});\r\n\t\ttry {\r\n\t\t\tvar response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/payment/list/${rec._id.sid}`);\r\n\t\t\tsetStudentPayments(response.data);\r\n\t\t\tsetDrawerInfo(\"detail\");\r\n\t\t}\r\n\t\tcatch(e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tshowError(\"error fatching student payment detials.\");\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tfunction DisplayAllPayment() {\r\n\t\t//console.log(dispType);\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t<Table  align=\"center\">\r\n\t\t\t<TableHead p={0}>\r\n\t\t\t<TableRow key=\"header\" align=\"center\">\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Student</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Payment</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\"></TableCell>\r\n\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t\t<TableBody p={0}>\r\n\t\t\t\t{paymentArray.map(x => {\r\n\t\t\t\t\t\tvar myClasses = gClasses.td ;\r\n\t\t\t\t\t\t//console.log(x)\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t<TableRow key={x._id.sid}>\r\n\t\t\t\t\t\t<TableCell className={myClasses} align=\"center\" p={0}  >{mergedName( x._id.studentName, x._id.sid)}</TableCell>\r\n\t\t\t\t\t\t<TableCell className={myClasses} align=\"center\" p={0} >{x.amount}</TableCell>\r\n\t\t\t\t\t\t<TableCell className={myClasses} p={0} >\r\n\t\t\t\t\t\t\t{/*<IconButton color=\"primary\" size=\"small\" onClick={() => {handleEditStudentPayment(x)}} ><EditIcon /></IconButton>*/}\r\n\t\t\t\t\t\t\t<IconButton color=\"primary\" size=\"small\" onClick={() => {handleInfo(x)}} ><InfoIcon /></IconButton>\r\n\t\t\t\t\t\t\t<IconButton color=\"primary\"  size=\"small\" onClick={() => {handleAddStudentPayment(x)}} ><Money /></IconButton>\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t</TableRow>\r\n\t\t\t\t)})}\r\n\t\t\t</TableBody>\r\n\t\t\t</Table>\r\n\t\t</div>\r\n\t\t);\r\n\r\n\t}\r\n\t\r\n \r\n\tfunction DisplayOptions() {\r\n\treturn (\r\n\t<Grid key=\"Options\" className={gClasses.noPadding} container alignItems=\"center\" >\r\n\t\t<Grid  item xs={3} sm={2} md={2} lg={1} >\r\n\t\t\t{/*<VsSelect size=\"small\" align=\"center\" label=\"Selection\" options={ALLSELECTIONS} value={currentSelection} onChange={(event) => { selectAll(event.target.value)}} />*/}\r\n\t\t</Grid>\r\n\t\t<Grid align=\"left\"  item xs={6} sm={7} md={8} lg={10} >\r\n\t\t\t<span></span>\r\n\t\t</Grid>\r\n\t\t<Grid  item xs={3} sm={3} md={2} lg={1} >\r\n\t\t\t<VsButton disabled={!isAdmMan()} name=\"New Payment\" align=\"right\" onClick={handleNewPayment} />\r\n\t\t</Grid>\r\n\t</Grid>\r\n\t)}\r\n\t\r\n\t\t\r\n\tfunction filterPayment(masterArray, textFilter) {\r\n\t\tvar filteredArray = [].concat(masterArray);\r\n\t\t\r\n\t\tvar finalFilterArray = [];\r\n\t\t// Now filter on text\r\n\t\tif (textFilter !== \"\") {\r\n\t\t\ttextFilter = textFilter.toUpperCase();\r\n\t\t\t// start filter process on all records one by one \r\n\t\t\tfor(var i=0; i<filteredArray.length; ++i) {\r\n\t\t\t\tif (\r\n\t\t\t\t\t(filteredArray[i]._id.sid.includes(textFilter)) ||\r\n\t\t\t\t\t(filteredArray[i]._id.studentName.toUpperCase().includes(textFilter))\r\n\t\t\t\t\t) \r\n\t\t\t\t{\r\n\t\t\t\t\tfinalFilterArray.push(filteredArray[i]);\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse  {\r\n\t\t\tfinalFilterArray = filteredArray\t\t\t// no filter required\r\n\t\t}\r\n\t\tsetPaymentArray(finalFilterArray);\r\n\t}\r\n\t\r\n\t\r\n\tfunction setTextFilter(textValue) {\r\n\t\ttextValue = textValue.toLowerCase();\r\n\t\tsetCurrentText(textValue);\r\n\t\tfilterPayment(masterPaymentArray, textValue);\r\n\t}\r\n\r\n\t\r\n\treturn (\r\n\t<div>\r\n\t<DisplayPageHeader headerName=\"Payments\" groupName=\"\" tournament=\"\" />\r\n\t{/*<DisplayOptions />*/}\r\n\t<Box margin={1} className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} paddingTop={1} >\r\n\t\t<Grid key=\"Filter\" className={gClasses.noPadding} container  >\r\n\t\t\t<Grid  item xs={3} sm={2} md={2} lg={1} align=\"left\"  >\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={1} sm={1} md={4} lg={3}  >\r\n\t\t\t\t<TextField fullWidth label=\"Filter Text\" value={currentText} onChange={ (event) => { setTextFilter(event.target.value) } } />\t\r\n\t\t\t</Grid>\r\n\t\t\t<Grid  item xs={5} sm={6} md={4} lg={7} >\r\n\t\t\t</Grid>\r\n\t\t\t<Grid  item xs={3} sm={3} md={2} lg={1} >\r\n\t\t\t\t<VsButton disabled={!isAdmMan()} name=\"New Payment\" align=\"right\" onClick={handleNewPayment} />\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t</Box>\r\n\t<DisplayAllPayment/>\r\n\t{/*<DisplayAllToolTips />*/}\r\n\t<Drawer anchor=\"top\" variant=\"temporary\" open={drawer !== \"\"}>\r\n\t\t<VsCancel align=\"right\" onClick={() => { setDrawer(\"\")}} />\r\n\t\t{(drawer === \"ADDPAYMENT\") &&\r\n\t\t\t<PaymentAddEdit mode=\"ADD\" sid={selStudent.sid} paymentRec={null}  onReturn={handleBack} />\r\n\t\t}\r\n\t\t{(drawer === \"EDITPAYMENT\") &&\r\n\t\t\t<PaymentAddEdit mode=\"EDIT\" sid={selStudent.sid} paymentRec={selPaymentRec}  onReturn={handleBack} />\r\n\t\t}\r\n\t</Drawer>\r\n\t<Drawer anchor=\"bottom\" variant=\"temporary\" open={drawerInfo !== \"\"}>\r\n\t<VsCancel align=\"right\" onClick={() => { setDrawerInfo(\"\")}} />\r\n\t<DisplayPageHeader headerName={`Payment details of ${ mergedName(selStudent.studentName, selStudent.sid ) }`} groupName=\"\" tournament=\"\" />\r\n\t\t<Table  align=\"center\">\r\n\t\t<TableHead p={0}>\r\n\t\t<TableRow key=\"header\" align=\"center\">\r\n\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Date</TableCell>\r\n\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Amount</TableCell>\r\n\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Mode</TableCell>\r\n\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Status</TableCell>\r\n\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Reference</TableCell>\r\n\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\"></TableCell>\r\n\t\t</TableRow>\r\n\t\t</TableHead>\r\n\t\t<TableBody p={0}>\r\n\t\t\t{studentPayments.map(x => {\r\n\t\t\t\t\tvar myClasses = gClasses.td ;\r\n\t\t\t\t\t//console.log(x)\r\n\t\t\t\treturn (\r\n\t\t\t\t<TableRow key={x._id}>\r\n\t\t\t\t\t<TableCell className={myClasses} p={0} align=\"center\" >{dateString(x.date)}</TableCell>\r\n\t\t\t\t\t<TableCell className={myClasses} p={0}  >{x.amount}</TableCell>\r\n\t\t\t\t\t<TableCell className={myClasses} align=\"center\" p={0} >{x.mode}</TableCell>\r\n\t\t\t\t\t<TableCell className={myClasses} align=\"center\" p={0} >{x.status}</TableCell>\r\n\t\t\t\t\t<TableCell className={myClasses} align=\"center\" p={0} >{x.reference}</TableCell>\r\n\t\t\t\t\t<TableCell className={myClasses} p={0} >\r\n\t\t\t\t\t\t<IconButton color=\"primary\"  size=\"small\" onClick={() => {handleEditStudentPayment(x)}} ><EditIcon /></IconButton>\r\n\t\t\t\t\t\t<IconButton color=\"secondary\"  size=\"small\" onClick={() => {handleDelStudentPayment(x)}} ><CancelIcon /></IconButton>\r\n\t\t\t\t\t\t{/*<IconButton color=\"primary\" size=\"small\" onClick={() => {handleEditStudentPayment(x)}} ><EditIcon /></IconButton>\r\n\t\t\t\t\t\t<IconButton color=\"primary\" size=\"small\" onClick={() => {handleInfo(x)}} ><InfoIcon /></IconButton>\r\n\t\t\t\t\t\t<IconButton color=\"primary\"  size=\"small\" onClick={() => {handleAddStudentPayment(x)}} ><Money /></IconButton>*/}\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t</TableRow>\r\n\t\t\t)})}\r\n\t\t</TableBody>\r\n\t\t</Table>\t\r\n\t\t<br />\r\n\t</Drawer>\r\n\t<ToastContainer />\r\n\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n// import { Switch, Route, Link } from 'react-router-dom';\r\nimport { ValidatorForm, TextValidator, TextValidatorcvariant} from 'react-material-ui-form-validator';\r\nimport { TextareaAutosize, TextField } from '@material-ui/core';\r\n\r\n//import Drawer from '@material-ui/core/Drawer';\r\n//import Tooltip from \"react-tooltip\";\r\n//import ReactTooltip from 'react-tooltip'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport BlueRadio from 'components/Radio/BlueRadio';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport { JumpButton, DisplayPageHeader, ValidComp, BlankArea} from 'CustomComponents/CustomComponents.js';\r\n\r\nimport lodashSortBy from \"lodash/sortBy\";\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport IndeterminateCheckBoxIcon from '@material-ui/icons/IndeterminateCheckBox';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n\r\n//import { NoGroup, JumpButton, DisplayPageHeader, MessageToUser } from 'CustomComponents/CustomComponents.js';\r\nimport { isMobile, getWindowDimensions, displayType, decrypt, encrypt } from 'views/functions';\r\n\r\nimport globalStyles from \"assets/globalStyles\";\r\n\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\n\r\nimport VsButton from \"CustomComponents/VsButton\"; \r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\nimport VsSelect from \"CustomComponents/VsSelect\";\r\nimport VsRadio from \"CustomComponents/VsRadio\";\r\n\r\n//const ALLROLES = [\"Student\", \"Faculty\", \"Admin\"];\r\n\r\nimport {\r\n\tROLE_FACULTY , ROLE_STUDENT,\r\n\tALLSELECTIONS, BLANKCHAR,\r\n\tNOFRACTION,\r\n\tSHORTWEEKSTR, HOURBLOCKSTR, MINUTEBLOCKSTR, SESSIONHOURSTR,\r\n\tSTATUS_INFO,\r\n\tDURATIONSTR,\r\n\tBATCHTIMESTR\t,\r\n\tINQUIRYSTATUS, MAXDISPLAYTEXTROWS,\r\n} from 'views/globals';\r\n\r\nimport {\r\n\tmergedName, getCodeFromMergedName, getNameFromMergedName,\r\n\tgetAreafromBid,\r\n\tshowError, showSuccess, showInfo,\r\n} from 'views/functions';\r\n\r\nconst spacing = \"5px\"\r\n\r\n\r\nexport default function InquiryAddEdit(props) {\r\n\t//const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\r\n\t\r\n\tconst [currentSelection, setCurrentSelection] = useState(ALLSELECTIONS[0]);\r\n\t\r\n\tconst [areaArray, setAreaArray] = useState([]);\r\n\t\r\n\tconst [newArea, setNewArea] = useState(\"\");\r\n\tconst [newContactName, setNewContactName] = useState(\"\");\r\n\tconst [newContactNumber, setNewContactNumber] = useState(\"\");\r\n\tconst [newContactReference, setNewContactReference] = useState(\"\");\r\n\tconst [status, setStatus] = useState(INQUIRYSTATUS[0]);\r\n\tconst [myNotes, setMyNotes] = useState(\"\");\r\n\r\n\tconst [registerStatus, setRegisterStatus] = useState(0);\r\n\t\r\n\tconst [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\tconst [dispType, setDispType] = useState(\"lg\");\r\n\r\n\tuseEffect(() => {\r\n\t\tfunction handleResize() {\r\n\t\t\tlet myDim = getWindowDimensions();\r\n      setWindowDimensions(myDim);\r\n\t\t\t//let myRows = 0;\r\n\t\t\tlet defHeight = 100;\r\n      //console.log(displayType(myDim.width)) ;\r\n      setDispType(displayType(myDim.width));\r\n     \r\n\t\t\t//switch (displayType(myDim.width)) {\r\n\t\t\t//\tcase 'xs': myRows = 10; break;\r\n\t\t\t//\tcase 'sm': myRows = 24; break;\r\n\t\t\t//\tcase 'md': myRows = 36; break;\r\n\t\t\t//\tcase 'lg': myRows = 48; break;\r\n\t\t\t//}\r\n\t\t\t//console.log(myRows);\r\n\t\t\t//setROWSPERPAGE(myRows);\r\n\t\t}\r\n\r\n\t\tasync function getAllAreas(myArea) {\r\n\t\t\ttry {\r\n\t\t\t\tif (myArea === \"\") {\r\n\t\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/area/list`;\r\n\t\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\t\t//console.log(response.data);\r\n\t\t\t\t\tvar allAreas = response.data;\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/area/get/longname/${myArea}`;\r\n\t\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\t\tvar allAreas = [response.data];\r\n\t\t\t\t}\r\n\t\t\t\tfor(var i=0; i<allAreas.length; ++i) {\r\n\t\t\t\t\tallAreas[i][\"mergedName\"] = mergedName(allAreas[i].longName, allAreas[i].shortName);\r\n\t\t\t\t}\r\n\t\t\t\tsetNewArea(allAreas[0].mergedName);\r\n\t\t\t\tsetAreaArray(allAreas);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tshowError(\"Error Fetching area\");\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//getAllAreas( (props.mode === \"EDIT\") ?\tprops.inquiryRec.area : \"\" );\r\n\t\t\r\n\t\t// other batch infor set if props.mode \r\n\t\tif (props.mode === \"EDIT\") {\r\n\t\t\tsetNewArea(props.inquiryRec.area);\r\n\t\t\tsetNewContactName(props.inquiryRec.contactName);\r\n\t\t\tsetNewContactNumber(props.inquiryRec.contactNumber);\r\n\t\t\tsetNewContactReference(props.inquiryRec.contactReference);\r\n\t\t\tsetMyNotes(props.inquiryRec.remarks);\r\n\t\t\tsetStatus(props.inquiryRec.status);\r\n\t\t}\r\n\t\t\r\n\t\thandleResize();\r\n\t\twindow.addEventListener('resize', handleResize);\r\n\t}, [])\r\n\r\n// function handleTimer() {}\r\n\r\nfunction ShowResisterStatus() {\r\n\t\t\t//console.log(`Status is ${registerStatus}`);\r\n\t\t\tlet myMsg;\r\n\t\t\tlet errmsg = true;\r\n\t\t\tswitch (registerStatus) {\r\n\t\t\t\tcase 200:\r\n\t\t\t\t\tmyMsg = \"Successfully updated Captain / ViceCaptain details\";\r\n\t\t\t\t\terrmsg = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tmyMsg = \"\";\r\n\t\t\t\t\terrmsg = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase -1:\r\n\t\t\t\t\tmyMsg = \"Area Code cannot be blank\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase -2:\r\n\t\t\t\t\tmyMsg = `Area Code cannot be more than ${MAXAREACODELENGTH} characters`;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase -3:\r\n\t\t\t\t\tmyMsg = \"Area code already in use\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase -4:\r\n\t\t\t\t\tmyMsg = \"Area description cannot be blank\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 501:\r\n\t\t\t\t\tmyMsg = \"Student name is blank\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 502:\r\n\t\t\t\t\tmyMsg = \"Duplicate entry of student in Batch\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 511:\r\n\t\t\t\t\tmyMsg = \"Duplicate entry of session in Batch\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 521:\r\n\t\t\t\t\tmyMsg = \"No students selected in Batch\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 522:\r\n\t\t\t\t\tmyMsg = \"No sessions selected in Batch\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tmyMsg = \"Error updating Captain / ViceCaptain details\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t//console.log(errmsg, registerStatus);\r\n\t\t\tlet myClass = (errmsg) ? gClasses.error : gClasses.nonerror;\r\n\t\t\treturn(\r\n\t\t\t\t<div align=\"center\">\r\n\t\t\t\t\t<Typography align=\"center\" className={myClass}>{myMsg}</Typography>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\nasync function handleAddEditSubmit() {\r\n\tvar myData = {};\r\n\t//var tmp = areaArray.find( x => x.mergedName === newArea);\r\n\tmyData[\"_id\"] = (props.mode === \"EDIT\") ?\tprops.inquiryRec._id : \"\" ;\r\n\tmyData[\"area\"] = newArea;\r\n\tmyData[\"contactName\"] = newContactName;\r\n\tmyData[\"contactNumber\"] = newContactNumber;\r\n\tmyData[\"contactEmail\"] = \"\"\r\n\tmyData[\"reference\"] = newContactReference;\r\n\tmyData[\"status\"] = status;\r\n\tmyData[\"remarks\"] = myNotes;\r\n\r\n\t//console.log(myData);\r\n\t\r\n\tvar myJsonData = JSON.stringify(myData);\r\n\tvar finalData = encodeURI(myJsonData);\r\n\r\n\t//console.log(props.mode);\r\n\tvar inquiryRec;\r\n\ttry {\r\n\t\tif (props.mode == \"ADD\") {\r\n\t\t// for add new inquiry\r\n\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/inquiry/add/${finalData}`;\r\n\t\t\tvar response = await axios.get(myUrl);\r\n\t\t\tprops.onReturn.call(this, {status: STATUS_INFO.SUCCESS, inquiryRec: response.data, msg: `Successfully added inquiry.`} );\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// for edit user\r\n\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/inquiry/update/${finalData}`;\t\r\n\t\t\t//console.log(myUrl);\r\n\t\t\tvar response = await axios.get(myUrl);\r\n\t\t\tprops.onReturn.call(this, {status: STATUS_INFO.SUCCESS, inquiryRec: response.data, msg: `Successfully updated inquiry.`} );\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\tcatch (e) {\r\n\t\tconsole.log(e);\r\n\t\tvar myMessage = \"Error in add/update batch\";\r\n\t\tvar stayback = false;\r\n\t\tif (e.response)\r\n\t\tswitch (e.response.status) {\r\n\t\t\tcase 601: \r\n\t\t\t\tmyMessage = \"Student(s) not assigned\"; \r\n\t\t\t\tstayback = true; \r\n\t\t\t\tbreak;\r\n\t\t\tcase 602: \r\n\t\t\t\tmyMessage = \"Session(s) not assigned\"; \r\n\t\t\t\tstayback = true; \r\n\t\t\t\tbreak;\r\n\t\t\tcase 603: myMessage = \"Student(s) aready assigned batch\"; \r\n\t\t\t\tstayback = true; \r\n\t\t\t\tbreak;\r\n\t\t\tcase 604: myMessage = \"faculty block clash\"; \r\n\t\t\t\tstayback = true; \r\n\t\t\t\tbreak;\r\n\t\t\tcase 605: \r\n\t\t\t\tmyMessage = \"test edit batch error\";  \r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\t\r\n\t\tif (stayback) {\r\n\t\t\tshowError(myMessage);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tprops.onReturn.call(this, {status: STATUS_INFO.ERROR, msg: myMessage});\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\t\r\n}\r\n\r\n\r\n\r\nfunction DisplayAllToolTips() {\r\nreturn(\r\n\t<div>\r\n\t{batchArray.map( t =>\r\n\t\t<DisplaySingleTip id={\"USER\"+t.uid} />\r\n\t)}\r\n\t</div>\r\n)}\r\n\r\nfunction DisplaySingleTip(props) {\r\n\treturn null; //<Tooltip className={gClasses.tooltip} backgroundColor='#42EEF9' borderColor='black' arrowColor='blue' textColor='black' key={props.id} type=\"info\" effect=\"float\" id={props.id} multiline={true}/>\r\n}\r\n\r\n\r\n// style={{marginTop: \"5px\" }}  \r\nfunction DisplayOptions() {\r\nreturn (\r\n<Grid key=\"Options\" className={gClasses.noPadding} container alignItems=\"center\" >\r\n\t<Grid  item xs={3} sm={2} md={2} lg={1} >\r\n\t\t<VsSelect size=\"small\" align=\"center\" label=\"Selection\" options={ALLSELECTIONS} value={currentSelection} onChange={(event) => { selectAll(event.target.value)}} />\r\n\t</Grid>\r\n\t<Grid align=\"left\"  item xs={6} sm={7} md={8} lg={10} >\r\n\t\t<span></span>\r\n\t</Grid>\r\n\t<Grid  item xs={3} sm={3} md={2} lg={1} >\r\n\t\t<VsButton name=\"New Batch\" align=\"right\" onClick={handleAdd} />\r\n\t</Grid>\r\n</Grid>\r\n)}\r\n\t\r\n\t//console.log(dispType);\r\n\treturn (\r\n\t<div align=\"center\">\r\n\t<DisplayPageHeader headerName={ (props.mode ===\"ADD\") ? \"New Inquiry\" : `Edit inquiry` } groupName=\"\" tournament=\"\" />\r\n\t\t<Box margin={1} className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t\t<ValidatorForm margin={2} align=\"center\" className={gClasses.form} onSubmit={handleAddEditSubmit}  >\r\n\t\t<Grid key=\"ADDEDITINQUIRY\" className={gClasses.noPadding} container >\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Area</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={7} sm={7} md={3} lg={1} >\r\n\t\t\t\t{/*<VsSelect size=\"small\" align=\"left\" options={areaArray} field=\"mergedName\" value={newArea} onChange={(event) => { setNewArea(event.target.value)}} />*/}\r\n\t\t\t\t<TextValidator variant=\"outlined\" required fullWidth name=\"Area\"\r\n\t\t\t\t\tvalidators={['required']}\r\n\t\t\t\t\tvalue={newArea} onChange={(event) => setNewArea(event.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: spacing}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Name</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={7} sm={7} md={3} lg={3} >\r\n\t\t\t\t<TextValidator variant=\"outlined\" required fullWidth id=\"userName\" name=\"username\"\r\n\t\t\t\t\t\tvalidators={['required', 'minLength', 'noSpecialCharacters']}\r\n\t\t\t\t\t\terrorMessages={['User Name to be provided', 'Mimumum 6 characters required', ]}\r\n\t\t\t\t\t\tvalue={newContactName} onChange={() => { setNewContactName(event.target.value) }}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: spacing}} item xs={12} sm={12} md={12} lg={12} />\r\n\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Contact</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={7} sm={7} md={3} lg={3} >\r\n\t\t\t\t<TextValidator variant=\"outlined\" required fullWidth name=\"mobile\"\r\n\t\t\t\t\tvalidators={['required', 'mobile']}\r\n\t\t\t\t\terrorMessages={[, 'Mobile to be provided', '10 digit mobile number required']}\r\n\t\t\t\t\tvalue={newContactNumber} onChange={(event) => setNewContactNumber(event.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: spacing}} item xs={12} sm={12} md={12} lg={12} />\r\n\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Reference</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={7} sm={7} md={3} lg={3} >\r\n\t\t\t\t<TextValidator variant=\"outlined\"  fullWidth id=\"userName\" name=\"username\"\r\n\t\t\t\t\tvalue={newContactReference} onChange={() => { setNewContactReference(event.target.value) }}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: spacing}} item xs={12} sm={12} md={12} lg={12} />\r\n\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t<Typography align=\"left\" className={gClasses.info18Blue} >Status</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={7} sm={7} md={3} lg={1} >\r\n\t\t\t\t<VsSelect size=\"small\" align=\"left\" options={INQUIRYSTATUS} value={status} onChange={(event) => { setStatus(event.target.value)}} />\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: spacing }} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t<Grid style={{margin: spacing }} item xs={12} sm={12} md={12} lg={12} />\r\n\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t<Typography align=\"left\" className={gClasses.info18Blue}>Remarks</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={6} sm={6} md={3} lg={4} >\r\n\t\t\t\t<TextareaAutosize maxRows={MAXDISPLAYTEXTROWS} className={gClasses.textAreaFixed}  value={myNotes} onChange={() => {setMyNotes(event.target.value)}} />\r\n\t\t\t</Grid>\r\n\t\t\t<br />\r\n\t\t\t<ShowResisterStatus />\r\n\t\t\t<br />\r\n\t\t\t<Grid item xs={3} sm={3} md={4} lg={5} />\r\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t\t<VsButton type=\"submit\" name={(props.mode == \"EDIT\") ? \"Update Inquiry\" : \"Add Inquiry\"} />\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t\t\t</ValidatorForm>\r\n\t\t\t<ValidComp />   \r\n\t\t</Box>\r\n\t\t<ToastContainer />\r\n\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { TextareaAutosize } from '@material-ui/core';\r\n// import { Switch, Route, Link } from 'react-router-dom';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport BlueRadio from 'components/Radio/BlueRadio';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport { JumpButton, DisplayPageHeader, ValidComp, BlankArea} from 'CustomComponents/CustomComponents.js';\r\n\r\nimport lodashSortBy from \"lodash/sortBy\";\r\n\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\n\r\nimport FacultySchedule\t from \"views/Faculty/FacultySchedule\"\r\nimport SessionAddEdit\t from \"views/Session/SessionAddEdit\"\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport IndeterminateCheckBoxIcon from '@material-ui/icons/IndeterminateCheckBox';\r\nimport SchoolIcon from '@material-ui/icons/School';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport TableChartSharpIcon from '@material-ui/icons/TableChartSharp';\r\n\r\n//import { NoGroup, JumpButton, DisplayPageHeader, MessageToUser } from 'CustomComponents/CustomComponents.js';\r\nimport { \r\n\tisMobile, getWindowDimensions, displayType, \r\n\tdecrypt, encrypt ,\r\n\tvsDialog,\r\n\tshowError, showSuccess, showInfo,\r\n} from 'views/functions';\r\n\r\nimport globalStyles from \"assets/globalStyles\";\r\n\r\nimport VsButton from \"CustomComponents/VsButton\"; \r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\nimport VsSelect from \"CustomComponents/VsSelect\";\r\nimport VsRadio from \"CustomComponents/VsRadio\";\r\n\r\nimport InquiryAddEdit from \"views/Inquiry/InquiryAddEdit\";\r\n\r\nimport {\r\n\tROLE_FACULTY, ROLE_STUDENT,\r\n\tALLSELECTIONS, BLANKCHAR, STATUS_INFO,\r\n\tINQUIRYSTATUS, MAXDISPLAYTEXTROWS, MAXSTRINGLEN,\r\n} from 'views/globals';\r\n\r\n\r\nimport {\r\n\tmergedName, getCodeFromMergedName, getNameFromMergedName,\r\n\tisAdmin, isAdmMan, isAdmManFac, isFaculty,\r\n\tdateString,\r\n} from 'views/functions';\r\n\r\n\r\n//const useMemo = React.useMemo;\r\n//const useState = React.useState;\r\n//const useCallback = React.useCallback;\r\n\r\nconst spacing = \"5px\";\r\n\r\n\r\nexport default function Inquiry() {\r\n\t//const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\t\r\n\tconst [currentSelection, setCurrentSelection] = useState(ALLSELECTIONS[0]);\r\n\tconst [mode, setMode] = useState(\"\");\r\n\tconst [inquiryArray, setInquiryArray] = useState([]);\r\n\t//const [masterBatchArray, setMasterBatchArray] = useState([]);\r\n\r\n\r\n\tconst [infoRec, setInfoRec] = useState([]);\r\n\r\n\t// for faculty schule call\r\n\tconst [inquiryRec, setInquiryRec] = useState({});\r\n\tconst [showAll, setShowAll] = useState(false);\r\n\t\r\n\tconst [drawer, setDrawer] = useState(\"\");\r\n\tconst [drawerInfo, setDrawerInfo] = useState(\"\");\r\n\tconst [drawerDetail, setDrawerDetail] = useState(\"\");\r\n\tconst [registerStatus, setRegisterStatus] = useState(0);\r\n\t\r\n\tconst [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\tconst [dispType, setDispType] = useState(\"lg\");\r\n\r\n\tuseEffect(() => {\r\n\t\tfunction handleResize() {\r\n\t\t\tlet myDim = getWindowDimensions();\r\n      setWindowDimensions(myDim);\r\n\t\t\t//let myRows = 0;\r\n\t\t\tlet defHeight = 100;\r\n      //console.log(displayType(myDim.width)) ;\r\n      setDispType(displayType(myDim.width));\r\n     \r\n\t\t\t//switch (displayType(myDim.width)) {\r\n\t\t\t//\tcase 'xs': myRows = 10; break;\r\n\t\t\t//\tcase 'sm': myRows = 24; break;\r\n\t\t\t//\tcase 'md': myRows = 36; break;\r\n\t\t\t//\tcase 'lg': myRows = 48; break;\r\n\t\t\t//}\r\n\t\t\t//console.log(myRows);\r\n\t\t\t//setROWSPERPAGE(myRows);\r\n\t\t}\r\n\t\t//console.log(firsTime);\r\n\t\tasync function getAllInquiry() {\r\n\t\t\ttry {\r\n\t\t\t\tif (isAdmin()) {\r\n\t\t\t\t\tconsole.log(\"Admin or Main\");\r\n\t\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/inquiry/list/all`;\r\n\t\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\t\t//console.log(response.data);\r\n\t\t\t\t\tsetInquiryArray(response.data);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tconsole.log(\"Not correctr role\");\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\r\n\t\tgetAllInquiry();\r\n\t\thandleResize();\r\n\t\twindow.addEventListener('resize', handleResize);\r\n\t}, [])\r\n\r\n\t// function handleTimer() {}\r\n\r\n\r\n\tfunction ShowResisterStatus() {\r\n        // console.log(`Status is ${registerStatus}`);\r\n        let myMsg;\r\n        let errmsg = true;\r\n        switch (registerStatus) {\r\n          case 200:\r\n            myMsg = \"Successfully updated Captain / ViceCaptain details\";\r\n            errmsg = false;\r\n            break;\r\n          case 0:\r\n            myMsg = \"\";\r\n\t\t\t\t\t\terrmsg = false;\r\n            break;\r\n          case -1:\r\n            myMsg = \"Area Code cannot be blank\";\r\n            break;\r\n          case -2:\r\n            myMsg = `Area Code cannot be more than ${MAXAREACODELENGTH} characters`;\r\n            break;\r\n          case -3:\r\n            myMsg = \"Area code already in use\";\r\n            break;\r\n          case -4:\r\n            myMsg = \"Area description cannot be blank\";\r\n            break;\r\n          default:\r\n            myMsg = \"Error updating Captain / ViceCaptain details\";\r\n            break;\r\n        }\r\n\t\t\t\t//console.log(errmsg, registerStatus);\r\n\t\t\t\tif (errmsg)\r\n\t\t\t\t\tshowError(myMsg);\r\n\t\t\t\t\r\n\r\n        let myClass = (errmsg) ? gClasses.error : gClasses.nonerror;\r\n\t\t\t\treturn null;\r\n        return(\r\n          <div>\r\n            <Typography align=\"center\" className={myClass}>{myMsg}</Typography>\r\n          </div>\r\n        );\r\n      }\r\n\r\n\tfunction handleAddInquiry() {\r\n\t\tsetInquiryRec(null);\r\n\t\tsetDrawer(\"ADDINQUIRY\");\r\n\t}\r\n\t\r\n\tfunction handleEditBatch(rec) {\r\n\t\t//var batchInfo = {inUse: true, status: STATUS_INFO.EDIT_BATCH, msg: \"\", record:  rec };\r\n\t\t//sessionStorage.setItem(\"batchInfo\", JSON.stringify(batchInfo));\r\n\t\t//setTab(process.env.REACT_APP_BATCH_ADDEDITBATCH);\r\n\t\tsetInquiryRec(rec);\r\n\t\tsetDrawer(\"EDITINQUIRY\");\r\n\t}\r\n\t\r\n\tfunction handleAddSession(rec) {\r\n\t\t//var batchInfo = {inUse: true, from: process.env.REACT_APP_BATCH, status: STATUS_INFO.ADD_SESSION, msg: \"\", record:  rec, record2: null };\r\n\t\t//sessionStorage.setItem(\"batchInfo\", JSON.stringify(batchInfo));\r\n\t\t//setTab(process.env.REACT_APP_BATCH_ADDEDITSESSION);\r\n\t\tsetInquiryRec(rec);\r\n\t\tsetDrawer(\"ADDSESSION\");\r\n\t}\r\n\t\r\n\tfunction handleBackInquiry(sts)\r\n\t{\r\n\t\tif ((sts.msg !== \"\") && (sts.status === STATUS_INFO.ERROR)) showError(sts.msg); \r\n\t\telse if ((sts.msg !== \"\") && (sts.status === STATUS_INFO.SUCCESS)) showSuccess(sts.msg);\r\n\t\t\r\n\t\tif (sts.status !== STATUS_INFO.ERROR) {\r\n\t\t\tif (drawer === \"ADDINQUIRY\") {\r\n\t\t\t\tvar clonedInquiryArray = inquiryArray.concat([sts.inquiryRec]);\r\n\t\t\t\tsetInquiryArray(clonedInquiryArray);\r\n\t\t\t}\t\r\n\t\t\telse {\r\n\t\t\t\tvar clonedInquiryArray = inquiryArray.filter(x => x._id !== sts.inquiryRec._id);\r\n\t\t\t\tsetInquiryArray(clonedInquiryArray.concat([sts.inquiryRec]));\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetDrawer(\"\");\r\n\t}\r\n\t\r\n\tfunction handleInfo(rec) {\r\n\t\tsetInfoRec(rec);\r\n\t\tsetDrawerInfo(\"detail\");\r\n\t}\r\n\r\n\tfunction handleDeleteInquiry(t) {\r\n\t\tvsDialog(\"Delete inquiry\", `Are you sure you want to delete inquiry of ${mergedName(t.contactName, t.contactNumber)}?`,\r\n\t\t\t{label: \"Yes\", onClick: () => handleDeleteInquiryConfirm(t) },\r\n\t\t\t{label: \"No\" }\r\n\t\t);\r\n\t}\r\n\tasync function handleDeleteInquiryConfirm(rec) {\r\n\t\ttry {\r\n\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/inquiry/delete/${rec._id}`;\r\n\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\tvar allRec  = inquiryArray.filter(x => x._id !== rec._id);\r\n\t\t\tsetInquiryArray(allRec);\r\n\t\t\tshowSuccess(`Successfully deleted inquiry`);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tshowError(\"Error deleting inquiry\");\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\tfunction DisplayAllInquiry() {\r\n\t\t//console.log(dispType);\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t<Table  align=\"center\">\r\n\t\t\t<TableHead p={0}>\r\n\t\t\t<TableRow key=\"header\" align=\"center\">\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Date</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Area</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Name</TableCell>\r\n\t\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Contact</TableCell>\r\n\t\t\t\t{((dispType === \"md\") || (dispType === \"lg\")) &&\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Reference</TableCell>\r\n\t\t\t\t}\r\n\t\t\t\t{((dispType === \"md\") || (dispType === \"lg\")) &&\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Remarks</TableCell>\r\n\t\t\t\t}\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Status</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\"></TableCell>\r\n\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t\t<TableBody p={0}>\r\n\t\t\t\t{inquiryArray.map(x => {\r\n\t\t\t\t\tlet myInfo = \"Inquiry dated: \" + dateString(x.date) + \"<br />\";\r\n\t\t\t\t\tmyInfo += \"Reference:  \" + x.reference + \"<br />\";\r\n\t\t\t\t\tmyInfo += \"Remarks : \" + x.remarks;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t<TableRow key={x._id}>\r\n\t\t\t\t\t\t<TableCell className={gClasses.td} p={0} >{dateString(x.date)}</TableCell>\r\n\t\t\t\t\t\t<TableCell align=\"center\" className={gClasses.td} p={0} >{x.area}</TableCell>\r\n\t\t\t\t\t\t<TableCell align=\"center\" className={gClasses.td} p={0} >{x.contactName}</TableCell>\r\n\t\t\t\t\t\t<TableCell align=\"center\" className={gClasses.td} p={0} >{x.contactNumber}</TableCell>\r\n\t\t\t\t\t\t{((dispType === \"md\") || (dispType === \"lg\")) &&\r\n\t\t\t\t\t\t\t<TableCell align=\"center\" className={gClasses.td} p={0} >{x.reference}</TableCell>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{((dispType === \"md\") || (dispType === \"lg\")) &&\r\n\t\t\t\t\t\t\t<TableCell align=\"center\" className={gClasses.td} p={0} >{x.remarks.substr(0, MAXSTRINGLEN)+((x.remarks.length > MAXSTRINGLEN) ? \"*\" : \"\" )}</TableCell>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<TableCell align=\"center\" className={gClasses.td} p={0} >{x.status}</TableCell>\r\n\t\t\t\t\t\t<TableCell className={gClasses.td} p={0} >\r\n\t\t\t\t\t\t\t<IconButton color=\"primary\" disabled={!isAdmMan()} size=\"small\" onClick={() => {handleEditBatch(x)}} ><EditIcon /></IconButton>\r\n\t\t\t\t\t\t\t<IconButton color=\"primary\" size=\"small\" onClick={() => {handleInfo(x)}} ><InfoIcon /></IconButton>\r\n\t\t\t\t\t\t\t<IconButton color=\"secondary\" size=\"small\" onClick={() => {handleDeleteInquiry(x)}} ><CancelIcon /></IconButton>\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t</TableRow>\r\n\t\t\t\t)})}\r\n\t\t\t</TableBody>\r\n\t\t\t</Table>\r\n\t\t</div>\r\n\t\t);\r\n\r\n\t}\r\n\t\r\n\tfunction filterBatch(masterArray, x) {\r\n\t\tswitch (x) {\r\n\t\t\tcase \"Disabled\":  setInquiryArray(masterArray.filter(x => !x.enabled ));  break;\r\n\t\t\tcase \"Enabled\":   setInquiryArray(masterArray.filter(x => x.enabled ));  break;\r\n\t\t\tdefault:          setInquiryArray(masterArray);  break;\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction selectAll(x) {\r\n\t\tsetCurrentSelection(x);\r\n\t\tfilterBatch(masterBatchArray, x);\r\n\t}\r\n\t\r\n\t// style={{marginTop: \"5px\" }}  \r\n\tfunction DisplayOptions() {\r\n\treturn (\r\n\t<Grid key=\"Options\" className={gClasses.noPadding} container alignItems=\"center\" >\r\n\t\t<Grid  item xs={3} sm={2} md={2} lg={1} >\r\n\t\t\t<VsSelect size=\"small\" align=\"center\" label=\"Selection\" options={ALLSELECTIONS} value={currentSelection} onChange={(event) => { selectAll(event.target.value)}} />\r\n\t\t</Grid>\r\n\t\t<Grid align=\"left\"  item xs={6} sm={7} md={8} lg={10} >\r\n\t\t\t<span></span>\r\n\t\t</Grid>\r\n\t\t<Grid  item xs={3} sm={3} md={2} lg={1} >\r\n\t\t\t<VsButton disabled={!isAdmMan()} name=\"New Inquiry\" align=\"right\" onClick={handleAddInquiry} />\r\n\t\t</Grid>\r\n\t</Grid>\r\n\t)}\r\n\t\t\r\n\treturn (\r\n\t<div>\r\n\t<DisplayPageHeader headerName=\"Inquiry\" groupName=\"\" tournament=\"\" />\r\n\t<DisplayOptions />\r\n\t<DisplayAllInquiry/>\r\n\t<Drawer anchor=\"top\" variant=\"temporary\" open={drawer !== \"\"}>\r\n\t\t<VsCancel align=\"right\" onClick={() => { setDrawer(\"\")}} />\r\n\t\t{( (drawer === \"ADDINQUIRY\") || (drawer === \"EDITINQUIRY\") ) &&\r\n\t\t\t<InquiryAddEdit mode={(drawer === \"ADDINQUIRY\") ? \"ADD\" : \"EDIT\"}  inquiryRec={inquiryRec} onReturn={handleBackInquiry} />\r\n\t\t}\r\n\t</Drawer>\r\n\t<Drawer anchor=\"bottom\" variant=\"temporary\" open={drawerInfo !== \"\"}>\r\n\t\t<VsCancel align=\"right\" onClick={() => { setDrawerInfo(\"\")}} />\r\n\t<DisplayPageHeader headerName=\"Inquiry information\" groupName=\"\" tournament=\"\" />\r\n\t\t<Box margin={1} className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} >\r\n\t\t<br />\r\n\t\t<Grid key=\"INFOINQUIRY\" className={gClasses.noPadding} container >\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Date</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={7} sm={7} md={3} lg={1} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{dateString(infoRec.date)}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: spacing}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Area</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={7} sm={7} md={3} lg={1} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{infoRec.area}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: spacing}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Name</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={7} sm={7} md={3} lg={1} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{infoRec.contactName}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: spacing}} item xs={12} sm={12} md={12} lg={12} />\r\n\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Contact</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={7} sm={7} md={3} lg={1} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{infoRec.contactNumber}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: spacing}} item xs={12} sm={12} md={12} lg={12} />\r\n\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Reference</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={7} sm={7} md={3} lg={1} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{infoRec.reference}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: spacing}} item xs={12} sm={12} md={12} lg={12} />\r\n\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t<Typography align=\"left\" className={gClasses.info18Blue} >Status</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={7} sm={7} md={3} lg={1} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{infoRec.status}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: spacing }} item xs={12} sm={12} md={12} lg={12} />\r\n\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={6} sm={6} md={3} lg={2} >\r\n\t\t\t\t<Typography align=\"left\" className={gClasses.info18Blue}>Remarks</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={6} sm={6} md={3} lg={4} >\r\n\t\t\t\t<TextareaAutosize readOnly maxRows={MAXDISPLAYTEXTROWS} className={gClasses.info18}  value={infoRec.remarks} />\r\n\t\t\t<br />\r\n\t\t</Grid>\r\n\t\t</Grid>\r\n\t\t</Box>\r\n\t</Drawer>\r\n\t<ToastContainer />\r\n\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n// import { Switch, Route, Link } from 'react-router-dom';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport Drawer from '@material-ui/core/Drawer';\r\n//import Tooltip from \"react-tooltip\";\r\n//import ReactTooltip from 'react-tooltip'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\t\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport BlueRadio from 'components/Radio/BlueRadio';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport { JumpButton, DisplayPageHeader, ValidComp, BlankArea} from 'CustomComponents/CustomComponents.js';\r\n\r\nimport lodashSortBy from \"lodash/sortBy\";\r\nimport lodashOrderBy from \"lodash/orderBy\";\r\nimport lodashSumBy from \"lodash/sumBy\";\r\n\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\n\r\nimport FacultySchedule\t from \"views/Faculty/FacultySchedule\"\r\nimport PaymentAddEdit\t from \"views/Payment/PaymentAddEdit\"\r\n\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport IndeterminateCheckBoxIcon from '@material-ui/icons/IndeterminateCheckBox';\r\nimport SchoolIcon from '@material-ui/icons/School';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport TableChartSharpIcon from '@material-ui/icons/TableChartSharp';\r\nimport Money from '@material-ui/icons/Money';\r\n\r\nimport SessionAddEdit\t from \"views/Session/SessionAddEdit\"\r\n\r\n//import { NoGroup, JumpButton, DisplayPageHeader, MessageToUser } from 'CustomComponents/CustomComponents.js';\r\nimport { \r\n\tisMobile, getWindowDimensions, displayType, \r\n\tdecrypt, encrypt,\r\n\tvsDialog,\r\n\tshowError, showSuccess, showInfo,\r\n} from 'views/functions';\r\n\r\nimport globalStyles from \"assets/globalStyles\";\r\n\r\nimport VsButton from \"CustomComponents/VsButton\"; \r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\nimport VsSelect from \"CustomComponents/VsSelect\";\r\nimport VsRadio from \"CustomComponents/VsRadio\";\r\n\r\n//import BatchAddEdit from \"./BatchAddEdit\";\r\n\r\nimport {\r\n\tROLE_FACULTY, ROLE_STUDENT,\r\n\tALLSELECTIONS, BLANKCHAR, STATUS_INFO,\r\n\tDUES_MF,\r\n} from 'views/globals';\r\n\r\n\r\nimport {\r\n\tmergedName, getCodeFromMergedName, getNameFromMergedName,\r\n\tisAdmin, isAdmMan, isAdmManFac, isFaculty,\r\n\tdateString,\r\n} from 'views/functions';\r\n\r\n\r\n\r\nexport default function Summary() {\r\n\t//const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\t\r\n\t//const [currentSelection, setCurrentSelection] = useState(ALLSELECTIONS[0]);\r\n\t//const [mode, setMode] = useState(\"\");\r\n\tconst [summaryArray, setSummaryArray] = useState([]);\r\n\tconst [masterSessionArray, setMasterSessionArray] = useState([]);\r\n\r\n\tconst [studentSummary ,setStudentSummary] = useState([]);\r\n\tconst [selStudent, setSelStudent] = useState(\"\");\r\n\tconst [selPaymentRec, setSelPaymentRec] = useState(\"\");\r\n\r\n\tconst [batchRec, setBatchRec] = useState({});\r\n\tconst [sessionRec, setSessionRec] = useState({});\t\r\n\t//const [showAll, setShowAll] = useState(false);\r\n\t\r\n\tconst [drawer, setDrawer] = useState(\"\");\r\n\tconst [drawerInfo, setDrawerInfo] = useState(\"\");\r\n\tconst [registerStatus, setRegisterStatus] = useState(0);\r\n\t\r\n\tconst [currentText, setCurrentText] = useState(\"\");\r\n\r\n\tconst [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\tconst [dispType, setDispType] = useState(\"lg\");\r\n\r\n\tuseEffect(() => {\r\n\t\tfunction handleResize() {\r\n\t\t\tlet myDim = getWindowDimensions();\r\n      setWindowDimensions(myDim);\r\n\t\t\t//let myRows = 0;\r\n\t\t\tlet defHeight = 100;\r\n      //console.log(displayType(myDim.width)) ;\r\n      setDispType(displayType(myDim.width));\r\n     \r\n\t\t\t//switch (displayType(myDim.width)) {\r\n\t\t\t//\tcase 'xs': myRows = 10; break;\r\n\t\t\t//\tcase 'sm': myRows = 24; break;\r\n\t\t\t//\tcase 'md': myRows = 36; break;\r\n\t\t\t//\tcase 'lg': myRows = 48; break;\r\n\t\t\t//}\r\n\t\t\t//console.log(myRows);\r\n\t\t\t//setROWSPERPAGE(myRows);\r\n\t\t}\r\n\t\t//console.log(firsTime);\r\n\t\tasync function getAllSummary() {\r\n\t\t\ttry {\r\n\t\t\t\tif (isAdmin()) {\r\n\t\t\t\t\t//console.log(\"Admin or Main\");\r\n\t\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/payment/summary/all`;\r\n\t\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\t\t//console.log(response.data);\r\n\t\t\t\t\t//setSummaryArray(response.data);\r\n\t\t\t\t\tsetMasterSessionArray(response.data);\r\n\t\t\t\t\tfilterSession(response.data, currentText);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tconsole.log(\"Not correct role\");\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tgetAllSummary();\r\n\t\thandleResize();\r\n\t\twindow.addEventListener('resize', handleResize);\r\n\t}, [])\r\n\r\n\r\n\tfunction handleBack(sts) {\r\n\t\t//console.log(sts);\r\n\t\tif ((sts.msg !== \"\") && (sts.status === STATUS_INFO.ERROR)) showError(sts.msg); \r\n\t\telse if ((sts.msg !== \"\") && (sts.status === STATUS_INFO.SUCCESS)) showSuccess(sts.msg); \r\n\t\t\r\n\t\t//console.log(sts.status, selPaymentRec);\r\n\t\tif (sts.status == STATUS_INFO.SUCCESS) {\r\n\t\t\tvar clonedArray = [].concat(masterSessionArray);\r\n\t\t\tvar tmp = clonedArray.find(x => x.sid === sts.paymentRec.sid);\r\n\t\t\ttmp.credit += sts.paymentRec.amount;\r\n\t\t\ttmp.dues = (tmp.credit - tmp.debit)*DUES_MF;\r\n\t\t\t//setSummaryArray( lodashSortBy(clonedArray, 'dues').reverse() );\t\t\r\n\t\t\tvar updArray = lodashSortBy(clonedArray, 'dues').reverse();\r\n\t\t\tsetMasterSessionArray(updArray);\r\n\t\t\tfilterSession(updArray, currentText);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.log(\"Yaha kaise aaya\");\r\n\t\t}\r\n\t\tsetDrawer(\"\");\r\n\t}\r\n\t\r\n\tfunction ShowResisterStatus() {\r\n        // console.log(`Status is ${registerStatus}`);\r\n        let myMsg;\r\n        let errmsg = true;\r\n        switch (registerStatus) {\r\n          case 200:\r\n            myMsg = \"Successfully updated Captain / ViceCaptain details\";\r\n            errmsg = false;\r\n            break;\r\n          case 0:\r\n            myMsg = \"\";\r\n\t\t\t\t\t\terrmsg = false;\r\n            break;\r\n          case -1:\r\n            myMsg = \"Area Code cannot be blank\";\r\n            break;\r\n          case -2:\r\n            myMsg = `Area Code cannot be more than ${MAXAREACODELENGTH} characters`;\r\n            break;\r\n          case -3:\r\n            myMsg = \"Area code already in use\";\r\n            break;\r\n          case -4:\r\n            myMsg = \"Area description cannot be blank\";\r\n            break;\r\n          default:\r\n            myMsg = \"Error updating Captain / ViceCaptain details\";\r\n            break;\r\n        }\r\n\t\t\t\t//console.log(errmsg, registerStatus);\r\n\t\t\t\tif (errmsg)\r\n\t\t\t\t\talert(myMsg);\r\n\t\t\t\t//else\r\n        let myClass = (errmsg) ? gClasses.error : gClasses.nonerror;\r\n\t\t\t\treturn null;\r\n        return(\r\n          <div>\r\n            <Typography align=\"center\" className={myClass}>{myMsg}</Typography>\r\n          </div>\r\n        );\r\n      }\r\n\r\n\tfunction handleAddStudentPayment(rec) {\r\n\t\tsetSelStudent({sid: rec.sid});\r\n\t\tsetSelPaymentRec(null);\r\n\t\tsetDrawer(\"ADDPAYMENT\");\r\n\t}\r\n\r\n\r\n\tasync function handleEditStudentSession(rec) {\r\n\t\ttry {\r\n\t\t\t// fetch both session and batch\r\n\t\t\tvar response1 = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/session/get/${rec._id}`);\r\n\t\t\tsetSessionRec(response1.data);\r\n\t\t\t// now get batch record\r\n\t\t\tvar response2 = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/student/getbatch/${selStudent.sid}`);\r\n\t\t\tsetBatchRec(response2.data);\r\n\t\t\tsetDrawer(\"EDITSESSION\");\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tshowError(`Error getting batch/session record of ${ mergedName(selStudent.name, selStudent.sid) }`);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleBackSession(sts)\r\n\t{\r\n\t\tif ((sts.msg !== \"\") && (sts.status === STATUS_INFO.ERROR)) showError(sts.msg); \r\n\t\telse if ((sts.msg !== \"\") && (sts.status === STATUS_INFO.SUCCESS)) showSuccess(sts.msg); \r\n\t\t\r\n\t\tif (sts.status !== STATUS_INFO.ERROR) {\r\n\t\t\tif (drawer === \"ADDSESSION\") {\r\n\t\t\t\tvar clonedSessionArray = [].concat(sessionArray);\r\n\t\t\t\tfor(var i = 0; i < clonedSessionArray.length; ++i) {\r\n\t\t\t\t\tif ( batchRec.sid.includes(clonedSessionArray[i].sid) )\r\n\t\t\t\t\t\tclonedSessionArray[i].count += 1;\r\n\t\t\t\t}\r\n\t\t\t\tsetSessionArray(clonedSessionArray);\r\n\t\t\t}\t\r\n\t\t\telse {\r\n\t\t\t\t// Edit session\r\n\t\t\t\tvar clonedArray = [].concat(studentSummary);\r\n\t\t\t\tvar tmp = clonedArray.find(x => x._id === sts.sessionRec._id);\r\n\t\t\t\t\r\n\t\t\t\ttmp.date = sts.sessionRec.sessionDate;\r\n\t\t\t\t\r\n\t\t\t\t// check if student is absent in the batch. If yes reduce debit and dues\r\n\t\t\t\tif (!sts.sessionRec.attendedSidList.includes(selStudent.sid)) {\r\n\t\t\t\t\tconsole.log(tmp);\r\n\t\t\t\t\tconsole.log(sessionRec);\r\n\t\t\t\t\tvar cloneSummaryArray = [].concat(masterSessionArray);\r\n\t\t\t\t\tvar tmpRec = cloneSummaryArray.find(x => x.sid === selStudent.sid);\r\n\t\t\t\t\ttmpRec.debit -= sts.sessionRec.fees;\r\n\t\t\t\t\ttmpRec.dues -= sts.sessionRec.fees;\r\n\t\t\t\t\t//setSummaryArray(cloneSummaryArray);\r\n\t\t\t\t\tsetMasterSessionArray(cloneSummaryArray);\r\n\t\t\t\t\tfilterSession(cloneSummaryArray, currentText);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// finally save session details\r\n\t\t\t\tsetStudentSummary(clonedArray);\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetDrawer(\"\");\r\n\t}\r\n\t\t\t\r\n\tfunction handleDelStudentPayment(rec) {\r\n\t\tsetDrawerInfo(\"\");\r\n\t\tvsDialog(\"Delete Payment\", `Are you sure you want delet payment of amount ${rec.credit}?`,\r\n\t\t\t{label: \"Yes\", onClick: () => handleDelStudentPaymentConfirm(rec) },\r\n\t\t\t{label: \"No\", onClick: () => setDrawerInfo(\"detail\") }\r\n\t\t);\r\n\t}\r\n\t\r\n\tasync function handleDelStudentPaymentConfirm(rec) {\r\n\t\tsetDrawerInfo(\"detail\");\r\n\t\t//console.log(rec);\r\n\t\ttry {\r\n\t\t\tvar response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/payment/delete/${rec._id}`);\r\n\t\t\t// remove this payment entry\r\n\t\t\tsetStudentSummary(studentSummary.filter(x => x._id !== rec._id));\r\n\t\t\t// remove from total \r\n\t\t\tvar clonedArray = [].concat(masterSessionArray);\r\n\t\t\tvar tmp = clonedArray.find(x => x.sid === selStudent.sid);\r\n\t\t\ttmp.credit -= rec.credit;\r\n\t\t\ttmp.dues += rec.credit;\r\n\t\t\t//setSummaryArray(clonedArray);\r\n\t\t\tsetMasterSessionArray(clonedArray);\r\n\t\t\tfilterSession(clonedArray, currentText);\r\n\t\t\tshowSuccess(`Delete payment entry of amount ${rec.credit} for ${mergedName(selStudent.studentName, selStudent.sid)} `);\r\n\t\t}\r\n\t\tcatch(e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tshowError(\"error deleting payment record of amount ${rec.credit}\");\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tfunction handleDelStudentSession(rec) {\r\n\t\tconsole.log(rec);\r\n\t\tsetDrawerInfo(\"\");\r\n\t\tvsDialog(\"Delete Session\", `Are you sure you want delete ${rec.desc} ?`,\r\n\t\t\t{label: \"Yes\", onClick: () => handleDelStudentSessiontConfirm(rec) },\r\n\t\t\t{label: \"No\", onClick: () => setDrawerInfo(\"detail\") }\r\n\t\t);\r\n\t}\r\n\t\r\n\tasync function handleDelStudentSessiontConfirm(rec) {\r\n\t\tsetDrawerInfo(\"detail\");\r\n\t\tconsole.log(rec);\r\n\t\ttry {\r\n\t\t\tvar response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/session/delete/${rec._id}`);\r\n\t\t\t// remove this payment entry\r\n\t\t\tsetStudentSummary(studentSummary.filter(x => x._id !== rec._id));\r\n\t\t\t// reduce session amount from debit \r\n\t\t\tvar clonedArray = [].concat(masterSessionArray);\r\n\t\t\tvar tmp = clonedArray.find(x => x.sid === selStudent.sid);\r\n\t\t\ttmp.debit -= rec.debit;\r\n\t\t\ttmp.dues -= rec.debit;\r\n\t\t\t//setSummaryArray(clonedArray);\r\n\t\t\tsetMasterSessionArray(clonedArray);\r\n\t\t\tfilterSession(clonedArray, currentText);\r\n\t\t\tshowSuccess(`Successfully deleted ${rec.desc} for ${mergedName(selStudent.studentName, selStudent.sid)} `);\r\n\t\t}\r\n\t\tcatch(e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tshowError(\"error deleting payment record of amount ${rec.credit}\");\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tfunction handleEditStudentPayment(rec) {\r\n\t\tshowInfo(\"Edit payment from summary to be implemented\");\r\n\t}\t\r\n\t\r\n\t\r\n\tasync function handleInfo(rec) {\r\n\t\t//console.log(rec);\r\n\t\tsetSelStudent({sid: rec.sid, studentName: rec.studentName});\r\n\t\ttry {\r\n\t\t\tvar response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/payment/summary/detail/${rec.sid}`);\r\n\t\t\tsetStudentSummary(response.data);\r\n\t\t\tsetDrawerInfo(\"detail\");\r\n\t\t}\r\n\t\tcatch(e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tshowError(\"error fetching student payment details.\");\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tfunction DisplayAllPayment() {\r\n\t\t//console.log(dispType);\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t<Table  align=\"center\">\r\n\t\t\t<TableHead p={0}>\r\n\t\t\t<TableRow key=\"header\" align=\"center\">\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Student</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Credit</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Debit</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Due</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\"></TableCell>\r\n\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t\t<TableBody p={0}>\r\n\t\t\t\t{summaryArray.map(x => {\r\n\t\t\t\t\t\tvar myClasses = (x.credit < x.debit ) ? gClasses.disabledtd : gClasses.td ; \r\n\t\t\t\t\t\t//console.log(x.credit, x.debit);\r\n\t\t\t\t\t\t//console.log(myClasses)\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t<TableRow key={x.sid}>\r\n\t\t\t\t\t\t<TableCell className={myClasses} align=\"center\" p={0} >{mergedName(x.studentName,x.bid) }</TableCell>\r\n\t\t\t\t\t\t<TableCell className={myClasses} align=\"center\" p={0} >{x.credit}</TableCell>\r\n\t\t\t\t\t\t<TableCell className={myClasses} align=\"center\" p={0} >{x.debit}</TableCell>\r\n\t\t\t\t\t\t<TableCell className={myClasses} align=\"center\" p={0} >{x.dues}</TableCell>\r\n\t\t\t\t\t\t<TableCell className={myClasses} p={0} >\r\n\t\t\t\t\t\t\t<IconButton color=\"primary\" size=\"small\" onClick={() => {handleInfo(x)}} ><InfoIcon /></IconButton>\r\n\t\t\t\t\t\t\t<IconButton color=\"primary\"  size=\"small\" onClick={() => {handleAddStudentPayment(x)}} ><Money /></IconButton>\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t</TableRow>\r\n\t\t\t\t)})}\r\n\t\t\t</TableBody>\r\n\t\t\t</Table>\r\n\t\t</div>\r\n\t\t);\r\n\r\n\t}\r\n\t\r\n \r\n\tfunction DisplayOptions() {\r\n\treturn (\r\n\t<Grid key=\"Options\" className={gClasses.noPadding} container alignItems=\"center\" >\r\n\t\t<Grid  item xs={3} sm={2} md={2} lg={1} >\r\n\t\t\t{/*<VsSelect size=\"small\" align=\"center\" label=\"Selection\" options={ALLSELECTIONS} value={currentSelection} onChange={(event) => { selectAll(event.target.value)}} />*/}\r\n\t\t</Grid>\r\n\t\t<Grid align=\"left\"  item xs={6} sm={7} md={8} lg={10} >\r\n\t\t\t<span></span>\r\n\t\t</Grid>\r\n\t\t<Grid  item xs={3} sm={3} md={2} lg={1} >\r\n\t\t</Grid>\r\n\t</Grid>\r\n\t)}\r\n\t\r\n\tfunction handleEditPaymentOrSession(rec) {\r\n\t\tif (rec.credit === 0)\r\n\t\t\thandleEditStudentSession(rec) \t// Edit session\r\n\t\telse\r\n\t\t\thandleEditStudentPayment(rec) \t// Edit Payment\r\n\t}\r\n\t\r\n\tfunction handleDelPaymentOrSession(rec) {\r\n\t\tif (rec.credit === 0)\r\n\t\t\thandleDelStudentSession(rec) \t// Del session\r\n\t\telse\r\n\t\t\thandleDelStudentPayment(rec) \t// Del Payment\r\n\t}\r\n\r\n\r\n\t\r\n\tfunction filterSession(masterArray, textFilter) {\r\n\t\tvar filteredArray = [].concat(masterArray);\r\n\t\t\t\t\r\n\t\tvar finalFilterArray = [];\r\n\t\t// Now filter on text\r\n\t\tif (textFilter !== \"\") {\r\n\t\t\ttextFilter = textFilter.toUpperCase();\r\n\t\t\t// start filter process on all records one by one\r\n\t\t\tfor(var i=0; i<filteredArray.length; ++i) {\r\n\t\t\t\t//console.log(filteredArray[i]);\r\n\t\t\t\r\n\t\t\t\tif (\r\n\t\t\t\t\t(filteredArray[i].sid.includes(textFilter)) ||\r\n\t\t\t\t\t(filteredArray[i].bid.toUpperCase().includes(textFilter))\r\n\t\t\t\t) {\r\n\t\t\t\t\tfinalFilterArray.push(filteredArray[i]);\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse  {\r\n\t\t\tfinalFilterArray = filteredArray\t\t\t// no filter required\r\n\t\t}\r\n\t\tsetSummaryArray(finalFilterArray);\r\n\t}\r\n\t\r\n\r\n\tfunction setTextFilter(textValue) {\r\n\t\ttextValue = textValue.toLowerCase();\r\n\t\tsetCurrentText(textValue);\r\n\t\tfilterSession(masterSessionArray, textValue);\r\n\t}\r\n\t\r\n\treturn (\r\n\t<div>\r\n\t<DisplayPageHeader headerName=\"Account Summary\" groupName=\"\" tournament=\"\" />\r\n\t{/*<DisplayOptions />*/}\r\n\t<Box margin={1} className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} paddingTop={1} >\r\n\t\t<Grid key=\"Filter\" className={gClasses.noPadding} container  >\r\n\t\t\t<Grid item xs={1} sm={1} md={4} lg={3}  >\r\n\t\t\t\t<TextField fullWidth label=\"Filter Text\" value={currentText} onChange={ (event) => { setTextFilter(event.target.value) } } />\t\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t</Box>\r\n\t\r\n\t<DisplayAllPayment/>\r\n\t<Drawer anchor=\"top\" variant=\"temporary\" open={drawer !== \"\"}>\r\n\t\t<VsCancel align=\"right\" onClick={() => { setDrawer(\"\")}} />\r\n\t\t{(drawer === \"ADDPAYMENT\") &&\r\n\t\t\t<PaymentAddEdit mode=\"ADD\" sid={selStudent.sid} paymentRec={null}  onReturn={handleBack} />\r\n\t\t}\r\n\t\t{(drawer === \"EDITPAYMENT\") &&\r\n\t\t\t<PaymentAddEdit mode=\"EDIT\" sid={selStudent.sid} paymentRec={selPaymentRec}  onReturn={handleBack} />\r\n\t\t}\r\n\t\t{(drawer === \"EDITSESSION\") &&\r\n\t\t\t<SessionAddEdit mode=\"EDIT\" batchRec={batchRec} sessionRec={sessionRec}  onReturn={handleBackSession} />\r\n\t\t}\r\n\t</Drawer>\r\n\t<Drawer anchor=\"bottom\" variant=\"temporary\" open={drawerInfo !== \"\"}>\r\n\t<VsCancel align=\"right\" onClick={() => { setDrawerInfo(\"\")}} />\r\n\t<DisplayPageHeader headerName={`Account summary of ${ mergedName(selStudent.studentName, selStudent.sid ) }`} groupName=\"\" tournament=\"\" />\r\n\t\t<Table  align=\"center\">\r\n\t\t<TableHead p={0}>\r\n\t\t<TableRow key=\"header\" align=\"center\">\r\n\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Date</TableCell>\r\n\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Desc</TableCell>\r\n\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Credit</TableCell>\r\n\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Debit</TableCell>\r\n\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\"></TableCell>\r\n\t\t</TableRow>\r\n\t\t</TableHead>\r\n\t\t<TableBody p={0}>\r\n\t\t\t{studentSummary.map(x => {\r\n\t\t\t\t\tvar myClasses = gClasses.td ;\r\n\t\t\t\t\t//console.log(x)\r\n\t\t\t\treturn (\r\n\t\t\t\t<TableRow key={x.date+x.desc}>\r\n\t\t\t\t\t<TableCell className={myClasses} p={0} align=\"center\" >{dateString(x.date)}</TableCell>\r\n\t\t\t\t\t<TableCell className={myClasses}  p={0} >{x.desc}</TableCell>\r\n\t\t\t\t\t<TableCell className={myClasses} align=\"center\" p={0} >{(x.credit !== 0) ? x.credit : \"\"}</TableCell>\r\n\t\t\t\t\t<TableCell className={myClasses} align=\"center\" p={0} >{(x.debit !== 0)  ? x.debit  : \"\"}</TableCell>\r\n\t\t\t\t\t<TableCell className={myClasses} p={0} >\r\n\t\t\t\t\t\t<IconButton color=\"primary\"  size=\"small\"  onClick={() => {handleEditPaymentOrSession(x) }} ><EditIcon /></IconButton>\r\n\t\t\t\t\t\t<IconButton color=\"secondary\" size=\"small\" onClick={() => { handleDelPaymentOrSession(x) }} ><CancelIcon /></IconButton>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t</TableRow>\r\n\t\t\t)})}\r\n\t\t</TableBody>\r\n\t\t</Table>\t\r\n\t\t<br />\r\n\t</Drawer>\r\n\t<ToastContainer />\r\n\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Radio from '@material-ui/core/Radio';\r\n\r\nexport default function VsRadioGroup(props) {\r\nconst gClasses = globalStyles();\r\nlet _field = (props.radioField == null);\r\nreturn (\r\n\t<FormControl component=\"fieldset\">\r\n\t\t<RadioGroup row aria-label=\"rgrp\" name=\"rgrp\" value={props.value} onChange={props.onChange}>\r\n\t{(_field) &&\r\n\t\tprops.radioList.map ( r =>\r\n\t\t<FormControlLabel key={r} className={gClasses.filterRadio} value={r} \r\n\t\t\tcontrol={<Radio color=\"primary\"/>} label={r} />\r\n\t\t)\r\n\t}\r\n\t{(!_field) &&\r\n\t\tprops.radioList.map ( r =>\r\n\t\t<FormControlLabel key={r[props.radioField]} className={gClasses.filterRadio} value={r[props.radioField]} \r\n\t\t\tcontrol={<Radio color=\"primary\"/>} label={r[props.radioField]} />\r\n\t\t)\r\n\t}\r\n\t</RadioGroup>\r\n\t</FormControl>\t\t\r\n)\r\n}\r\n\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n// import { Switch, Route, Link } from 'react-router-dom';\r\nimport { ValidatorForm, TextValidator, TextValidatorcvariant} from 'react-material-ui-form-validator';\r\nimport { TextareaAutosize, TextField } from '@material-ui/core';\r\n\r\nimport Drawer from '@material-ui/core/Drawer';\r\n//import Tooltip from \"react-tooltip\";\r\n//import ReactTooltip from 'react-tooltip'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport Datetime from \"react-datetime\";\r\nimport \"react-datetime/css/react-datetime.css\";\r\n\t\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Container from '@material-ui/core/Container';\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport BlueRadio from 'components/Radio/BlueRadio';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport { JumpButton, DisplayPageHeader, ValidComp, BlankArea} from 'CustomComponents/CustomComponents.js';\r\n\r\nimport lodashSortBy from \"lodash/sortBy\";\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport IndeterminateCheckBoxIcon from '@material-ui/icons/IndeterminateCheckBox';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n\r\n//import { NoGroup, JumpButton, DisplayPageHeader, MessageToUser } from 'CustomComponents/CustomComponents.js';\r\n\r\nimport globalStyles from \"assets/globalStyles\";\r\n\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\n\r\nimport VsButton from \"CustomComponents/VsButton\"; \r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\nimport VsSelect from \"CustomComponents/VsSelect\";\r\nimport VsRadio from \"CustomComponents/VsRadio\";\r\nimport VsRadioGroup from \"CustomComponents/VsRadioGroup\";\r\n\r\n//const ALLROLES = [\"Student\", \"Faculty\", \"Admin\"];\r\n\r\nimport {\r\n\tROLE_FACULTY , ROLE_STUDENT, ROLE_MANAGERFACULTYSTUDENT,\r\n\tALLSELECTIONS, BLANKCHAR,\r\n\tNOFRACTION,\r\n\tSHORTWEEKSTR, HOURBLOCKSTR, MINUTEBLOCKSTR, SESSIONHOURSTR,\r\n\tSTATUS_INFO,\r\n\tDURATIONSTR,\r\n\tBATCHTIMESTR,\r\n\tMAXDISPLAYTEXTROWS,\r\n\tPAYMENTMODE, PAYMENTSTATUS,\r\n} from 'views/globals';\r\n\r\nimport {\r\n\tisMobile, getWindowDimensions, displayType, decrypt, encrypt,\r\n\tdisablePastDt, disableFutureDt,\r\n\tmergedName, getCodeFromMergedName, getNameFromMergedName,\r\n\tgetAreafromBid,\r\n\tshowError, showSuccess, showInfo,\r\n} from 'views/functions';\r\n\r\nvar pageHeader = \"\";\r\n\r\nexport default function BonusAddEdit(props) {\r\n\t//const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\r\n\tconst [role, setRole] = useState(ROLE_FACULTY);\r\n\r\n\tconst [userArray, setUserArray] = useState([]);\r\n\tconst [userMasterArray, setUserMasterArray] = useState([]);\r\n\tconst [batchArray, setBatchArray] = useState([]);\r\n\tconst [userName, setUserName] = useState(\"\");\r\n\tconst [bonusDate, setBonusDate] = useState(new Date());\r\n\tconst [bonusAmount, setBonusAmount] = useState(300);\r\n\tconst [refBatch, setRefBatch] = useState(\"\");\r\n\tconst [paymentMode, setPaymentMode] = useState(PAYMENTMODE[0]);\r\n\tconst [remarks, setRemarks] = useState(\"\");\r\n\r\n\r\n\t\r\n\tconst [drawer, setDrawer] = useState(\"\");\r\n\tconst [drawerDetail, setDrawerDetail] = useState(\"\");\r\n\tconst [registerStatus, setRegisterStatus] = useState(0);\r\n\t\r\n\tconst [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\tconst [dispType, setDispType] = useState(\"lg\");\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log(props);\r\n\t\tpageHeader = (props.mode === \"ADD\")\r\n\t\t\t?  (props.isBonus) ? \"Add new bonus\" : `Add new payment to ${props.bonusRec.name}`\r\n\t\t\t:  (props.isBonus) ? `Edit bonus of ${props.bonusRec.name}` :  `Edit payment to ${props.bonusRec.name}`;\r\n\t\t\t\r\n\t\tfunction handleResize() {\r\n\t\t\tlet myDim = getWindowDimensions();\r\n      setWindowDimensions(myDim);\r\n\t\t\t//let myRows = 0;\r\n\t\t\tlet defHeight = 100;\r\n      //console.log(displayType(myDim.width)) ;\r\n      setDispType(displayType(myDim.width));\r\n     \r\n\t\t\t//switch (displayType(myDim.width)) {\r\n\t\t\t//\tcase 'xs': myRows = 10; break;\r\n\t\t\t//\tcase 'sm': myRows = 24; break;\r\n\t\t\t//\tcase 'md': myRows = 36; break;\r\n\t\t\t//\tcase 'lg': myRows = 48; break;\r\n\t\t\t//}\r\n\t\t\t//console.log(myRows);\r\n\t\t\t//setROWSPERPAGE(myRows);\r\n\t\t}\r\n\r\n\t\tasync function getAllUsers() {\r\n\t\t\ttry {\r\n\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/user/acabrieflist`;\r\n\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\tvar tmp = response.data;\r\n\t\t\t\tsetUserMasterArray(tmp);\r\n\t\t\t\tvar tmp1 = tmp.filter(x => x.role === role)\r\n\t\t\t\tsetUserArray(tmp1);\r\n\t\t\t\tsetUserName((tmp1.length > 0) ? tmp1[0].displayName : \"\");\r\n\t\t\t} \r\n\t\t\tcatch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tshowError(\"Error Fetching Users\");\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tasync function getAllBatch() {\r\n\t\t\ttry {\r\n\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/batch/listnamesonly/withoutbonus`;\r\n\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\t//setBatchArray(response.data);\r\n\t\t\t\treturn response.data;\r\n\t\t\t} \r\n\t\t\tcatch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tshowError(\"Error Fetching Bonus\");\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tasync function updateBatchArray() {\r\n\t\t\tvar allBatches = await getAllBatch();\r\n\t\t\t//console.log(allBatches);\r\n\t\t\tif (props.mode === \"ADD\") {\r\n\t\t\t\tsetRefBatch(allBatches[0].bid);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tallBatches.push({bid: props.bonusRec.bid});\r\n\t\t\t\tallBatches = lodashSortBy(allBatches, 'bid');\r\n\t\t\t\tsetRefBatch(props.bonusRec.bid);\r\n\t\t\t}\r\n\t\t\tsetBatchArray(allBatches);\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t// get all users and set user name\r\n\t\tif ((props.isBonus) && (props.mode === \"ADD\")) {\r\n\t\t\tgetAllUsers();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tvar rec = {uid: props.bonusRec.uid, displayName: props.bonusRec.name};\r\n\t\t\tsetUserArray([rec]);\r\n\t\t\tsetUserMasterArray([rec]);\r\n\t\t\tsetUserName(rec.displayName);\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif (props.isBonus) updateBatchArray();\r\n\t\t\t\r\n\t\tif (props.mode === \"EDIT\") {\r\n\t\t\tvar tmp = new Date(props.bonusRec.date);\r\n\t\t\tconsole.log(props.bonusRec.date, tmp);\r\n\t\t\tsetBonusDate(tmp);\r\n\t\t\t\r\n\t\t\t//setBatchArray([{bid: props.bonusRec.bid}]);\r\n\t\t\tsetPaymentMode(props.bonusRec.mode);\r\n\t\t\tsetRemarks(props.bonusRec.remarks);\r\n\t\t\tsetBonusAmount((props.bonusRec.isBonus) ? props.bonusRec.bonusAmount : props.bonusRec.bonusPayment);\r\n\t\t}\r\n\r\n\t\thandleResize();\r\n\t\twindow.addEventListener('resize', handleResize);\r\n\t}, [])\r\n\r\n\r\n\tasync function handleAddEditBonusSubmit() {\r\n\t\r\n\tvar bonusData = {};\r\n\tvar tmp = userMasterArray.find(x => x.displayName === userName);\r\n\tbonusData[\"uid\"] = tmp.uid;\r\n\tbonusData[\"name\"] = tmp.displayName;\r\n\tbonusData[\"date\"] = bonusDate;\r\n\tbonusData[\"bid\"] = refBatch;\r\n\tbonusData[\"amount\"] = bonusAmount;\r\n\tbonusData[\"mode\"] = paymentMode;\r\n\tbonusData[\"remarks\"] = remarks;\r\n\r\n\tvar bonusUrl = '';\r\n\tvar returMessage = '';\t\r\n\tif (props.mode === \"ADD\") {\t\r\n\t\tbonusData[\"_id\"] = \"\";\r\n\t\tbonusUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/bonus/add/${(props.isBonus) ? \"bonus\" : \"payment\"}/`;\r\n\t\treturMessage = (props.isBonus)\r\n\t\t\t? `Successfully added bonus to  ${tmp.displayName}.`\r\n\t\t\t: `Successfully added payment ${tmp.displayName}.`;\r\n\t}\r\n\telse {\r\n\t\tbonusData[\"_id\"] = props.bonusRec._id;\r\n\t\tbonusUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/bonus/update/`;\r\n\t\treturMessage = (props.isBonus)\r\n\t\t\t? `Successfully updated bonus to ${tmp.displayName}.`\r\n\t\t\t: `Successfully updated payment to ${tmp.displayName}.`;\r\n\t}\r\n\t\t\r\n\tvar myJsonData = JSON.stringify(bonusData);\r\n\tbonusUrl += encodeURI(myJsonData);\r\n\t\r\n\ttry {\r\n\t\tvar response = await axios.get(bonusUrl);\r\n\t\tprops.onReturn.call(this, {status: STATUS_INFO.SUCCESS, bonusRec: response.data, msg: returMessage} );\r\n\t\treturn;\r\n\t}\r\n\tcatch (e) {\r\n\t\tconsole.log(e);\r\n\t\tprops.onReturn.call(this, {status: STATUS_INFO.ERROR, msg: \"Error in add/update bonus/payment\"});\r\n\t\treturn;\r\n\t}\r\n\t\r\n}\r\n\r\n\tfunction handleBonusDate(d) {\r\n\t\tsetBonusDate(d.toDate());\r\n\t}\r\n\t\r\n\tfunction handleChangeUserRole(newRole) {\r\n\t\tvar tmp = userMasterArray.filter(x => x.role === newRole);\r\n\t\tif (tmp.length > 0) {\r\n\t\t\tsetUserArray(tmp);\r\n\t\t\tsetUserName(tmp[0].displayName);\r\n\t\t\tsetRole(newRole);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tshowError(\"No user of the selected role\");\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn (\r\n\t<div align=\"center\">\r\n\t<Container component=\"main\" maxWidth=\"xs\">\t\r\n\t<DisplayPageHeader headerName={ pageHeader} groupName=\"\" tournament=\"\" />\r\n\t<br />\r\n\t<Box margin={1} className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} paddingLeft={2} paddingRight={2} >\r\n\t<ValidatorForm margin={2} align=\"center\" className={gClasses.form} onSubmit={handleAddEditBonusSubmit}  >\r\n\t\t{((props.isBonus) && (props.mode === \"ADD\")) &&\r\n\t\t\t<VsRadioGroup value={role} radioList={ROLE_MANAGERFACULTYSTUDENT} onChange={(event) => { handleChangeUserRole(event.target.value) } } />\r\n\t\t}\r\n\t\t<Grid key=\"INFOBATCH\" className={gClasses.noPadding} container alignItems=\"flex-start\" >\r\n\t\t\t<Grid style={{margin: \"5px\"}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t<Grid item xs={5} sm={5} md={5} lg={5} >\r\n\t\t\t\t<Typography align=\"left\" className={gClasses.info18Blue} >Name</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={7} sm={7} md={7} lg={7} >\r\n\t\t\t\t<VsSelect align=\"left\" size=\"small\"  field=\"displayName\" options={userArray} value={userName} onChange={(event) => { setUserName(event.target.value)}} />\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: \"5px\"}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t<Grid item xs={5} sm={5} md={5} lg={5} >\r\n\t\t\t\t<Typography align=\"left\" className={gClasses.info18Blue} >Date</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={7} sm={7} md={7} lg={7} >\r\n\t\t\t\t<div align=\"left\">\r\n\t\t\t\t<Datetime \r\n\t\t\t\t\tclassName={gClasses.dateTimeBlock}\r\n\t\t\t\t\tinputProps={{className: gClasses.dateTimeNormal}}\r\n\t\t\t\t\ttimeFormat={false} \r\n\t\t\t\t\tvalue={bonusDate}\r\n\t\t\t\t\tinitialValue={bonusDate}\r\n\t\t\t\t\tdateFormat=\"DD/MM/yyyy\"\r\n\t\t\t\t\tisValidDate={disableFutureDt}\r\n\t\t\t\t\tonClose={handleBonusDate}\r\n\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: \"5px\"}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t<Grid item xs={5} sm={5} md={5} lg={5} >\r\n\t\t\t\t<Typography align=\"left\" className={gClasses.info18Blue} >Amount</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={7} sm={7} md={7} lg={7} >\r\n\t\t\t\t<div align=\"left\">\r\n\t\t\t\t<TextValidator align=\"left\" variant=\"outlined\" required name=\"amount\" type=\"number\"\r\n\t\t\t\t\tvalue={bonusAmount} onChange={(event) => setBonusAmount(event.target.value)}\r\n\t\t\t\t\tvalidators={['required', 'minNumber:0', 'maxNumber:100000', 'isNumeric']}\r\n\t\t\t\t\terrorMessages={['Bonus amount to be provided', 'Bonus amount cannot be less than 0', 'Bonus cannot be more than 100000',NOFRACTION ]}\r\n\t\t\t\t/>\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: \"5px\"}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t{(props.isBonus) &&\r\n\t\t\t<Grid item xs={5} sm={5} md={5} lg={5} >\r\n\t\t\t\t<Typography align=\"left\" className={gClasses.info18Blue} >Ref. Batch</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t}\r\n\t\t\t{(props.isBonus) &&\r\n\t\t\t<Grid item xs={7} sm={7} md={7} lg={7} >\r\n\t\t\t\t<VsSelect align=\"left\" size=\"small\"  field=\"bid\" options={batchArray} value={refBatch} onChange={(event) => { setRefBatch(event.target.value)}} />\r\n\t\t\t</Grid>\r\n\t\t\t}\r\n\t\t\t{(props.isBonus) &&\r\n\t\t\t<Grid style={{margin: \"5px\"}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t}\r\n\t\t\t{(!props.isBonus) &&\r\n\t\t\t<Grid item xs={5} sm={5} md={5} lg={5} >\r\n\t\t\t\t<Typography align=\"left\" className={gClasses.info18Blue} >Payment Mode</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t}\r\n\t\t\t{(!props.isBonus) &&\r\n\t\t\t<Grid item xs={7} sm={7} md={7} lg={7} >\r\n\t\t\t\t<VsSelect size=\"small\" align=\"left\" options={PAYMENTMODE} value={paymentMode} onChange={(event) => { setPaymentMode(event.target.value)}} />\r\n\t\t\t</Grid>\r\n\t\t\t}\r\n\t\t\t{(!props.isBonus) &&\r\n\t\t\t<Grid style={{margin: \"5px\"}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t}\r\n\t\t\t{(!props.isBonus) &&\r\n\t\t\t<Grid item xs={5} sm={5} md={5} lg={5} >\r\n\t\t\t\t<Typography align=\"left\" className={gClasses.info18Blue} >Remarks</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t}\r\n\t\t\t{(!props.isBonus) &&\r\n\t\t\t<Grid item xs={7} sm={7} md={7} lg={7} >\r\n\t\t\t\t<TextareaAutosize maxRows={MAXDISPLAYTEXTROWS} className={gClasses.textAreaFixed}  value={remarks} onChange={() => {setRemarks(event.target.value)}} />\r\n\t\t\t</Grid>\r\n\t\t\t}\r\n\t\t\t{(!props.isBonus) &&\r\n\t\t\t<Grid style={{margin: \"5px\"}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t\t<VsButton type=\"submit\" name={\"Submit\"} />\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: \"5px\"}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t</Grid>\r\n\t\t</ValidatorForm>\r\n\t\t<ValidComp />   \r\n\t</Box>\r\n\t</Container>\r\n\t<ToastContainer />\r\n\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n// import { Switch, Route, Link } from 'react-router-dom';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Container from '@material-ui/core/Container';\r\n\r\nimport Drawer from '@material-ui/core/Drawer';\r\n//import Tooltip from \"react-tooltip\";\r\n//import ReactTooltip from 'react-tooltip'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport BlueRadio from 'components/Radio/BlueRadio';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport { JumpButton, DisplayPageHeader, ValidComp, BlankArea} from 'CustomComponents/CustomComponents.js';\r\n\r\nimport lodashSortBy from \"lodash/sortBy\";\r\n\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\n\r\nimport FacultySchedule\t from \"views/Faculty/FacultySchedule\"\r\nimport SessionAddEdit\t from \"views/Session/SessionAddEdit\"\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport IndeterminateCheckBoxIcon from '@material-ui/icons/IndeterminateCheckBox';\r\nimport SchoolIcon from '@material-ui/icons/School';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport TableChartSharpIcon from '@material-ui/icons/TableChartSharp';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\n//import { NoGroup, JumpButton, DisplayPageHeader, MessageToUser } from 'CustomComponents/CustomComponents.js';\r\nimport { \r\n\tisMobile, getWindowDimensions, displayType, \r\n\tdecrypt, encrypt ,\r\n\tvsDialog,\r\n\tdateString,\r\n\tshowError, showSuccess, showInfo,\r\n} from 'views/functions';\r\n\r\nimport globalStyles from \"assets/globalStyles\";\r\n\r\nimport VsButton from \"CustomComponents/VsButton\"; \r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\nimport VsSelect from \"CustomComponents/VsSelect\";\r\nimport VsRadio from \"CustomComponents/VsRadio\";\r\n\r\nimport BonusAddEdit from \"views/Bonus/BonusAddEdit\";\r\n\r\nimport {\r\n\tROLE_FACULTY, ROLE_STUDENT,\r\n\tALLSELECTIONS, BLANKCHAR, STATUS_INFO,\r\n\tDURATIONSTR, BATCHTIMESTR,\r\n} from 'views/globals';\r\n\r\n\r\nimport {\r\n\tmergedName, getCodeFromMergedName, getNameFromMergedName,\r\n\tisAdmin, isAdmMan, isAdmManFac, isFaculty,\r\n} from 'views/functions';\r\n\r\n\r\n\r\nexport default function Bonus() {\r\n\t//const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\t\r\n\t\r\n\tconst [mode, setMode] = useState(\"\");\r\n\tconst [bonusArray, setBonusArray] = useState([]);\r\n\tconst [userBonusArray, setUserBonusArray] = useState([]);\r\n\r\n\tconst [currentMode, setCurrentMode] = useState(ALLSELECTIONS[1]);\r\n\tconst [currentText, setCurrentText] = useState(\"\");\r\n\t\r\n\r\n\t// for faculty schedule call\r\n\tconst [bonusRec, setBonusRec] = useState({sid: [], timings: []});\r\n\tconst [batchTime, setBatchTime] = useState(\"\");\r\n\t\r\n\tconst [showAll, setShowAll] = useState(false);\r\n\t\r\n\tconst [drawer, setDrawer] = useState(\"\");\r\n\tconst [drawerInfo, setDrawerInfo] = useState(\"\");\r\n\tconst [drawerDetail, setDrawerDetail] = useState(\"\");\r\n\tconst [registerStatus, setRegisterStatus] = useState(0);\r\n\t\r\n\tconst [isBonus, setIsBonus] = useState(true);\r\n\t\r\n\tconst [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\tconst [dispType, setDispType] = useState(\"lg\");\r\n\r\n\tuseEffect(() => {\r\n\t\tfunction handleResize() {\r\n\t\t\tlet myDim = getWindowDimensions();\r\n      setWindowDimensions(myDim);\r\n\t\t\t//let myRows = 0;\r\n\t\t\tlet defHeight = 100;\r\n      //console.log(displayType(myDim.width)) ;\r\n      setDispType(displayType(myDim.width));\r\n     \r\n\t\t\t//switch (displayType(myDim.width)) {\r\n\t\t\t//\tcase 'xs': myRows = 10; break;\r\n\t\t\t//\tcase 'sm': myRows = 24; break;\r\n\t\t\t//\tcase 'md': myRows = 36; break;\r\n\t\t\t//\tcase 'lg': myRows = 48; break;\r\n\t\t\t//}\r\n\t\t\t//console.log(myRows);\r\n\t\t\t//setROWSPERPAGE(myRows);\r\n\t\t}\r\n\t\t//console.log(firsTime);\r\n\t\tasync function getBonusSummary() {\r\n\t\t\ttry {\r\n\t\t\t\tif (isAdmin()) {\r\n\t\t\t\t\t//console.log(\"Admin or Main\");\r\n\t\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/bonus/summary/all`;\r\n\t\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\t\tsetBonusArray(response.data);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tshowError(\"Not correct role\");\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tgetBonusSummary();\r\n\t\thandleResize();\r\n\t\twindow.addEventListener('resize', handleResize);\r\n\t}, [])\r\n\r\n\r\n\tfunction ShowResisterStatus() {\r\n        // console.log(`Status is ${registerStatus}`);\r\n        let myMsg;\r\n        let errmsg = true;\r\n        switch (registerStatus) {\r\n          case 200:\r\n            myMsg = \"Successfully updated Captain / ViceCaptain details\";\r\n            errmsg = false;\r\n            break;\r\n          case 0:\r\n            myMsg = \"\";\r\n\t\t\t\t\t\terrmsg = false;\r\n            break;\r\n          case -1:\r\n            myMsg = \"Area Code cannot be blank\";\r\n            break;\r\n          case -2:\r\n            myMsg = `Area Code cannot be more than ${MAXAREACODELENGTH} characters`;\r\n            break;\r\n          case -3:\r\n            myMsg = \"Area code already in use\";\r\n            break;\r\n          case -4:\r\n            myMsg = \"Area description cannot be blank\";\r\n            break;\r\n          default:\r\n            myMsg = \"Error updating Captain / ViceCaptain details\";\r\n            break;\r\n        }\r\n\t\t\t\t//console.log(errmsg, registerStatus);\r\n\t\t\t\tif (errmsg)\r\n\t\t\t\t\tshowError(myMsg);\r\n\t\t\t\t\r\n\r\n        let myClass = (errmsg) ? gClasses.error : gClasses.nonerror;\r\n\t\t\t\treturn null;\r\n        return(\r\n          <div>\r\n            <Typography align=\"center\" className={myClass}>{myMsg}</Typography>\r\n          </div>\r\n        );\r\n      }\r\n\r\n\tfunction handleAddBonus() {\r\n\t\tsetBonusRec({uid: 0, name: \"\"});\r\n\t\tsetIsBonus(true);\r\n\t\tsetDrawer(\"ADD\");\r\n\t\tconsole.log(\"Add bonus\");\r\n\t}\r\n\t\r\n\tfunction handleAddPayment(rec) {\r\n\t\tsetBonusRec({uid: rec._id.uid, name: rec._id.name});\r\n\t\tsetIsBonus(false);\r\n\t\tsetDrawer(\"ADD\");\r\n\t}\r\n\t\r\n\t\r\n\tfunction handleEditBonusPayment(rec) {\r\n\t\tsetIsBonus(rec.isBonus);\r\n\t\tsetBonusRec(rec);\r\n\t\tsetDrawer(\"EDIT\");\r\n\t}\r\n\t\r\n\tfunction junk_handleBack(sts) {\r\n\t\tif ((sts.msg !== \"\") && (sts.status === STATUS_INFO.ERROR)) showError(sts.msg); \r\n\t\telse if ((sts.msg !== \"\") && (sts.status === STATUS_INFO.SUCCESS)) showSuccess(sts.msg); \r\n\t\t\r\n\t\tif (sts.status !== STATUS_INFO.ERROR) {\r\n\t\t\tif (drawer === \"ADDSESSION\") {\r\n\t\t\t\tvar cloneBonusArray = [].concat(bonusArray);\r\n\t\t\t\tvar myRec = cloneBonusArray.find(x => x.bid === bonusRec.bid);\r\n\t\t\t\tmyRec.sessionCount += 1;\r\n\t\t\t\tsetBonusArray(cloneBonusArray);\r\n\t\t\t}\t\r\n\t\t}\r\n\t\tsetDrawer(\"\");\r\n\t}\r\n\t\r\n\tfunction handleBackBonus(sts) {\r\n\t\tif (sts.msg !== \"\") {\r\n\t\t\tif (sts.status === STATUS_INFO.SUCCESS) showSuccess(sts.msg);  else  showError(sts.msg); \r\n\t\t}\r\n\t\tif (sts.status !== STATUS_INFO.ERROR) {\r\n\t\t\tconsole.log(sts.bonusRec);\r\n\t\t\tvar prevBonusAmount = 0;\r\n\t\t\tvar prevBonusPayment = 0;\r\n\t\t\tif (drawer === \"EDIT\") {\r\n\t\t\t\tprevBonusAmount = bonusRec.bonusAmount;\r\n\t\t\t\tprevBonusPayment = bonusRec.bonusPayment;\r\n\t\t\t\tvar tmp = userBonusArray.filter(x => x._id !== bonusRec._id);\r\n\t\t\t\tvar finalArray = tmp.concat([sts.bonusRec]);\r\n\t\t\t\tsetUserBonusArray(lodashSortBy(finalArray, 'date').reverse());\r\n\t\t\t}\r\n\t\t\tvar clonedArray = [].concat(bonusArray);\r\n\t\t\tvar tmpRec = clonedArray.find( x => x._id.uid === sts.bonusRec.uid);\r\n\t\t\ttmpRec.bonusAmount  += sts.bonusRec.bonusAmount - prevBonusAmount;\r\n\t\t\ttmpRec.bonusPayment += sts.bonusRec.bonusPayment - prevBonusPayment;\r\n\t\t\tsetBonusArray(clonedArray);\r\n\t\t}\r\n\t\tsetDrawer(\"\");\r\n\t}\r\n\t\r\n\tasync function handleInfo(rec) {\r\n\t\t// first get all records of User (bonus and payments)\r\n\t\ttry {\r\n\t\t\t//console.log(\"Admin or Main\");\r\n\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/bonus/list/user/${rec._id.uid}`;\r\n\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\tsetUserBonusArray(response.data);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tshowError(\"Error fetching bonus details of user\");\r\n\t\t}\r\n\t\tsetDrawerInfo(\"detail\");\r\n\t}\r\n\r\n\tfunction handleDeleteBonusPayment(t) {\r\n\t\tsetDrawerInfo(\"\");\r\n\t\tvar hdr = (t.isBonus) ? \"Delete Bonus\" : \"Delete payment\";\r\n\t\tvar msg = `Are you sure you want delete ${(t.isBonus) ? \"bonus\" : \"payment\"} to ${t.name}?`\r\n\t\tvsDialog(hdr, msg,\r\n\t\t\t{label: \"Yes\", onClick: () => { setDrawerInfo(\"detail\"); handleDeleteBonusPaymentConfirm(t);  } } ,\r\n\t\t\t{label: \"No\", onClick: () => setDrawerInfo(\"detail\") } \r\n\t\t);\r\n\t}\r\n\t\r\n\tasync function handleDeleteBonusPaymentConfirm(rec) {\r\n\t\ttry {\r\n\t\t\tawait axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/bonus/delete/${rec._id}`);\r\n\t\t\tsetUserBonusArray(userBonusArray.filter(x => x._id !== rec._id));\r\n\t\t\tvar clonedArray = [].concat(bonusArray);\r\n\t\t\tvar tmpRec = clonedArray.find(x => x._id.uid === rec.uid);\r\n\t\t\ttmpRec.bonusPayment -= rec.bonusPayment;\r\n\t\t\ttmpRec.bonusAmount -= rec.bonusAmount;\r\n\t\t\tsetBonusArray(clonedArray);\r\n\t\t\tshowSuccess(`Successfully delete bonus/payment of ${rec.name}`);\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\t// error \r\n\t\t\tconsole.log(e);\r\n\t\t\tshowError(\"Error disabling batch \"+ rec.bid);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tfunction DisplayAllBonus() {\r\n\t\t//console.log(dispType);\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t<Table  align=\"center\">\r\n\t\t\t<TableHead p={0}>\r\n\t\t\t<TableRow key=\"header\" align=\"center\">\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Name</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Bonus</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Payment</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Due</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\"></TableCell>\r\n\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t\t<TableBody p={0}>\r\n\t\t\t\t{bonusArray.map(x => {\r\n\t\t\t\t\t\t//var myClasses = gClasses.td;\r\n\t\t\t\t\t\tvar myClasses = (x.bonusAmount >= x.bonusPayment) ? gClasses.td : gClasses.disabledtd;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t<TableRow key={x._id.name}>\r\n\t\t\t\t\t\t<TableCell align=\"center\" className={myClasses} p={0} >{x._id.name}</TableCell>\r\n\t\t\t\t\t\t<TableCell align=\"center\" className={myClasses} p={0} >{x.bonusAmount}</TableCell>\r\n\t\t\t\t\t\t<TableCell align=\"center\" className={myClasses} p={0} >{x.bonusPayment}</TableCell>\r\n\t\t\t\t\t\t<TableCell align=\"center\" className={myClasses} p={0} >{x.bonusAmount - x.bonusPayment}</TableCell>\r\n\t\t\t\t\t\t<TableCell className={myClasses} p={0} >\r\n\t\t\t\t\t\t\t<IconButton color=\"primary\" size=\"small\" onClick={() => {handleInfo(x)}} ><InfoIcon /></IconButton>\r\n\t\t\t\t\t\t\t<IconButton color=\"primary\" size=\"small\" onClick={() => {handleAddPayment(x)}} ><TableChartSharpIcon /></IconButton>\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t</TableRow>\r\n\t\t\t\t)})}\r\n\t\t\t</TableBody>\r\n\t\t\t</Table>\r\n\t\t</div>\r\n\t\t);\r\n\r\n\t}\r\n\t\r\n\tfunction filterBatch(masterArray, textFilter, modeFilter) {\r\n\t\tvar filteredArray = [].concat(masterArray);\r\n\t\t\r\n\t\t// First filter on mode\r\n\t\tswitch (modeFilter) {\r\n\t\t\tcase \"Disabled\":  filteredArray = filteredArray.filter(x => !x.enabled );  break;\r\n\t\t\tcase \"Enabled\":   filteredArray = filteredArray.filter(x => x.enabled );  break;\r\n\t\t\t//default:          setBonusArray(masterArray);  break;\r\n\t\t}\r\n\t\t\r\n\t\tvar finalFilterArray = [];\r\n\t\t// Now filter on text\r\n\t\tif (textFilter !== \"\") {\r\n\t\t\ttextFilter = textFilter.toUpperCase();\r\n\t\t\t// start filter process on all records one by one\r\n\t\t\tfor(var i=0; i<filteredArray.length; ++i) {\r\n\t\t\t\tif (\r\n\t\t\t\t\t(filteredArray[i].bid.includes(textFilter)) ||\r\n\t\t\t\t\t(filteredArray[i].fid.includes(textFilter)) ||\r\n\t\t\t\t\t(filteredArray[i].facultyName.toUpperCase().includes(textFilter)) ||\r\n\t\t\t\t\t(filteredArray[i].sid.includes(textFilter))\r\n\t\t\t\t) {\r\n\t\t\t\t\tfinalFilterArray.push(filteredArray[i]);\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tfor(var j=0; j<filteredArray[i].studentNameList.length; ++j) {\r\n\t\t\t\t\t\tif (filteredArray[i].studentNameList[j].toUpperCase().includes(textFilter)) {\r\n\t\t\t\t\t\t\tfinalFilterArray.push(filteredArray[i]);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse  {\r\n\t\t\tfinalFilterArray = filteredArray\t\t\t// no filter required\r\n\t\t}\r\n\t\tsetBonusArray(finalFilterArray);\r\n\t}\r\n\t\r\n\r\n\t// style={{marginTop: \"5px\" }}  \r\n\tfunction DisplayOptions() {\r\n\treturn (\r\n\t<Grid key=\"Options\" className={gClasses.noPadding} container alignItems=\"center\" >\r\n\t\t<Grid  item xs={3} sm={2} md={2} lg={1} >\r\n\t\t\t<VsSelect size=\"small\" align=\"center\" label=\"Selection\" options={ALLSELECTIONS} value={currentMode} onChange={(event) => { setModeFilter(event.target.value)}} />\r\n\t\t</Grid>\r\n\t\t<Grid align=\"left\"  item xs={6} sm={7} md={8} lg={10} >\r\n\t\t\t<span></span>\r\n\t\t</Grid>\r\n\t\t<Grid  item xs={3} sm={3} md={2} lg={1} >\r\n\t\t\t<VsButton disabled={!isAdmMan()} name=\"New Batch\" align=\"right\" onClick={handleAddBonus} />\r\n\t\t</Grid>\r\n\t</Grid>\r\n\t)}\r\n\t\r\n\tfunction setTextFilter(textValue) {\r\n\t\ttextValue = textValue.toLowerCase();\r\n\t\tsetCurrentText(textValue);\r\n\t\tfilterBatch(masterBatchArray, textValue, currentMode);\r\n\t}\r\n\r\n\tfunction setModeFilter(modeValue) {\r\n\t\tsetCurrentMode(modeValue);\r\n\t\tfilterBatch(masterBatchArray, currentText, modeValue);\r\n\t}\r\n\t\r\n\tfunction DisplayFilter() {\r\n\treturn (\t\r\n\t\t<div>\r\n\t\t<Box margin={1} className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} paddingTop={1} >\r\n\t\t<Grid key=\"Filter\" className={gClasses.noPadding} container  >\r\n\t\t\t<Grid  item xs={3} sm={2} md={2} lg={1} align=\"left\"  >\r\n\t\t\t\t<VsSelect size=\"small\" align=\"left\" options={ALLSELECTIONS} value={currentMode} onChange={(event) => { setModeFilter(event.target.value)}} />\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={1} sm={1} md={1} lg={1} align=\"right\"   >\r\n\t\t\t\t<TextField fullWidth  value={currentText} onChange={ (event) => { setTextFilter(event.target.value) } } />\t\r\n\t\t\t</Grid>\r\n\t\t\t<Grid  item xs={5} sm={6} md={7} lg={9} >\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={1} sm={1} md={1} lg={1} align=\"right\"   >\r\n\t\t\t\t<IconButton align=\"right\"  color=\"primary\" size=\"small\" onClick={(event) => {setTextFilter(event.target.value) } } ><SearchIcon /></IconButton>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid  item xs={3} sm={3} md={2} lg={1} >\r\n\t\t\t\t<VsButton disabled={!isAdmMan()} name=\"New Batch\" align=\"right\" onClick={handleAddBonus} />\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t\t</Box>\r\n\t\t</div>\r\n\t)}\r\n\t\r\n\r\n\treturn (\r\n\t<div>\r\n\t<DisplayPageHeader headerName=\"Bonus\" groupName=\"\" tournament=\"\" />\r\n\t<Box margin={1} className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} paddingTop={1} >\r\n\t\t<Grid key=\"Filter\" className={gClasses.noPadding} container  >\r\n\t\t\t<Grid  item xs={3} sm={2} md={2} lg={1} align=\"left\"  >\r\n\t\t\t\t<VsSelect size=\"small\" align=\"left\" options={ALLSELECTIONS} value={currentMode} onChange={(event) => { setModeFilter(event.target.value)}} />\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={1} sm={1} md={4} lg={3}  >\r\n\t\t\t\t<TextField fullWidth label=\"Filter Text\" value={currentText} onChange={ (event) => { setTextFilter(event.target.value) } } />\t\r\n\t\t\t</Grid>\r\n\t\t\t<Grid  item xs={5} sm={6} md={4} lg={7} >\r\n\t\t\t</Grid>\r\n\t\t\t<Grid  item xs={3} sm={3} md={2} lg={1} >\r\n\t\t\t\t<VsButton disabled={!isAdmin()} name=\"New Bonus\" align=\"right\" onClick={handleAddBonus} />\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t</Box>\r\n\t<DisplayAllBonus/>\r\n\t<Drawer anchor=\"top\" variant=\"temporary\" open={drawer !== \"\"}>\r\n\t\t<VsCancel align=\"right\" onClick={() => { setDrawer(\"\")}} />\r\n\t\t<BonusAddEdit mode={drawer} isBonus={isBonus}  bonusRec={bonusRec} onReturn={handleBackBonus} />\r\n\t</Drawer>\r\n\t<Drawer anchor=\"bottom\" variant=\"temporary\" open={drawerInfo !== \"\"} >\r\n\t\t<Box margin={1} className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} paddingLeft={2} >\t\t\r\n\t\t<VsCancel align=\"right\" onClick={() => { setDrawerInfo(\"\")}} />\t\r\n\t\t<DisplayPageHeader headerName={`Bonus & Payment details`} groupName=\"\" tournament=\"\" />\r\n\t\t\t<Table  align=\"center\">\r\n\t\t\t<TableHead p={0}>\r\n\t\t\t<TableRow key=\"header\" align=\"center\">\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Date</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Ref.Batch</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Bonus</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Payment</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Remarks</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\"></TableCell>\r\n\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t\t<TableBody p={0}>\r\n\t\t\t\t{userBonusArray.map(x => {\r\n\t\t\t\t\t\t//console.log(x);\r\n\t\t\t\t\t\t//var myClasses = (x.bonusAmount > 0) ? gClasses.td : gClasses.disabledtd;\r\n\t\t\t\t\t\tvar myClasses = gClasses.td;\t\t\t\t\t\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t<TableRow key={x._id}>\r\n\t\t\t\t\t\t<TableCell align=\"center\" className={myClasses} p={0} >{dateString(x.date)}</TableCell>\r\n\t\t\t\t\t\t<TableCell align=\"center\" className={myClasses} p={0} >{x.bid}</TableCell>\r\n\t\t\t\t\t\t<TableCell align=\"center\" className={myClasses} p={0} >{(x.bonusAmount > 0) ? x.bonusAmount : \"\" }</TableCell>\r\n\t\t\t\t\t\t<TableCell align=\"center\" className={myClasses} p={0} >{(x.bonusPayment > 0) ? x.bonusPayment : \"\"}</TableCell>\r\n\t\t\t\t\t\t<TableCell className={myClasses} p={0} >{x.remarks}</TableCell>\r\n\t\t\t\t\t\t<TableCell className={myClasses} p={0} >\r\n\t\t\t\t\t\t\t<IconButton color=\"primary\" disabled={!x.enabled} size=\"small\" onClick={() => {handleEditBonusPayment(x)}} ><EditIcon /></IconButton>\r\n\t\t\t\t\t\t\t<IconButton color=\"secondary\" size=\"small\" onClick={() => {handleDeleteBonusPayment(x)}} ><CancelIcon /></IconButton>\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t</TableRow>\r\n\t\t\t\t)})}\r\n\t\t\t</TableBody>\r\n\t\t\t</Table>\r\n\t\t</Box>\r\n\t</Drawer>\r\n\t<ToastContainer />\r\n\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n// import { Switch, Route, Link } from 'react-router-dom';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport Datetime from \"react-datetime\";\r\nimport \"react-datetime/css/react-datetime.css\";\r\n\r\nimport Drawer from '@material-ui/core/Drawer';\r\n//import Tooltip from \"react-tooltip\";\r\n//import ReactTooltip from 'react-tooltip'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\t\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport BlueRadio from 'components/Radio/BlueRadio';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport { JumpButton, DisplayPageHeader, ValidComp, BlankArea} from 'CustomComponents/CustomComponents.js';\r\n\r\nimport lodashSortBy from \"lodash/sortBy\";\r\nimport lodashOrderBy from \"lodash/orderBy\";\r\nimport lodashSumBy from \"lodash/sumBy\";\r\n\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\n\r\nimport FacultySchedule\t from \"views/Faculty/FacultySchedule\"\r\nimport PaymentAddEdit\t from \"views/Payment/PaymentAddEdit\"\r\n\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport IndeterminateCheckBoxIcon from '@material-ui/icons/IndeterminateCheckBox';\r\nimport SchoolIcon from '@material-ui/icons/School';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport TableChartSharpIcon from '@material-ui/icons/TableChartSharp';\r\nimport Money from '@material-ui/icons/Money';\r\n\r\n//import { NoGroup, JumpButton, DisplayPageHeader, MessageToUser } from 'CustomComponents/CustomComponents.js';\r\nimport { \r\n\tisMobile, getWindowDimensions, displayType, \r\n\tdecrypt, encrypt ,\r\n\tvsDialog,\r\n\tshowError, showSuccess, showInfo,\r\n\tdisablePastDt, disableFutureDt,\r\n\r\n} from 'views/functions';\r\n\r\nimport globalStyles from \"assets/globalStyles\";\r\n\r\nimport VsButton from \"CustomComponents/VsButton\"; \r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\nimport VsSelect from \"CustomComponents/VsSelect\";\r\nimport VsRadio from \"CustomComponents/VsRadio\";\r\n\r\n//import BatchAddEdit from \"./BatchAddEdit\";\r\n\r\nimport {\r\n\tROLE_FACULTY, ROLE_STUDENT,\r\n\tALLSELECTIONS, BLANKCHAR, STATUS_INFO,\r\n} from 'views/globals';\r\n\r\n\r\nimport {\r\n\tmergedName, getCodeFromMergedName, getNameFromMergedName,\r\n\tisAdmMan, isAdmManFac, isFaculty,\r\n\tdateString,\r\n} from 'views/functions';\r\n\r\n\r\nconst spacing = \"5px\"\r\n\r\n\r\nexport default function ReportIncome() {\r\n\t//const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\t\r\n\tconst [currentSelection, setCurrentSelection] = useState(ALLSELECTIONS[0]);\r\n\tconst [reportDate, setReportDate] = useState(new Date());\r\n\r\n\tconst [paymentArray, setPaymentArray] = useState([]);\r\n\r\n\tconst [drawer, setDrawer] = useState(\"\");\r\n\r\n\t\r\n\tconst [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\tconst [dispType, setDispType] = useState(\"lg\");\r\n\r\n\tuseEffect(() => {\r\n\t\tfunction handleResize() {\r\n\t\t\tlet myDim = getWindowDimensions();\r\n      setWindowDimensions(myDim);\r\n\t\t\t//let myRows = 0;\r\n\t\t\tlet defHeight = 100;\r\n      //console.log(displayType(myDim.width)) ;\r\n      setDispType(displayType(myDim.width));\r\n     \r\n\t\t\t//switch (displayType(myDim.width)) {\r\n\t\t\t//\tcase 'xs': myRows = 10; break;\r\n\t\t\t//\tcase 'sm': myRows = 24; break;\r\n\t\t\t//\tcase 'md': myRows = 36; break;\r\n\t\t\t//\tcase 'lg': myRows = 48; break;\r\n\t\t\t//}\r\n\t\t\t//console.log(myRows);\r\n\t\t\t//setROWSPERPAGE(myRows);\r\n\t\t}\r\n\t\t//console.log(firsTime);\r\n\t\t/*async function getAllPayments() {\r\n\t\t\ttry {\r\n\t\t\t\tif (isAdmMan()) {\r\n\t\t\t\t\t//console.log(\"Admin or Main\");\r\n\t\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/session/list/all`;\r\n\t\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\t\tsetPaymentArray(response.data);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tconsole.log(\"Not correct role\");\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\t*/\r\n\t\t\r\n\t\tgenerateReport();\r\n\t\thandleResize();\r\n\t\twindow.addEventListener('resize', handleResize);\r\n\t}, [])\r\n\r\n\r\n\r\n\tfunction handleReportDate(d) {\r\n\t\tsetReportDate(d.toDate());\r\n\t}\r\n\r\n\tasync function generateReport() {\r\n\t\tconsole.log(reportDate);\r\n\t\tconsole.log(reportDate.getMonth());\r\n\t\tconsole.log(reportDate.getFullYear());\r\n\t\ttry {\r\n\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/session/list/${reportDate.getMonth()}/${reportDate.getFullYear()}`;\r\n\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\tsetPaymentArray(response.data);\r\n\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tfunction DisplayAllPayment() {\r\n\t\t//console.log(dispType);\r\n\t\tvar totalAmount = lodashSumBy(paymentArray, 'amount');\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t<Table  align=\"center\">\r\n\t\t\t<TableHead p={0}>\r\n\t\t\t<TableRow key=\"header\" align=\"center\">\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Student</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Sess. Count</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Sess. Fees</TableCell>\r\n\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t\t<TableBody p={0}>\r\n\t\t\t\t{paymentArray.map(x => {\r\n\t\t\t\t\t\tvar myClasses = gClasses.td ;\r\n\t\t\t\t\t\t//console.log(x)\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t<TableRow key={x.sid} >\r\n\t\t\t\t\t\t<TableCell className={myClasses} align=\"center\" p={0}  >{mergedName( x.name, x.sid)}</TableCell>\r\n\t\t\t\t\t\t<TableCell className={myClasses} align=\"center\" p={0} >{x.count}</TableCell>\r\n\t\t\t\t\t\t<TableCell className={myClasses} align=\"center\" p={0} >{x.amount}</TableCell>\r\n\t\t\t\t\t</TableRow>\r\n\t\t\t\t)})}\r\n\t\t\t\t<TableRow key=\"Total\" >\r\n\t\t\t\t\t<TableCell className={gClasses.tdBold} align=\"right\" colSpan={2} p={0}  >{\"Total\"}</TableCell>\r\n\t\t\t\t\t<TableCell className={gClasses.tdBold} align=\"center\" p={0} >{totalAmount}</TableCell>\r\n\t\t\t\t</TableRow>\r\n\t\t\t</TableBody>\r\n\t\t\t</Table>\r\n\t\t</div>\r\n\t\t);\r\n\r\n\t}\r\n\t\r\n\t\r\n\treturn (\r\n\t<div>\r\n\t\t<br />\r\n\t\t\t<Grid key=\"REPORTINCOMEDATE\" className={gClasses.noPadding} container >\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={5} sm={5} md={2} lg={1} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Select Month</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={7} sm={7} md={3} lg={1} >\r\n\t\t\t\t<div align=\"left\">\r\n\t\t\t\t<Datetime \r\n\t\t\t\t\tclassName={gClasses.dateTimeBlock}\r\n\t\t\t\t\tinputProps={{className: gClasses.dateTimeNormal}}\r\n\t\t\t\t\ttimeFormat={false} \r\n\t\t\t\t\tinitialValue={reportDate}\r\n\t\t\t\t\tvalue={reportDate}\r\n\t\t\t\t\tdateFormat=\"MMM yyyy\"\r\n\t\t\t\t\tisValidDate={disableFutureDt}\r\n\t\t\t\t\tonClose={handleReportDate}\r\n\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={2} sm={2} md={1} lg={1} >\r\n\t\t\t\t<VsButton type=\"button\" name=\"Select\" onClick={generateReport} />\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: spacing}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t</Grid>\r\n\t\t<DisplayAllPayment/>\r\n\t\t<br />\r\n\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n// import { Switch, Route, Link } from 'react-router-dom';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport Datetime from \"react-datetime\";\r\nimport \"react-datetime/css/react-datetime.css\";\r\n\r\nimport Drawer from '@material-ui/core/Drawer';\r\n//import Tooltip from \"react-tooltip\";\r\n//import ReactTooltip from 'react-tooltip'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\t\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport BlueRadio from 'components/Radio/BlueRadio';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport { JumpButton, DisplayPageHeader, ValidComp, BlankArea} from 'CustomComponents/CustomComponents.js';\r\n\r\nimport lodashSortBy from \"lodash/sortBy\";\r\nimport lodashOrderBy from \"lodash/orderBy\";\r\nimport lodashSumBy from \"lodash/sumBy\";\r\n\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\n\r\nimport FacultySchedule\t from \"views/Faculty/FacultySchedule\"\r\nimport PaymentAddEdit\t from \"views/Payment/PaymentAddEdit\"\r\n\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport IndeterminateCheckBoxIcon from '@material-ui/icons/IndeterminateCheckBox';\r\nimport SchoolIcon from '@material-ui/icons/School';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport TableChartSharpIcon from '@material-ui/icons/TableChartSharp';\r\nimport Money from '@material-ui/icons/Money';\r\n\r\n//import { NoGroup, JumpButton, DisplayPageHeader, MessageToUser } from 'CustomComponents/CustomComponents.js';\r\nimport { \r\n\tisMobile, getWindowDimensions, displayType, \r\n\tdecrypt, encrypt ,\r\n\tvsDialog,\r\n\tshowError, showSuccess, showInfo,\r\n\tdisablePastDt, disableFutureDt,\r\n\r\n} from 'views/functions';\r\n\r\nimport globalStyles from \"assets/globalStyles\";\r\n\r\nimport VsButton from \"CustomComponents/VsButton\"; \r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\nimport VsSelect from \"CustomComponents/VsSelect\";\r\nimport VsRadio from \"CustomComponents/VsRadio\";\r\n\r\n//import BatchAddEdit from \"./BatchAddEdit\";\r\n\r\nimport {\r\n\tROLE_FACULTY, ROLE_STUDENT,\r\n\tALLSELECTIONS, BLANKCHAR, STATUS_INFO,\r\n} from 'views/globals';\r\n\r\n\r\nimport {\r\n\tmergedName, getCodeFromMergedName, getNameFromMergedName,\r\n\tisAdmMan, isAdmManFac, isFaculty,\r\n\tdateString,\r\n} from 'views/functions';\r\n\r\n\r\nconst spacing = \"5px\"\r\n\r\n\r\nexport default function ReportIncome() {\r\n\t//const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n\t\r\n\tconst [currentSelection, setCurrentSelection] = useState(ALLSELECTIONS[0]);\r\n\tconst [reportDate, setReportDate] = useState(new Date());\r\n\r\n\tconst [paymentArray, setPaymentArray] = useState([]);\r\n\r\n\tconst [drawer, setDrawer] = useState(\"\");\r\n\r\n\t\r\n\tconst [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\tconst [dispType, setDispType] = useState(\"lg\");\r\n\r\n\tuseEffect(() => {\r\n\t\tfunction handleResize() {\r\n\t\t\tlet myDim = getWindowDimensions();\r\n      setWindowDimensions(myDim);\r\n\t\t\t//let myRows = 0;\r\n\t\t\tlet defHeight = 100;\r\n      //console.log(displayType(myDim.width)) ;\r\n      setDispType(displayType(myDim.width));\r\n     \r\n\t\t\t//switch (displayType(myDim.width)) {\r\n\t\t\t//\tcase 'xs': myRows = 10; break;\r\n\t\t\t//\tcase 'sm': myRows = 24; break;\r\n\t\t\t//\tcase 'md': myRows = 36; break;\r\n\t\t\t//\tcase 'lg': myRows = 48; break;\r\n\t\t\t//}\r\n\t\t\t//console.log(myRows);\r\n\t\t\t//setROWSPERPAGE(myRows);\r\n\t\t}\r\n\t\t//console.log(firsTime);\r\n\t\t/*async function getAllPayments() {\r\n\t\t\ttry {\r\n\t\t\t\tif (isAdmMan()) {\r\n\t\t\t\t\t//console.log(\"Admin or Main\");\r\n\t\t\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/session/list/all`;\r\n\t\t\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\t\t\tsetPaymentArray(response.data);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tconsole.log(\"Not correct role\");\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\t*/\r\n\t\t\r\n\t\tgenerateReport();\r\n\t\thandleResize();\r\n\t\twindow.addEventListener('resize', handleResize);\r\n\t}, [])\r\n\r\n\r\n\r\n\tfunction handleReportDate(d) {\r\n\t\tsetReportDate(d.toDate());\r\n\t}\r\n\r\n\tasync function generateReport() {\r\n\t\tconsole.log(reportDate);\r\n\t\tconsole.log(reportDate.getMonth());\r\n\t\tconsole.log(reportDate.getFullYear());\r\n\t\ttry {\r\n\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/payment/list/${reportDate.getMonth()}/${reportDate.getFullYear()}`;\r\n\t\t\tconst response = await axios.get(myUrl);\r\n\t\t\tsetPaymentArray(response.data);\r\n\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tfunction DisplayAllPayment() {\r\n\t\t//console.log(dispType);\r\n\t\tvar totalAmount = lodashSumBy(paymentArray, 'amount');\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t<Table  align=\"center\">\r\n\t\t\t<TableHead p={0}>\r\n\t\t\t<TableRow key=\"header\" align=\"center\">\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Student</TableCell>\r\n\t\t\t\t<TableCell className={gClasses.th} p={0} align=\"center\">Payment</TableCell>\r\n\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t\t<TableBody p={0}>\r\n\t\t\t\t{paymentArray.map(x => {\r\n\t\t\t\t\t\tvar myClasses = gClasses.td ;\r\n\t\t\t\t\t\t//console.log(x)\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t<TableRow key={x.sid} >\r\n\t\t\t\t\t\t<TableCell className={myClasses} align=\"center\" p={0}  >{mergedName( x.name, x.sid)}</TableCell>\r\n\t\t\t\t\t\t<TableCell className={myClasses} align=\"center\" p={0} >{x.amount}</TableCell>\r\n\t\t\t\t\t</TableRow>\r\n\t\t\t\t)})}\r\n\t\t\t\t<TableRow key=\"Total\" >\r\n\t\t\t\t\t<TableCell className={gClasses.tdBold} align=\"right\"  p={0}  >{\"Total\"}</TableCell>\r\n\t\t\t\t\t<TableCell className={gClasses.tdBold} align=\"center\" p={0} >{totalAmount}</TableCell>\r\n\t\t\t\t</TableRow>\r\n\t\t\t</TableBody>\r\n\t\t\t</Table>\r\n\t\t</div>\r\n\t\t);\r\n\r\n\t}\r\n\t\r\n\t\r\n\treturn (\r\n\t<div>\r\n\t\t<br />\r\n\t\t\t<Grid key=\"REPORTINCOMEDATE\" className={gClasses.noPadding} container >\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={5} sm={5} md={2} lg={1} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Select Month</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={7} sm={7} md={3} lg={1} >\r\n\t\t\t\t<div align=\"left\">\r\n\t\t\t\t<Datetime \r\n\t\t\t\t\tclassName={gClasses.dateTimeBlock}\r\n\t\t\t\t\tinputProps={{className: gClasses.dateTimeNormal}}\r\n\t\t\t\t\ttimeFormat={false} \r\n\t\t\t\t\tinitialValue={reportDate}\r\n\t\t\t\t\tvalue={reportDate}\r\n\t\t\t\t\tdateFormat=\"MMM yyyy\"\r\n\t\t\t\t\tisValidDate={disableFutureDt}\r\n\t\t\t\t\tonClose={handleReportDate}\r\n\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={2} sm={2} md={1} lg={1} >\r\n\t\t\t\t<VsButton type=\"button\" name=\"Select\" onClick={generateReport} />\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: spacing}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t</Grid>\r\n\t\t<DisplayAllPayment/>\r\n\t\t<br />\r\n\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport axios from \"axios\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport Drawer from '@material-ui/core/Drawer';\r\n\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { UserContext } from \"../../UserContext\";\r\nimport { JumpButton, DisplayPageHeader, ValidComp, BlankArea} from 'CustomComponents/CustomComponents.js';\r\n\r\n\r\nimport ReportIncome\t from \"views/Report/ReportIncome\"\r\nimport ReportPayment\t from \"views/Report/ReportPayment\"\r\n\r\n\r\n//import { NoGroup, JumpButton, DisplayPageHeader, MessageToUser } from 'CustomComponents/CustomComponents.js';\r\nimport { \r\n\tisMobile, getWindowDimensions, displayType, \r\n\tvsDialog,\r\n\tshowError, showSuccess, showInfo,\r\n} from 'views/functions';\r\n\r\nimport globalStyles from \"assets/globalStyles\";\r\n\r\n\r\n\r\nimport {\r\n\tROLE_FACULTY, ROLE_STUDENT,\r\n\tALLSELECTIONS, BLANKCHAR, STATUS_INFO,\r\n} from 'views/globals';\r\n\r\n\r\nimport {\r\n\tmergedName, getCodeFromMergedName, getNameFromMergedName,\r\n\tisAdmMan, isAdmManFac, isFaculty,\r\n\tdateString,\r\n} from 'views/functions';\r\n\r\n\r\n\r\nexport default function Report() {\r\n\tconst gClasses = globalStyles();\r\n\r\n\tconst [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\tconst [dispType, setDispType] = useState(\"lg\");\r\n\r\n\tconst [currentSelection, setCurrentSelection] = useState(\"SessionFees\");\r\n\t\r\n\tuseEffect(() => {\r\n\t\tfunction handleResize() {\r\n\t\t\tlet myDim = getWindowDimensions();\r\n      setWindowDimensions(myDim);\r\n\t\t\t//let myRows = 0;\r\n\t\t\tlet defHeight = 100;\r\n      //console.log(displayType(myDim.width)) ;\r\n      setDispType(displayType(myDim.width));\r\n     \r\n\t\t\t//switch (displayType(myDim.width)) {\r\n\t\t\t//\tcase 'xs': myRows = 10; break;\r\n\t\t\t//\tcase 'sm': myRows = 24; break;\r\n\t\t\t//\tcase 'md': myRows = 36; break;\r\n\t\t\t//\tcase 'lg': myRows = 48; break;\r\n\t\t\t//}\r\n\t\t\t//console.log(myRows);\r\n\t\t\t//setROWSPERPAGE(myRows);\r\n\t\t}\r\n\r\n\t\thandleResize();\r\n\t\twindow.addEventListener('resize', handleResize);\r\n\t}, [])\r\n\r\n\r\n\tfunction DisplayFunctionItem(props) {\r\n\tlet itemName = props.item;\r\n\treturn (\r\n\t<Grid key={\"BUT\"+itemName} item xs={4} sm={4} md={2} lg={2} >\r\n\t<Typography onClick={props.onClick}>\r\n\t\t<span \r\n\t\t\tclassName={(itemName === currentSelection) ? gClasses.functionSelected : gClasses.functionUnselected}>\r\n\t\t{itemName}\r\n\t\t</span>\r\n\t</Typography>\r\n\t</Grid>\r\n\t)}\r\n\t\r\n\tfunction DisplayReportTabs() {\r\n\treturn (\r\n\t\t<Grid className={gClasses.noPadding} key=\"AllPatients\" container align=\"center\">\r\n\t\t<DisplayFunctionItem item=\"SessionFees\"  onClick={() => { setCurrentSelection(\"SessionFees\");  } } />\r\n\t\t<DisplayFunctionItem item=\"Payment\" onClick={() => { setCurrentSelection(\"Payment\"); } } />\r\n\t</Grid>\r\n\t)}\r\n\t\r\n\treturn (\r\n\t<div>\r\n\t<DisplayPageHeader headerName=\"Report\" groupName=\"\" tournament=\"\" />\r\n\t<DisplayReportTabs />\r\n\t<Box margin={1} className={gClasses.boxStyle} borderColor=\"black\" borderRadius={7} border={1} paddingTop={1} >\r\n\t{ (currentSelection === \"SessionFees\") &&\r\n\t\t<ReportIncome />\r\n\t}\r\n\t{ (currentSelection === \"Payment\") &&\r\n\t\t<ReportPayment />\r\n\t}\r\n\t</Box>\r\n\t</div>\r\n\t);\r\n}\r\n","import React from \"react\";\r\n// nodejs library to set properties for components\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nconst styles = {\r\n  grid: {\r\n    padding: \"0 15px !important\"\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function GridItem(props) {\r\n  const classes = useStyles();\r\n  const { children, ...rest } = props;\r\n  return (\r\n    <Grid item {...rest} className={classes.grid}>\r\n      {children}\r\n    </Grid>\r\n  );\r\n}\r\n\r\nGridItem.propTypes = {\r\n  children: PropTypes.node\r\n};\r\n","import React from 'react';\r\nimport Box from '@material-ui/core/Box';\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { InputAdornment } from '@material-ui/core';\r\n\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\n//function arunSelect(x) { console.log(\"sel\", x) };\r\n\r\nexport default function VsTextSearch(props) {\r\nconst gClasses = globalStyles();\r\nlet _type = (props.type == null) ? 'text' : props.type;\r\n\treturn (\r\n\t\t<TextField type={_type} className={gClasses.vgSpacing} padding={5} fullWidth \r\n\t\t\tlabel={props.label} onChange={props.onChange} value={props.value}\r\n\t\t\tInputProps={\r\n\t\t\t\t{\r\n\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<InputAdornment position=\"end\">\r\n\t\t\t\t\t\t<ClearIcon onClick={props.onClear} />\r\n\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\n","import React, { useState, useEffect} from 'react';\r\nimport axios from \"axios\";\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n// import TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport Box from '@material-ui/core/Box';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport Container from '@material-ui/core/Container';\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport lodashSortBy from \"lodash/sortBy\";\r\nimport lodashMap from \"lodash/map\";\r\n\r\nimport VsSelect from \"CustomComponents/VsSelect\";\r\nimport VsButton from \"CustomComponents/VsButton\";\r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\nimport VsTextSearch from \"CustomComponents/VsTextSearch\";\r\n\r\n\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\n\r\nimport { BlankArea, ValidComp, JumpButton, DisplayBalance } from 'CustomComponents/CustomComponents.js';\r\nimport { validateSpecialCharacters, validateEmail, cdRefresh, validateInteger,\r\n  getMinimumAdd,\r\n} from \"views/functions.js\";\r\n\r\nexport default function AdminWallet() {\r\n\tconst aplLogo = `${process.env.PUBLIC_URL}/APLLOGO2.JPG`;\r\n\r\n  const gClasses = globalStyles();\r\n\r\n\tconst [allUsers, setAllusers] = useState([]);\r\n\tconst [filteredUsers, setFilteredUsers] = useState([]);\r\n\tconst [selectedUsers, setSelectedUsers] = useState([]);\r\n\tconst [isDrawerOpened, setIsDrawerOpened] = useState(\"\");\r\n\tconst [searchText, setSearchText] = useState(\"\");\r\n\tconst [addCount, setAddCount] = useState(0);\r\n\t\r\n  const [error, setError] = useState({});\r\n  const [helperText, setHelperText] = useState({});\r\n\r\n  const [minBalance, setMinBalance] = useState(parseInt(process.env.REACT_APP_MINADDWALLET));\r\n  const [minMessage, setMinMessage] = useState(\"\");\r\n\r\n  const [amount, setAmount] = React.useState(parseInt(process.env.REACT_APP_MINADDWALLET));\r\n  const [registerStatus, setRegisterStatus] = React.useState(0);\r\n\r\n\r\n\t\r\n  useEffect(() => {\r\n\r\n    const getAllUsers = async () => {\r\n      let  response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/allnames`);\r\n      setAllusers(response.data);\r\n\t\t\tsetFilteredUsers(response.data);\r\n\t    //console.log(response.data.length);\r\n    }\r\n\t\tgetAllUsers();\r\n  }, []);\r\n\r\n\r\n\r\n \r\n  function ShowResisterStatus() {\r\n    let myMsg = \"\";\r\n    let errmsg = true;\r\n\t\t//console.log(registerStatus);\r\n    switch (registerStatus) {\r\n      case 1001:\r\n        myMsg = 'Error connecting to Payment gateway';\r\n      break;\r\n      case 1002:\r\n        myMsg = 'Error updating payment details...................';\r\n      break;\r\n      case 1003:\r\n        myMsg = 'Payment failed. Retry payment';\r\n      break;\r\n      case 1004:\r\n        myMsg = 'Wallet add failed';\r\n\t\t\tbreak;\t\t\t\r\n\t\t\tcase 2000:\r\n\t\t\t  //console.log(\"in success\");\r\n\t\t\t\tmyMsg = `Successfully added amount in ${addCount} user(s) wallet`;\r\n\t\t\t\terrmsg = false;\r\n\t\t\t\tbreak;\r\n      case 0:\r\n        myMsg = ``;\r\n        errmsg = false;\r\n      break;      \r\n      default:\r\n        myMsg = `Unknown error code ${registerStatus}`;\r\n        break;\r\n    }\r\n    let myClass = (errmsg) ? gClasses.error : gClasses.nonerror;\r\n\t\t\r\n\t\t//myMsg = (myMsg == \"ODD\") ? \"EVEN\" : \"ODD\";\r\n\t\t//console.log(\"Msg is: \", myMsg);\r\n    return(\r\n      <div>\r\n        <Typography className={myClass}>{myMsg}</Typography>\r\n      </div>\r\n    );\r\n  }\r\n \r\n\r\n\r\n\tasync function handleSubmit() {\r\n\t\tif (amount <= 0)  {\r\n\t\t\talert(\"Invalid Amount entered\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n    //var myURL = `${process.env.REACT_APP_AXIOS_BASEPATH}/wallet/addadminwallet/${paymentRequest}/${paymentId}`;\r\n\r\n\t\tvar uidList = lodashMap(selectedUsers, 'uid');\r\n\t\tvar uidListStr = uidList.toString();\r\n\t\tconsole.log(uidListStr);\r\n\t\t\r\n    try {\r\n\t\t\tvar myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/wallet/adduidlist/${uidListStr}/${amount}`;\r\n\t\t\tconsole.log(myUrl);\r\n\t\t\tlet resp = await axios.get(myUrl);\r\n\t\t\tsetAddCount(resp.data.count);\r\n\t\t\tsetRegisterStatus(2000);\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tsetRegisterStatus(1004);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\r\n\tasync function addNewUser() {\r\n\t\tsetFilteredUsers(allUsers);\r\n\t\tsetSearchText(\"\");\r\n\t\tsetIsDrawerOpened(\"New User\");\r\n\t\t\r\n\t}\r\n\t\r\n\tasync function handleSelectUser(rec) {\r\n\t\t\tif (!selectedUsers.find(x => x.uid === rec.uid))\r\n\t\t\t{\r\n\t\t\t\tselectedUsers.push(rec);\r\n\t\t\t\tsetSelectedUsers(lodashSortBy(selectedUsers, 'displayName'));\r\n\t\t\t}\r\n\t\t\tsetIsDrawerOpened(\"\");\r\n\t}\r\n\t\r\n\tfunction deleteUser(rec) {\r\n\t\tsetSelectedUsers(selectedUsers.filter(x => x.uid != rec.uid));\r\n\t}\r\n\r\n\tfunction filterUsers(playerInfo) {\r\n\t\tlet tmp = playerInfo.toLowerCase()\r\n\t\tsetSearchText(tmp);\r\n\t\t//console.log(tmp);\r\n\t\tif (tmp != \"\") {\r\n\t\t\tsetFilteredUsers(allUsers.filter(x => x.userName.toLowerCase().includes(tmp) || x.userName.toLowerCase().includes(tmp)));\r\n\t\t} \r\n\t\telse  {\r\n\t\t\tconsole.log(\"BLANK\");\r\n\t\t\tsetFilteredUsers(allUsers);\r\n\t\t}\r\n\t}\r\n\t\r\n\tif (allUsers.length === 0) return null;\r\n\treturn (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n\t\t<CssBaseline />\r\n\t\t<div align=\"center\" className={gClasses.paper}>\r\n      <Typography component=\"h1\" variant=\"h5\">\r\n        Admin Wallet\r\n      </Typography>\r\n\t\t\t<BlankArea />\r\n\t\t\t<div>\r\n\t\t\t<Box bordercolor=\"primary.main\" border={1}>\r\n\t\t\t<TableContainer>\r\n\t\t\t<Table>\r\n\t\t\t\t<TableHead>\r\n\t\t\t\t\t<TableRow className={gClasses.th} align=\"center\" bordercolor=\"black\" border={1}>\r\n\t\t\t\t\t\t<TableCell className={gClasses.th} align=\"center\">User Name</TableCell>      \r\n\t\t\t\t\t\t<TableCell className={gClasses.th} align=\"center\">Display Name</TableCell>\r\n\t\t\t\t\t\t<TableCell className={gClasses.th} align=\"center\">UID</TableCell>\r\n\t\t\t\t\t\t<TableCell className={gClasses.th} align=\"center\"></TableCell>\r\n\t\t\t\t\t</TableRow>\r\n\t\t\t\t</TableHead>\r\n\t\t\t\t<TableBody>\r\n\t\t\t\t\t{selectedUsers.map( (m, index) => \r\n\t\t\t\t\t\t<TableRow key={\"SEL\"+m.uid} align=\"center\" bordercolor=\"black\" border={1}>\r\n\t\t\t\t\t\t\t<TableCell align=\"left\" className={gClasses.td} >{m.userName}</TableCell> \r\n\t\t\t\t\t\t\t<TableCell align=\"left\" className={gClasses.td} >{m.displayName}</TableCell> \r\n\t\t\t\t\t\t\t<TableCell align=\"center\" className={gClasses.td}>{m.uid}</TableCell> \r\n\t\t\t\t\t\t\t<TableCell className={gClasses.td}><VsCancel align=\"center\" onClick={() => {deleteUser(m)}} /></TableCell> \r\n\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{(selectedUsers.length === 0) &&\r\n\t\t\t\t\t\t<TableRow align=\"center\">\r\n\t\t\t\t\t\t\t<TableCell align=\"center\" colSpan={4} className={gClasses.td} p={1} >No User Selected</TableCell>      \r\n\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t}\r\n\t\t\t\t</TableBody>\r\n\t\t\t</Table>\r\n\t\t\t</TableContainer>\r\n\t\t\t</Box>\r\n\t\t\t<VsButton align=\"right\" name=\"Add User\" onClick={addNewUser} />\r\n\t\t\t</div>\r\n    <BlankArea/>\r\n\t\t<Divider style={{ color: 'blue', background: 'blue' }} variant=\"middle\" />\r\n\t\t<BlankArea/>\r\n\t\t{(selectedUsers.length > 0) &&\r\n\t\t\t<ValidatorForm className={gClasses.form} onSubmit={handleSubmit}>\r\n\t\t\t\t<TextValidator variant=\"outlined\" required type=\"number\" min={minBalance} step=\"1\" \r\n\t\t\t\t\tid=\"amount\" label=\"Add amount\" name=\"amount\"\r\n\t\t\t\t\tvalue={amount}\r\n\t\t\t\t\tonChange={(event) => setAmount(event.target.value)}\r\n\t\t\t\t\terror={error.amount}\r\n\t\t\t\t\thelperText={helperText.amount}\r\n\t\t\t\t/>\r\n\t\t\t<ShowResisterStatus/>\r\n      <BlankArea/>\r\n\t\t\t<VsButton type=\"submit\" align=\"center\" name=\"Add to wallet\"/>\r\n\t\t\t</ValidatorForm>\r\n\t\t}\r\n\t\t<JumpButton page={process.env.REACT_APP_HOME} text=\"Home\" />\r\n    </div>\r\n    <ValidComp/>\r\n\t\t<Drawer anchor=\"right\" variant=\"temporary\" open={isDrawerOpened !== \"\"} >\r\n\t\t\t<VsCancel align=\"right\" onClick={() => {setIsDrawerOpened(\"\")}} />\r\n\t\t\t<VsTextSearch label=\"Search Player by User/Display name\" value={searchText}\r\n\t\t\t\t\t\tonChange={(event) => filterUsers(event.target.value)}\r\n\t\t\t\t\t\tonClear={(event) => filterUsers(\"\")}\r\n\t\t\t\t\t/>\r\n\t\t\t<BlankArea />\r\n\t\t\t<Table>\r\n\t\t\t<TableBody>\r\n\t\t\t{filteredUsers.map( (m, index) => \r\n\t\t\t\t<TableRow key={\"USR\"+m.uid} className={gClasses.td} align=\"center\">\r\n\t\t\t\t\t<TableCell className={gClasses.td} onClick={() => handleSelectUser(m) } >{m.userName} ({m.displayName}) (Uid: {m.uid})</TableCell> \r\n\t\t\t\t\t\t{/*<TableCell className={gClasses.td} ><VisibilityIcon className={gClasses.blue} size=\"small\" onClick={() => handleSelectUser(m) }  /></TableCell>*/}\r\n\t\t\t\t</TableRow>\r\n\t\t\t)}\r\n\t\t\t</TableBody>\r\n\t\t\t</Table>\r\n\t\t</Drawer>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState, useEffect} from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n// import TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\n// import Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\n// import Table from \"components/Table/Table.js\";\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport Container from '@material-ui/core/Container';\r\nimport axios from \"axios\";\r\n//import useScript from './useScript';\r\nimport { setTab }from \"CustomComponents/CricDreamTabs\";\r\nimport { BlankArea, DisplayBalance } from 'CustomComponents/CustomComponents';\r\nimport { getMinimumBalance } from 'views/functions';\r\n// import classes from '*.module.css';\r\nvar request= require('request');\r\n// import { UserContext } from \"../../UserContext\";\r\n// import { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\n// import { useHistory } from \"react-router-dom\";\r\n// import {validateSpecialCharacters, validateEmail, cdRefresh} from \"views/functions.js\";\r\n// import { red, deepOrange } from '@material-ui/core/colors';\r\n// var Insta = require('instamojo-nodejs');\r\n\r\nimport VsButton from \"CustomComponents/VsButton\";\r\n\r\n\r\n//const INSTAMOJOSCRIPT=\"https://js.instamojo.com/v1/checkout.js\";\r\nconst COUNTPERPAGE=15;\r\n\r\n\r\n/*\r\nconst useStyles = makeStyles((theme) => ({\r\n  wallet: {\r\n    spacing: 0,\r\n    border: \"inset\",\r\n    align: \"center\",\r\n    padding: \"none\",\r\n    //height: 10,\r\n\t\tpadding: \"5px\",\r\n    backgroundColor: '#B3E5FC',\r\n  },\r\n  bonus: {\r\n    spacing: 0,\r\n    border: \"inset\",\r\n    align: \"center\",\r\n    padding: \"none\",\r\n\t\tpadding: \"5px\",\r\n    //height: 10,\r\n    backgroundColor: '#FFC0CB',\r\n  },\r\n}));\r\n*/\r\n  \r\n\r\nexport default function Wallet(props) {\r\n  //useScript(INSTAMOJOSCRIPT);\r\n\r\n  //const history = useHistory();\r\n  //const classes = useStyles();\r\n  const gClasses = globalStyles();\r\n\r\n  const [minBalance, setMinBalance] = useState(parseInt(process.env.REACT_APP_MINBALANCE));\r\n  const [balance, setBalance] = useState({wallet: 0, bonus: 0});\r\n  const [transactions, setTransactions] = useState([]);\r\n  const [masterTransactions, setMasterTransactions] = useState([]);\r\n  const [registerStatus, setRegisterStatus] = useState(0);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [rowsPerPage, setRowsPerPage] = useState(COUNTPERPAGE);\r\n  // const [emptyRows, setEmptyRows] = useState(0);\r\n  const [page, setPage] = useState(0);\r\n  const [minMessage, setMinMessage] = useState(`Minimum balance of  ${process.env.REACT_APP_MINBALANCE} is required for withdrawal.`)\r\n  \r\n  // have we come via route\r\n  //console.log(\"Wallet\", localStorage.getItem(\"menuValue\"));\r\n  // console.log(\"details from Insta\",\r\n  // sessionStorage.getItem(\"payment_id\"),\r\n  // sessionStorage.getItem(\"payment_status\"),\r\n  // sessionStorage.getItem(\"payment_request_id\")\r\n  // );\r\n  useEffect(() => {\r\n\t  \r\n\tif (localStorage.getItem(\"saveBalance\"))\r\n      setBalance(JSON.parse(localStorage.getItem(\"saveBalance\")));\r\n\r\n\tif (localStorage.getItem(\"saveTransactions\")) {\r\n\t\t//setTransactions(JSON.parse(localStorage.getItem(\"saveTransactions\")));\r\n\t\tlet allTrans = JSON.parse(localStorage.getItem(\"saveTransactions\"));\r\n\t  setMasterTransactions(allTrans);\r\n\t\tlet tmp = allTrans.filter(x => x.isWallet === true);\r\n\t\tsetTransactions(tmp);\r\n\t}\r\n\t\r\n    const minimumAmount = async () => {\r\n      let amt = await getMinimumBalance();\r\n      setMinBalance(amt); \r\n      //console.log(\"Min Balance \", amt);\r\n      setMinMessage(`Minimum balance of  ${amt} is required for withdrawal.`);\r\n    }\r\n    \r\n\tconst WalletInfo = async () => {\r\n      try {\r\n        // get user details\r\n        // get wallet transaction and also calculate balance\r\n        var response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/wallet/details/${localStorage.getItem(\"uid\")}`);\r\n        setMasterTransactions(response.data);\r\n        setTransactions(response.data.filter(x => x.isWallet === true));\r\n\t\t\t\tlocalStorage.setItem(\"saveTransactions\", JSON.stringify(response.data));\r\n\r\n        response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/wallet/balance/${localStorage.getItem(\"uid\")}`);\r\n        setBalance(response.data);\r\n\t\t\t\tlocalStorage.setItem(\"saveBalance\", JSON.stringify(response.data));\r\n      } catch (e) {\r\n          console.log(e)\r\n      }\r\n    }\r\n    WalletInfo();\r\n    minimumAmount()\r\n  }, []);\r\n\r\n  function ShowResisterStatus() {\r\n    let myMsg;\r\n    let errmsg = true;\r\n    switch (registerStatus) {\r\n      case 1001:\r\n        myMsg = message;\r\n        errmsg = false;\r\n      break;\r\n      case 1002:\r\n        myMsg = message;\r\n      break;\r\n      case 0:\r\n        myMsg = ``;\r\n        errmsg = false;\r\n      break;      \r\n      default:\r\n        myMsg = `Unknown error code ${registerStatus}`;\r\n        break;\r\n    }\r\n    let myClass = (errmsg) ? gClasses.error : gClasses.nonerror;\r\n    return(\r\n      <div>\r\n        <Typography className={myClass}>{myMsg}</Typography>\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    event.preventDefault();\r\n    setPage(newPage);\r\n    // let myempty = rowsPerPage - Math.min(rowsPerPage, transactions.length - newPage * rowsPerPage);\r\n    // setEmptyRows(myempty);\r\n\r\n  };\r\n\r\n\r\n  function handleAddWallet() {\r\n    setTab(process.env.REACT_APP_ADDWALLET);\r\n  }\r\n\r\n  function handleWithdraw() {\r\n    if (balance.wallet <= minBalance)\r\n      alert(minMessage);\r\n    else\r\n      setTab(process.env.REACT_APP_WITHDRAWWALLET);\r\n  }\r\n\r\n\r\n  function WalletButton() {\r\n    return (\r\n      <div align=\"center\">\r\n      {/*<Button type=\"submit\" variant=\"contained\" color=\"primary\"\r\n        onClick={handleAddWallet}\r\n        className={gClasses.button}>Add to Wallet\r\n      </Button>*/}\r\n\t\t\t<VsButton type=\"submit\"  name=\"Add to Wallet\"  onClick={handleAddWallet} />\r\n      {/*<Button type=\"submit\" variant=\"contained\" color=\"primary\" \r\n       onClick={handleWithdraw}\r\n        className={gClasses.button}>Withdraw\r\n\t\t\t</Button>*/}\r\n     </div>\r\n    )\r\n  }\r\n\r\n  function allData() {\r\n    // console.log(\" All\");\r\n    setTransactions(masterTransactions);\r\n    setPage(0);\r\n  }\r\n\r\n  function walletData() {\r\n    let tmp = masterTransactions.filter(x => x.isWallet === true);\r\n    // console.log(\" Wallet\", tmp.length);\r\n    setTransactions(tmp);\r\n    setPage(0);\r\n  }\r\n\r\n  function bonusData() {\r\n    let tmp = masterTransactions.filter(x => x.isWallet === false);\r\n    // console.log(\" Bonus\", tmp.length);\r\n    setTransactions(tmp);\r\n    setPage(0);\r\n  }\r\n\r\n  function SelectButton() {\r\n\t//walletData();\t\t// Only wallet will be displayed\r\n\treturn null;\r\n\t// ignore code down below\r\n  return(\r\n    <Grid key=\"walletType\" align=\"center\" container>\r\n    <Grid item xs={4} sm={4} md={4} lg={4} >\r\n    <Button key=\"mt_t20\" variant=\"contained\" color=\"primary\" size=\"small\"\r\n    className={gClasses.button} \r\n    onClick={allData}>\r\n    All\r\n    </Button>\r\n    </Grid>\r\n    <Grid item xs={4} sm={4} md={4} lg={4} >\r\n    <Button key=\"mt_odi\" variant=\"contained\" color=\"primary\" size=\"small\"\r\n    className={gClasses.button} \r\n    onClick={walletData}>\r\n    Wallet\r\n    </Button>\r\n    </Grid>\r\n    <Grid item xs={4} sm={4} md={4} lg={4} >\r\n    <Button key=\"mt_test\" variant=\"contained\" color=\"primary\" size=\"small\"\r\n    className={gClasses.button} \r\n    onClick={bonusData}>\r\n    Bonus\r\n    </Button>\r\n    </Grid>\r\n    </Grid>      \r\n  )};\r\n  \r\n\r\n\r\n  //console.log(transactions.length);\r\n  //console.log(rowsPerPage);\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <DisplayBalance wallet={balance.wallet} bonus={balance.bonus}/>\r\n      <CssBaseline />\r\n      <div>\r\n        <ShowResisterStatus />\r\n        <BlankArea />\r\n        <SelectButton/>\r\n        <TableContainer>\r\n        <Table>\r\n        <TableHead p={0}>\r\n            <TableRow align=\"center\">\r\n            <TableCell className={gClasses.th} p={0} align=\"center\">Date</TableCell>      \r\n            <TableCell className={gClasses.th} p={0} align=\"center\">Type</TableCell>\r\n            <TableCell className={gClasses.th} p={0} align=\"center\">Amount</TableCell>\r\n            </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n            {transactions.slice(page * rowsPerPage, (page + 1) * rowsPerPage )\r\n            .map( (item, index) => {\r\n              //let myClass = (item.isWallet) ? { backgroundColor:  '#B3E5FC' } : { backgroundColor:  '#FFC0CB' };\r\n              // console.log(item.isWallet);\r\n              return (\r\n                <TableRow align=\"center\" key={index} >\r\n                  <TableCell  className={gClasses.td} p={0} align=\"center\" >\r\n                    {item.date}\r\n                  </TableCell>\r\n                  <TableCell  className={gClasses.td} p={0} align=\"center\" >\r\n                    {item.type}\r\n                  </TableCell>\r\n                  <TableCell  className={gClasses.td} p={0} align=\"center\" >\r\n                    {item.amount}\r\n                  </TableCell>\r\n                </TableRow>\r\n              )\r\n            })}\r\n        </TableBody> \r\n        </Table>\r\n        </TableContainer>\r\n        {(transactions.length > rowsPerPage ) &&\r\n          <TablePagination\r\n            rowsPerPageOptions={[COUNTPERPAGE]}\r\n            component=\"div\"\r\n            count={transactions.length}\r\n            rowsPerPage={rowsPerPage}\r\n            page={page}\r\n            onChangePage={handleChangePage}\r\n            // onChangeRowsPerPage={handleChangeRowsPerPage}\r\n          />\r\n        }\r\n        <BlankArea />\r\n        <WalletButton />\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useRef, useState, useContext, useEffect } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport Container from '@material-ui/core/Container';\r\nimport axios from \"axios\";\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\nimport { ACALogo } from 'CustomComponents/CustomComponents.js';\r\nimport { BlankArea } from 'CustomComponents/CustomComponents';\r\n\r\nimport { upGradeRequired } from 'views/functions';\r\n\r\nconst handleSubmit = e => {\r\n  e.preventDefault();\r\n};\r\n\r\nexport default function Update() {\r\n  const gClasses = globalStyles();\r\n  const [gotInfo, setGotInfo] = useState(false);\r\n  const [upgReq, setUpgReq] = useState(false);\r\n  const [latest, setLatest] = useState({});\r\n\r\n  useEffect(() => {\r\n    const checkVersion = async () => {\r\n\r\n      let upg = await upGradeRequired();\r\n      console.log(`Update required: ${upg.status}`);\r\n      setUpgReq(upg.status);\r\n      setLatest(upg.latest);\r\n      console.log(upg);\r\n      setGotInfo(true);\r\n    }\r\n    checkVersion();\r\n  }, []);\r\n\r\n\r\n  \r\n  async function handleAndroid() {\r\n\r\n    // opens the url in the default browser \r\n    var myURL = `${process.env.REACT_APP_APLSERVER}/viraag/binarylatest/APL`;\r\n    try {\r\n      await window.open(myURL, '_blank', 'noreferrer');\r\n    }\r\n    catch(e) {\r\n     console.log(e); \r\n    }\r\n    return;\r\n    \r\n  }\r\n\r\n  function handleIos() {\r\n    console.log(\"Download IOS app\");\r\n  }\r\n\r\n\r\n  if (!gotInfo) return null;\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={gClasses.paper}>\r\n        <ACALogo />        \r\n        <Typography className={gClasses.info22}>{`Application ${process.env.REACT_APP_NAME}.${process.env.REACT_APP_DEVICE}`}</Typography>\r\n        <Typography className={gClasses.info18}>{`Version ${process.env.REACT_APP_VERSION}`}</Typography>\r\n        <BlankArea />\r\n        {(upgReq) &&\r\n          <div>\r\n          <Typography className={gClasses.info18Brown}>{`Latest version ${latest.version} available.`}</Typography>        \r\n          <BlankArea />\r\n          <Button fullWidth variant=\"contained\" color=\"primary\" onClick={handleAndroid} >\r\n            Update\r\n          </Button>\r\n          </div>\r\n        }\r\n        {(!upgReq) &&\r\n          <Typography className={gClasses.info18Brown}>Latest version. No update required</Typography>\r\n        }\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","import { useEffect } from 'react';\r\n\r\nconst useScript = url => {\r\n  useEffect(() => {\r\n    const script = document.createElement('script');\r\n    script.src = url;\r\n    script.async = true;\r\n    document.body.appendChild(script);\r\n    return () => {\r\n      document.body.removeChild(script);\r\n    };\r\n  }, [url]);\r\n};\r\n\r\nexport default useScript;","import React, { useState, useEffect} from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n// import TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\n// import Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport Container from '@material-ui/core/Container';\r\nimport VsSelect from \"CustomComponents/VsSelect\";\r\n\r\nimport axios from \"axios\";\r\nimport useScript from './useScript';\r\nimport { setTab }from \"CustomComponents/CricDreamTabs\";\r\nimport { BlankArea, ValidComp, JumpButton, DisplayBalance } from 'CustomComponents/CustomComponents.js';\r\nimport { validateSpecialCharacters, validateEmail, cdRefresh, validateInteger,\r\n  getMinimumAdd,\r\n} from \"views/functions.js\";\r\nvar request= require('request');\r\n\r\nimport VsButton from \"CustomComponents/VsButton\";\r\n\r\n\r\nconst INSTALINK='https://test.instamojo.com/@arun_salgia/';\r\n\r\nconst INSTAMOJOSCRIPT = \"https://js.instamojo.com/v1/checkout.js\";\r\nconst RAZORSCRIPT = \"https://checkout.razorpay.com/v1/checkout.js\";\r\n\r\n\r\nconst PAYMENTGATEWAY=\"RAZOR\";\r\nvar paymentId = \"\";\r\nvar paymentRequest = \"\";\r\n\r\nvar orderId = \"\";\r\nvar razResponse;\r\nfunction setOrderId(newId) { orderId = newId; };\r\n\r\nexport default function AddWallet() {\r\n\tconst aplLogo = `${process.env.PUBLIC_URL}/APLLOGO2.JPG`;\r\n\tif (PAYMENTGATEWAY === \"RAZOR\")\r\n\t\tuseScript(RAZORSCRIPT);\r\n\telse\r\n\t\tuseScript(INSTAMOJOSCRIPT);\r\n\t\r\n\t\r\n  // const history = useHistory();\r\n  // const classes = useStyles();\r\n  const gClasses = globalStyles();\r\n\r\n  const [error, setError] = useState({});\r\n  const [helperText, setHelperText] = useState({});\r\n\r\n  const [minInrBalance, setMinInrBalance] = useState(parseInt(process.env.REACT_APP_MINADDWALLET));\r\n  const [minBalance, setMinBalance] = useState(parseInt(process.env.REACT_APP_MINADDWALLET));\r\n\r\n  const [minCond, setMinCond] = useState(\"minNumber:100\");\r\n  const [minMessage, setMinMessage] = useState(\"\");\r\n\r\n  const [amount, setAmount] = React.useState(parseInt(process.env.REACT_APP_MINADDWALLET));\r\n  const [registerStatus, setRegisterStatus] = useState(0);\r\n\r\n  const [balance, setBalance] = useState({wallet: 0, bonus: 0});\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n\tconst [razOpt, setRazOpt] = useState({});\r\n\tconst [payId, setPayId] = useState(\"\");\r\n\tconst [signId, setSignId] = useState(\"\");\r\n\t\t\r\n\tconst [currencyList, setCurrencyList] = useState([]);\r\n\tconst [currentCurrency, setCurrentCurrency] = useState(\"INR\");\r\n\tconst [currentRate, setCurrentRate] = useState(1.0);\r\n\t\r\n  // const [paymentRequest, setPaymentRequest ] = useState(\"\");\r\n  // const [paymentId, setPaymentId] = useState(\"\");\r\n\r\n\r\n  // const [transactions, setTransactions] = useState([]);\r\n  // const [emptyRows, setEmptyRows] = React.useState(0);\r\n  // const [page, setPage] = React.useState(0);\r\n\r\n  useEffect(() => {\r\n\tif (localStorage.getItem(\"saveBalance\"))\r\n      setBalance(JSON.parse(localStorage.getItem(\"saveBalance\")));\r\n\r\n    const minimumAmount = async () => {\r\n      let amt = await getMinimumAdd();\r\n\t\t\t// now find if new group amount is provided\r\n\t\t\tvar createJoinGroup = sessionStorage.getItem(\"newGroupAmount\");\r\n\t\t\tsessionStorage.setItem(\"newGroupAmount\", 0);\r\n\t\t\t\r\n\t\t\tvar groupAmount = (createJoinGroup)  ? Number(createJoinGroup) : 0;\r\n\t\t\tif (groupAmount > amt)\r\n\t\t\t\tamt = groupAmount;\r\n\t\t\t\r\n      setMinBalance(amt); \r\n      setMinInrBalance(amt);\r\n      \r\n      setAmount(amt);\r\n      console.log(\"Min add \", amt);\r\n      \r\n      setMinCond(\"minNumber:\" + amt);\r\n      setMinMessage(`Minimum amount is INR ${amt}`);\r\n    }\r\n    const getBalance = async () => {\r\n      let  response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/wallet/balance/${localStorage.getItem(\"uid\")}`);\r\n      setBalance(response.data);\r\n\t  localStorage.setItem(\"saveBalance\", JSON.stringify(response.data));\r\n    }\r\n\t\tconst getCurrency = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tvar res = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/currency/getall`);\t\r\n\t\t\t\tsetCurrencyList(res.data);\r\n\t\t\t\tvar tmp = res.data.find(x => x.name == \"INR\");\r\n\t\t\t\t//console.log(tmp);\r\n\t\t\t\tsetCurrentCurrency(tmp.name);\r\n\t\t\t\tsetCurrentRate(tmp.rate);\r\n\t\t\t} \r\n\t\t\tcatch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\tconsole.log(\"Error in getting currency\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tgetCurrency();\r\n    getBalance();\r\n    minimumAmount()\r\n  }, []);\r\n\r\n  function junkShowResisterStatus() {\r\n    let myMsg;\r\n    let errmsg = true;\r\n    switch (registerStatus) {\r\n      case 1001:\r\n        myMsg = message;\r\n        errmsg = false;\r\n      break;\r\n      case 1002:\r\n        myMsg = message;\r\n      break;\r\n      case 0:\r\n        myMsg = ``;\r\n        errmsg = false;\r\n      break;      \r\n      default:\r\n        myMsg = `Unknown error code ${registerStatus}`;\r\n        break;\r\n    }\r\n    let myClass = (errmsg) ? gClasses.error : gClasses.nonerror;\r\n    return(\r\n      <div>\r\n        <Typography className={myClass}>{myMsg}</Typography>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  function changeCurrency(newCurrency) {\r\n\t\tsetCurrentCurrency(newCurrency);\r\n\t\tlet tmp = currencyList.find(x => x.name === newCurrency);\r\n    setCurrentRate(tmp.rate);\r\n\r\n\t\t//console.log(tmp);\r\n    let newMinAmount = (tmp.name != \"INR\") ? Math.round(minInrBalance / tmp.rate + 0.5) : minInrBalance;\r\n    setMinBalance(newMinAmount);\r\n    \r\n\t\tif (amount < newMinAmount) { \r\n      setAmount(newMinAmount);\r\n    }\r\n      setMinCond(\"minNumber:\" + newMinAmount);\r\n      setMinMessage(`Minimum amount is ${tmp.name} ${newMinAmount}`);\r\n/*      \r\n    }\r\n    else {\r\n      //setAmount(newMinAmount);\r\n      setMinCond(\"minNumber:\" + newMinAmount);\r\n      setMinMessage(`Minimum amount is ${tmp.name} ${newMinAmount}`);      \r\n    }\r\n*/    \r\n\t}\r\n\t\r\n  function onOpenHandler () {\r\n    // alert('Payments Modal is Opened');\r\n   }\r\n\r\n  async function onCloseHandler () {\r\n    let myURL;\r\n\r\n    if (paymentId !== \"\") {\r\n      myURL = `${process.env.REACT_APP_AXIOS_BASEPATH}/wallet/instapaymentok/${paymentRequest}/${paymentId}`;\r\n    } else {\r\n      myURL = `${process.env.REACT_APP_AXIOS_BASEPATH}/wallet/instapaymentfail/${paymentRequest}`;\r\n    }\r\n\r\n    try {\r\n      let resp = await axios.get(myURL);\r\n      if (paymentId !== \"\")\r\n        setTab(process.env.REACT_APP_WALLET);\r\n      else\r\n        setRegisterStatus(1003);\r\n    } catch (e) {\r\n      console.log(e);\r\n      setRegisterStatus(1002);\r\n    }\r\n   }\r\n\r\n  function onPaymentSuccessHandler (response) {\r\n    //alert('Payment Success');\r\n    console.log('Successs -----', response);\r\n    //setPaymentId(response.paymentId)\r\n    paymentId = response.paymentId;\r\n  }\r\n\r\n\tfunction onPaymentFailureHandler (response) {\r\n     //alert('Payment Failure');\r\n     console.log('Failed-----------------', response);\r\n     //setPaymentId(\"\");\r\n     paymentId = \"\";\r\n     console.log(paymentRequest);\r\n   }\r\n\r\n\tasync function handleRazor(response) {\r\n\t\t// AFTER RAZOR TRANSACTION IS COMPLETE and SUCCESSFULL YOU WILL GET THE RESPONSE HERE.\r\n\t\tconsole.log(response);\r\n\t\tlet myURL = `${process.env.REACT_APP_AXIOS_BASEPATH}/wallet/razorpaymentok/${localStorage.getItem(\"uid\")}/${amount}/${response.razorpay_payment_id}`;\r\n    \r\n    try {\r\n\t\t\tconsole.log(myURL);\r\n      await axios.get(myURL);\r\n\t\t\tsetTab(process.env.REACT_APP_WALLET);\r\n    } catch (e) {\r\n      console.log(e);\r\n      setRegisterStatus(1002);\r\n    }\r\n\t}\r\n  \r\n\r\n  \r\n  function ShowResisterStatus() {\r\n    let myMsg;\r\n    let errmsg = true;\r\n    switch (registerStatus) {\r\n      case 1001:\r\n        myMsg = 'Error connecting to Payment gateway';\r\n      break;\r\n      case 1002:\r\n        myMsg = 'Error updating payment details...................';\r\n      break;\r\n      case 1003:\r\n        myMsg = 'Payment failed. Retry payment';\r\n      break;\r\n      case 0:\r\n        myMsg = ``;\r\n        errmsg = false;\r\n      break;      \r\n      default:\r\n        myMsg = `Unknown error code ${registerStatus}`;\r\n        break;\r\n    }\r\n    let myClass = (errmsg) ? gClasses.error : gClasses.nonerror;\r\n    return(\r\n      <div>\r\n        <Typography className={myClass}>{myMsg}</Typography>\r\n      </div>\r\n    );\r\n  }\r\n \r\n  async function orghandleSubmit() {\r\n    setRegisterStatus(0);\r\n    let sts;\r\n\r\n    sts = await validate(\"amount\")\r\n\t\tif (sts) return;\r\n\r\n    paymentRequest = \"\";\r\n    paymentId = \"\";\r\n\r\n    try {\r\n\t\t\tif (PAYMENTGATEWAY !== \"RAZOR\") {\r\n\t\t\t\tvar response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/wallet/instageneratepaymentrequest/${localStorage.getItem(\"uid\")}/${amount}`);\r\n\t\t\t\t//setPaymentRequest(response.data);\r\n\t\t\t\tpaymentRequest = response.data;\r\n\t\t\t\t//let myrequestid = response.data;\r\n\t\t\t\t//let resp = await window.open(`${process.env.REACT_APP_GATEWAYURL}/${response.data}`, '_parent');\r\n\t\t\t\tInstamojo.configure({\r\n\t\t\t\t\thandlers: {\r\n\t\t\t\t\t\tonOpen: onOpenHandler,\r\n\t\t\t\t\t\tonClose: onCloseHandler,\r\n\t\t\t\t\t\tonSuccess: onPaymentSuccessHandler,\r\n\t\t\t\t\t\tonFailure: onPaymentFailureHandler\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tInstamojo.open(INSTALINK + response.data);\r\n\t\t\t\t//setTab(process.env.REACT_APP_WALLET);\r\n\t\t\t} \r\n\t\t\telse {\r\n\t\t\t\tvar response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/wallet/razorgeneratepaymentrequest/${localStorage.getItem(\"uid\")}/${amount}`);\r\n\t\t\t\tlet myOptions = response.data;\r\n\t\t\t\tmyOptions.handler = handleRazor;\r\n\t\t\t\tmyOptions.image = aplLogo;\t\t\t\t\t    // COMPANY LOGO\r\n\t\t\t\tvar rzp1 = new window.Razorpay(myOptions, '_parent');\r\n\t\t\t\trzp1.open();\r\n\t\t\t}\r\n    } catch (e) {\r\n      setRegisterStatus(1001);\r\n      console.log(e);\r\n      console.log(\"Error calling wallet\");\r\n    }\r\n  }\r\n\r\n\tconst doVerify =  async () => {\r\n\t\tconsole.log(\"in verify\");\r\n\t\tconsole.log(razResponse);\r\n\t\ttry {\r\n\t\t\tlet  response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/razor/verify/${orderId}/${razResponse.razorpay_payment_id}/${razResponse.razorpay_signature}`);\t\r\n\t\t\tconsole.log(response.data);\r\n\t\t\talert(\"Verify Success\");\t\t\r\n\t\t} catch (e) {\r\n\t\t\talert(\"Verify Failed\");\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction handleRazor(response)  {\r\n\t\tconsole.log(\"in handleRazor\");\r\n\t\t//console.log(orderId);\r\n\t\tif (orderId == response.razorpay_order_id) {\r\n\t\t\t//console.log(\"Order Id matched\");\r\n\t\t\trazResponse = response;\r\n\t\t\tdoVerify();\r\n\t\t} else {\r\n\t\t\talert(\"Order Id mismatch\");\r\n\t\t}\r\n\t}\r\n\r\n\tasync function handleSubmit() {\r\n    //console.log(amount);\r\n    //console.log(minBalance);\r\n    // currently disable calling razor pay\r\n    alert(\"Awaiting Govt. regulatory permissions to enable Payment gateway.\\n\\nKindly contact 9920301805 for payment over WhatsApp / SMS.\");\r\n    return;\r\n    \r\n\t\tif (amount < minBalance)  {\r\n\t\t\talert(\"Invalid Amount. Minimum amount required is \"+minBalance);\r\n\t\t\treturn;\r\n\t\t}\r\n    \r\n\t\ttry {\r\n\t\t\tlet  response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/razor/order/${amount}/${currentCurrency}`);\t\r\n\t\t\t\tlet myOpt = response.data;\r\n\t\t\t\tconsole.log(myOpt);\r\n\t\t\t\tsetRazOpt(myOpt);\r\n\t\t\t\tmyOpt[\"handler\"] = handleRazor;\r\n\t\t\t\tsetOrderId(myOpt.order_id);\r\n\t\t\t\tconsole.log(myOpt);\r\n\t\t\t\tvar rzp1 = new Razorpay(myOpt);\r\n\t\t\t\trzp1.open();\r\n\t\t\t} \r\n\t\t\tcatch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tconsole.log(\"Checkout failure\");\r\n\t\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n  async function validate(eid, eid2) {\r\n    let e = document.getElementById(eid);\r\n    let myValue = e.value; \r\n    //console.log(eid, myValue);\r\n    let newError=false;\r\n    let newText = \"\";\r\n\r\n    // eslint-disable-next-line default-case\r\n    switch (eid) {\r\n      case \"amount\":\r\n        let amt = parseInt(myValue);\r\n        if (!validateInteger(myValue)) {\r\n          newError = true;\r\n          newText = 'Amount should in multiple of Rupees';\r\n        } else if (amt < minBalance) {\r\n          newError = true;\r\n          newText = minMessage;\r\n        } \r\n      break;\r\n    }\r\n  \r\n    let x = {};\r\n    x[eid] = newError;\r\n    setError(x);\r\n    \r\n    x = {};\r\n    x[eid] = newText;\r\n    setHelperText(x);\r\n    //console.log(x);\r\n\r\n    e.focus();\r\n    // console.log(\"Iserror\",newError)\r\n    return newError;\r\n  }\r\n\r\n\tif (currencyList.length === 0) return null;\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n       <DisplayBalance wallet={balance.wallet} bonus={balance.bonus}/>\r\n      <CssBaseline />\r\n      <div align=\"center\" className={gClasses.paper}>\r\n      <Typography component=\"h1\" variant=\"h5\">\r\n        Add to Wallet\r\n      </Typography>\r\n\t\t\t<BlankArea />\r\n      <ValidatorForm className={gClasses.form} onSubmit={handleSubmit}>\r\n\t\t\t<Grid container justifyContent=\"center\" alignItems=\"center\" >\r\n\t\t\t\t<GridItem xs={8} sm={8} md={8} lg={8} >\r\n\t\t\t\t\t<TextValidator variant=\"outlined\" required type=\"number\" min={minBalance} step=\"1\" \r\n\t\t\t\t\t\tid=\"amount\" label=\"Add amount\" name=\"amount\"\r\n\t\t\t\t\t\t//defaultValue={amount}\r\n\t\t\t\t\t\tvalue={amount}\r\n            validators={['required', minCond, 'isNumeric']}\r\n            errorMessages={['Member count to be provided', minMessage, 'Fraction not allowed']}\r\n\t\t\t\t\t\tonChange={(event) => setAmount(event.target.value)}\r\n\t\t\t\t\t\terror={error.amount}\r\n\t\t\t\t\t\thelperText={helperText.amount}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</GridItem>\r\n\t\t\t\t<GridItem xs={4} sm={4} md={4} lg={4} >\r\n\t\t\t\t\t<VsSelect fullWidth={true} align=\"center\" value={currentCurrency} options={currencyList} \r\n\t\t\t\t\t\tfield=\"name\" onChange={(event) => changeCurrency(event.target.value) } />\r\n\t\t\t\t</GridItem>\r\n\t\t\t\t<GridItem xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t\t\t{(currentCurrency !== \"INR\") &&\r\n            <div align=\"center\">\r\n\t\t\t\t\t\t<Typography className={gClasses.patientInfo2Blue}>Exchange rate {currentCurrency} / INR is {currentRate.toFixed(2)}</Typography>\r\n\t\t\t\t\t\t<Typography className={gClasses.info14Blue}>(Includes Bank charges for currency conversion)</Typography>\r\n            </div>\r\n\t\t\t\t\t}\r\n\t\t\t\t</GridItem>\r\n\t\t\t</Grid>\r\n      <BlankArea/>\r\n      <ShowResisterStatus/>\r\n      <BlankArea/>\r\n      {/*<Button\r\n        type=\"submit\"\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        className={gClasses.submit}\r\n      >\r\n        Add\r\n\t\t\t</Button>*/}\r\n\t\t\t<VsButton type=\"submit\" name=\"Add\" />\r\n    </ValidatorForm>\r\n    <BlankArea/>\r\n    <Grid key=\"jp1\" container >\r\n      <Grid item xs={6} sm={6} md={6} lg={6} >\r\n        <JumpButton page={process.env.REACT_APP_HOME} text=\"Home\" />\r\n      </Grid>\r\n      <Grid item xs={6} sm={6} md={6} lg={6} >\r\n        <JumpButton page={process.env.REACT_APP_WALLET} text=\"Wallet\" />\r\n      </Grid>\r\n    </Grid>\r\n    </div>\r\n    <ValidComp/>    \r\n    </Container>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport {blue }  from '@material-ui/core/colors';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\n\r\n\r\nconst BlueCheckbox = withStyles({\r\n    root: {\r\n      color: blue[700],\r\n      '&$checked': {\r\n        color: blue[700],\r\n      },\r\n    },\r\n    checked: {},\r\n  })((props) => <Checkbox color=\"default\" {...props} />);\r\n\r\n  export default BlueCheckbox;\r\n  ","import { ThemeProvider } from \"@material-ui/styles\";\r\n\r\n\r\nconst modalStyles = {\r\n\tcontent : {\r\n\t\ttop                   : '50%',\r\n\t\tleft                  : '50%',\r\n\t\tright                 : 'auto',\r\n\t\tbottom                : 'auto',\r\n\t\tmarginRight           : '-50%',\r\n\t\tmarginBottom          : '-50%',\r\n\t\ttransform             : 'translate(-50%, -50%)',\r\n\t\tbackground            : '#FFFFFF',        //'#E0E0E0',\r\n\t\tcolor                 : '#000000',\r\n\t\ttransparent           : false,  \r\n\t\tborderColor: 'black',\r\n\t\tborderStyle: 'solid',\r\n\t\tborderRadius: 7,\r\n\t\tborderWidth: 2,\r\n\t}\r\n};\r\n  \r\nexport default modalStyles;\r\n","import React, { useState, useEffect} from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Button from '@material-ui/core/Button';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport BlueCheckbox from 'components/CheckBox/BlueCheckbox';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n// import TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\n// import Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\n// import Table from \"components/Table/Table.js\";\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport Container from '@material-ui/core/Container';\r\nimport axios from \"axios\";\r\nimport useScript from './useScript';\r\nimport { setTab }from \"CustomComponents/CricDreamTabs\";\r\nimport { BlankArea, JumpButton2, \r\n  DisplayCancel,\r\n  DisplayBalance,\r\n} from 'CustomComponents/CustomComponents';\r\nimport Modal from 'react-modal';\r\nimport modalStyles from 'assets/modalStyles';\r\nimport {\r\n  validateSpecialCharacters, validateEmail, cdRefresh, validateInteger, validateUpi,\r\n  encrypt, decrypt,\r\n  ifscBank, ifscBranch, ifscCity, ifscNeft, \r\n  validateAadhar,\r\n} from \"views/functions.js\";\r\nimport { Divider } from '@material-ui/core';\r\nimport { blue, red, brown, deepOrange } from '@material-ui/core/colors';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  saveText: {\r\n    color: blue[900],\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  },\r\n  note1: {\r\n    color: brown[900],\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    fontSize: theme.typography.pxToRem(14),\r\n  },\r\n  note2: {\r\n    color: blue[900],\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    fontSize: theme.typography.pxToRem(14),\r\n  },\r\n  useBank: {\r\n    color: blue[900],\r\n    fontSize: theme.typography.pxToRem(20),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  },\r\n  root: {\r\n    width: '100%',\r\n    // backgroundColor: '#84FFFF'\r\n    // backgroundColor: '#A1887F'\r\n  },\r\n  withTopSpacing: {\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  jumpButton: {\r\n    marginTop: theme.spacing(1),\r\n    backgroundColor: '#FFFFFF',\r\n    color: deepOrange[700],\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    fontSize: '16px',\r\n    width: theme.spacing(40),\r\n  },\r\n  dashButton: {\r\n    // marginRight: theme.spacing(2),\r\n    //marginLeft: theme.spacing(2),\r\n  },\r\n  new: {\r\n    fontSize: theme.typography.pxToRem(20),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    color: blue[900],\r\n  },\r\n  text: {\r\n    //backgroundColor: '#FFFF00',\r\n    color: '#FFFFFF',\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  },  \r\n  data: {\r\n    // backgroundColor: '#FFFF00',\r\n    color: '#FFFFFF',\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  },  \r\n  ngCard: {\r\n    fontSize: theme.typography.pxToRem(16),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    color: deepOrange[900],\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    flexBasis: '33.33%',\r\n    flexShrink: 0,\r\n  },\r\n  secondaryHeading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  groupName:  {\r\n    // right: 0,\r\n    fontSize: '16px',\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    color: deepOrange[700],\r\n    alignItems: 'center',\r\n    marginTop: '0px',\r\n  },\r\n  error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n  },\r\n  updatemsg:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: blue[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n  },\r\n  hdrText:  {\r\n      // right: 0,\r\n      // fontSize: '12px',\r\n      // color: red[700],\r\n      // // position: 'absolute',\r\n      align: 'center',\r\n      marginTop: '0px',\r\n      marginBottom: '0px',\r\n  },\r\n}));\r\n\r\n\r\nexport default function WithdrawWallet(props) {\r\n\r\n  //const history = useHistory();\r\n  const classes = useStyles();\r\n  const gClasses = globalStyles();\r\n\r\n  const [error, setError] = useState({});\r\n  const [helperText, setHelperText] = useState({});\r\n  const [modalIsOpen,setIsOpen] = useState(false);\r\n\r\n  const [balance, setBalance] = useState({wallet: 0, bonus: 0});\r\n  // const [transactions, setTransactions] = useState([]);\r\n\r\n  const [amount, setAmount] = useState(1);\r\n  const [account, setAccount] = useState(\"\");\r\n\tconst [repeatAccount, setRepeatAccount] = useState(\"\");\r\n\tconst [ifsc, setIfsc] = useState(\"\");\r\n\r\n  const [name, setName] = useState(\"\");\r\n  // const [aadhar, setAadhar] = useState(\"\")\r\n\r\n  const [upi, setUpi] = useState(\"\");\r\n  const [useBank, setUseBank] = useState(true);\r\n\r\n  const [bank, setBank] = useState(\"\");\r\n\tconst [branch, setBranch] = useState(\"\");\r\n\tconst [city, setCity] = useState(\"\");\r\n  const [saveData, setSaveData] = useState(false);\r\n\r\n  const [updateInProgress, setUpdateInProgress] = useState(false);\r\n\r\n  // const [kycPending, setKycPending]  = useState(false);\r\n  // const [submitText, setSubmitText] = useState(\"Submit\")\r\n  const [registerStatus, setRegisterStatus] = useState(0);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n\tif (localStorage.getItem(\"saveBalance\"))\r\n      setBalance(JSON.parse(localStorage.getItem(\"saveBalance\")));\r\n\t\r\n    const walletInfo = async () => {\r\n      try {\r\n        let response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/wallet/balance/${localStorage.getItem(\"uid\")}`);\r\n        setBalance(response.data);\r\n\t\tlocalStorage.setItem(\"saveBalance\", JSON.stringify(response.data));\r\n      } catch (e) {\r\n          console.log(e)\r\n      }\r\n    }\r\n    const bankDetails = async () => {\r\n      try {\r\n        // get user details\r\n        // get wallet transaction and also calculate balance\r\n        var response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/kyc/details/${localStorage.getItem(\"uid\")}`);\r\n        //console.log(response.data);\r\n        //console.log(response.data.userName, response.data.bankAccount, response.data.bankIFSC);\r\n        \r\n        // db uses useUpi.  In this  form we are using useBank\r\n        setUseBank(!response.data.use);\r\n\r\n        let tmp = decrypt(response.data.bdata).split(\"-\");\r\n        //console.log(tmp.length);\r\n        if (tmp.length === 3) {\r\n          setName(tmp[0]);\r\n          setAccount(tmp[1]);\r\n          setRepeatAccount(tmp[1]);\r\n          setIfsc(tmp[2])\r\n        }\r\n\r\n        tmp = decrypt(response.data.udata).split(\"-\");\r\n        //console.log(tmp.length);\r\n        if (tmp.length === 3) {\r\n          setUpi(tmp[1]);\r\n        }\r\n\r\n        console.log(response.data);\r\n\r\n      } catch (e) {\r\n          console.log(e)\r\n      }\r\n    }\r\n    walletInfo();\r\n    bankDetails();\r\n  }, []);\r\n\r\n\r\n  function openModal() { setIsOpen(true); }\r\n   \r\n  function afterOpenModal() {\r\n    // references are now sync'd and can be accessed.\r\n    //subtitle.style.color = '#f00';\r\n  }\r\n \r\n  function closeModal(){ console.log(\"Close\"); setIsOpen(false); }\r\n\r\n  function ShowResisterStatus() {\r\n    let myMsg;\r\n    let errmsg = true;\r\n    switch (registerStatus) {\r\n      case 1001:\r\n        myMsg = 'Error regsitering withdrawal';\r\n      break;\r\n      case 200:\r\n        myMsg = `Successfully updated withdrawal of amount ${amount}`;\r\n        errmsg = false;\r\n      break;\r\n      case 1100:\r\n        myMsg = `Updating Withdrawal details.`;\r\n        errmsg = false;\r\n      break;\r\n      case 1101:\r\n        myMsg = `Saving Bank details for future transaction.`;\r\n        errmsg = false;\r\n      break;\r\n      case 0:\r\n        myMsg = ``;\r\n        errmsg = false;\r\n      break;      \r\n      default:\r\n        myMsg = `Unknown error code ${registerStatus}`;\r\n        break;\r\n    }\r\n    let myClass = (errmsg) ? gClasses.error : gClasses.nonerror;\r\n    return(\r\n      <div>\r\n        <Typography className={myClass}>{myMsg}</Typography>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  function getInput() {\r\n    //let aadStr =  document.getElementById(\"aadhar\").value;\r\n    let namStr = document.getElementById(\"name\").value;\r\n\t\tlet accStr = document.getElementById(\"account\").value;\r\n    let repAccStr = document.getElementById(\"repeatAccount\").value;\r\n\t\tlet ifscStr = document.getElementById(\"ifsc\").value.toUpperCase();\r\n\t\t\r\n    //setAadhar(aadStr);\r\n    setName(namStr);\r\n\t\tsetAccount(accStr);\r\n    setRepeatAccount(repAccStr);\r\n\t\tsetIfsc(ifscStr);\r\n\t\treturn {\r\n      //aadhar: aadStr,\r\n      name: namStr,\r\n\t\t  account: accStr,\r\n      repeatAccount: repAccStr,\r\n\t\t  ifsc: ifscStr,\r\n\t\t};\r\n  }\r\n\t\r\n  async function validate(eid, eid2) {\r\n    getInput();\r\n    let e = document.getElementById(eid);\r\n    let myValue = e.value; \r\n    //console.log(eid, myValue);\r\n    let newError=false;\r\n    let newText = \"\";\r\n    let sts;\r\n\r\n    // eslint-disable-next-line default-case\r\n    switch (eid) {\r\n      case \"amount\":\r\n        let amt = parseInt(myValue);\r\n        if (!validateInteger(myValue)) {\r\n          newError = true;\r\n          newText = 'Amount should in multiple of Rupees';\r\n        } else if (amt <= 0) {\r\n          newError = true;\r\n          newText = 'Withdrawal amount should be greater than 0';\r\n        } else if (amt > balance) {\r\n          newError = true;\r\n          newText = `Withdrawal amount  cannot exceed ${balance}`;\r\n        }\r\n      break;\r\n      case \"aadhar\":\r\n        sts = await validateAadhar(myValue);\r\n        //console.log(\"Aadhar Check:\", sts);\r\n        if (!sts) {\r\n          newError = true;\r\n          newText = 'Invalid Aadhar Number';\r\n        } \r\n      break;\r\n      case \"upi\":\r\n        sts = await validateUpi(myValue);\r\n        if (!sts) {\r\n          newError = true;\r\n          newText = 'Invalid UPI Code';\r\n        } \r\n      break;\r\n      case \"name\":\r\n        if (!validateSpecialCharacters(myValue)) {\r\n          newError = true;\r\n          newText = 'Special characters not permitted';\r\n        } \r\n      break;\r\n      case \"account\":\r\n        if (!validateInteger(myValue)) {\r\n          newError = true;\r\n          newText = \"Account Number has to be numberic\";\r\n        }\r\n      break;\r\n      case \"repeatAccount\":\r\n        let orgAcc = document.getElementById(eid2).value;\r\n        if (myValue !== orgAcc) {\r\n          newError = true;\r\n          newText = \"Account Number mismatch\";\r\n        }\r\n      break;\r\n      case \"ifsc\":\r\n      //console.log(\"Setting ifsc as \", myValue);\r\n      // setPassword(myValue);\r\n      let mybank = await ifscBank(myValue);\r\n      if (mybank === \"\") {\r\n        newError = true;\r\n        newText = 'Invalid IFSC Code';\r\n      } else if (!ifscNeft(myValue)) {\r\n        newError = true;\r\n        newText = 'Neft not enabled';\r\n      }\r\n      break;\r\n    }\r\n  \r\n    let x = {};\r\n    x[eid] = newError;\r\n    setError(x);\r\n    \r\n    x = {};\r\n    x[eid] = newText;\r\n    setHelperText(x);\r\n    //console.log(x);\r\n\r\n    e.focus();\r\n    // console.log(\"Iserror\",newError)\r\n    return newError;\r\n  }\r\n\t\r\n  const handleChange = (event) => {\r\n    setUseBank(event.target.checked);\r\n  }\r\n\r\n  const setBankMode = (event) => {\r\n    // console.log(\"Bank mode\", event.target.checked)\r\n    setUseBank(event.target.checked ? true : false);\r\n  }\r\n  \r\n  const setUpiMode = (event) => {\r\n    // console.log(\"upi mode\", event.target.checked)\r\n    setUseBank(event.target.checked ? false : true);\r\n    \r\n  }\r\n\r\n\tconst handleSubmit = async() => {\r\n\t\t//let x = getInput();\r\n\t\tlet sts;\r\n    setRegisterStatus(0);\r\n    // sts = await validate(\"aadhar\");\r\n    // if (sts) return;\r\n    \r\n    sts = await validate(\"amount\")\r\n\t\tif (sts) return;\r\n\r\n    sts = await validate(\"name\")\r\n    if (sts) return;\r\n\r\n    if (!useBank) {\r\n      sts = await validate(\"upi\")\r\n\t\t  if (sts) return;\r\n    } else {\r\n      sts = await validate(\"account\")\r\n      if (sts) return;\r\n      sts = await validate(\"repeatAccount\", \"account\")\r\n      if (sts) return;\r\n      sts = await validate(\"ifsc\")\r\n      if (sts) return;\r\n      let code = ifsc.toUpperCase();\r\n      let tmp = await ifscBank(code);\r\n      setBank(tmp);\r\n      tmp = await ifscBranch(code);\r\n      setBranch(tmp);\r\n      tmp = await ifscCity(code)\r\n      setCity(tmp);\r\n    }\r\n\t\r\n\r\n\r\n    setMessage( (saveData) ?\r\n      ((useBank) ? \"BANK\" : \"UPI\") + \" details to be saved\" :\r\n      \"Do not save BANK / UPI details\"\r\n    )\r\n\r\n    console.log(\"Valid thru\");\r\n\r\n    openModal();\r\n  }\r\n\t\r\n\r\n  function WalletButton() {\r\n    return (\r\n      <JumpButton2 \r\n        page1={process.env.REACT_APP_HOME} text1=\"Home\"\r\n        page2={process.env.REACT_APP_WALLET} text2=\"Wallet\" \r\n      />\r\n    )\r\n  }\r\n\r\n  async function handleConfirm() {\r\n    setUpdateInProgress(true);\r\n    closeModal();\r\n    // alert(\"Confirmed by user. Refund to be initiated\")\r\n    try {\r\n      // set withdraw\r\n      setRegisterStatus(1100);\r\n      let details, datatype;\r\n\r\n      if (useBank) {\r\n        details = encrypt(`${name}-${account}-${ifsc}`);\r\n        datatype = 'bdata';\r\n      } else {\r\n        details = encrypt(`${name}-${upi}-UPI`);\r\n        datatype = 'udata';\r\n      }\r\n\r\n\r\n      await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/wallet/withdraw/${localStorage.getItem(\"uid\")}/${amount}/${details}`);\r\n      setBalance(balance-amount);\r\n      setRegisterStatus(200);\r\n\r\n      // save bank details\r\n      //NOTE:  updatebakn has been rename to \"bdata\" for security reasons\r\n      if (saveData) {\r\n        setRegisterStatus(1101);\r\n        await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/kyc/${datatype}/${localStorage.getItem(\"uid\")}/${details}`);\r\n      }\r\n\r\n      setTab(process.env.REACT_APP_WALLET)\r\n    } catch (e) {\r\n      setUpdateInProgress(false);\r\n      console.log(\"error updating details\")\r\n      console.log(e)\r\n    }\r\n    //setSaveData(false);\r\n  }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n       <DisplayBalance wallet={balance.wallet} bonus={balance.bonus}/>\r\n      <CssBaseline />\r\n      <div className={gClasses.paper} align=\"center\">\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n        Withdraw from Wallet\r\n        </Typography>\r\n        <ValidatorForm className={gClasses.form} onSubmit={handleSubmit}>\r\n        {/* <TextValidator variant=\"outlined\" required fullWidth\r\n          id=\"aadhar\" label=\"Aadhar NUmber\" name=\"aadhar\"\r\n          defaultValue={aadhar}\r\n          onChange={(event) => setAadhar(event.target.value)}\r\n          error={error.aadhar}\r\n          helperText={helperText.aadhar}\r\n        />\r\n        <Divider /> */}\r\n        <TextValidator variant=\"outlined\" required fullWidth type=\"number\" min=\"1\" step=\"1\" \r\n          id=\"amount\" label=\"Withdrawal Amount\" name=\"amount\"\r\n          //defaultValue={amount}\r\n          value={amount}\r\n          onChange={(event) => setAmount(event.target.value)}\r\n          error={error.amount}\r\n          helperText={helperText.amount}\r\n          disabled={updateInProgress}\r\n        />    \r\n\t\t    <BlankArea/>\r\n        <TextValidator variant=\"outlined\" required fullWidth\r\n          id=\"name\" label=\"User Name\" name=\"name\"\r\n          //defaultValue={name}\r\n          value={name}\r\n          onChange={(event) => setName(event.target.value)}\r\n          error={error.name}\r\n          helperText={helperText.name}\r\n          disabled={updateInProgress}\r\n        />\r\n\t\t    <BlankArea/>\r\n        <div align=\"center\">\r\n        {/* <FormControlLabel align=\"left\" className={classes.useBank}\r\n          control={<Switch color=\"primary\" checked={useBank} onChange={handleChange} aria-label=\"login switch\" />}\r\n          labelPlacement='start'\r\n          label=\"Payment mode Bank\"\r\n        /> */}\r\n        <FormControlLabel className={classes.useBank}\r\n          control={<Radio color=\"primary\" checked={useBank} onClick={setBankMode} aria-label=\"login switch\" />}\r\n          labelPlacement='start'\r\n          label=\"Bank mode: \"\r\n        />\r\n        <FormControlLabel className={classes.useBank}\r\n          control={<Radio color=\"primary\" checked={!useBank} onClick={setUpiMode} aria-label=\"login switch\" />}\r\n          labelPlacement='start'\r\n          label=\"UPI mode: \"\r\n        />\r\n        </div>\r\n        <BlankArea/>\r\n        <div className={(useBank) ? gClasses.show : gClasses.hide}>\r\n        <TextValidator variant=\"outlined\" fullWidth  type=\"password\"\r\n          id=\"account\" label=\"Bank Account Number\" name=\"account\"\r\n          //defaultValue={account}\r\n          value={account}\r\n          onChange={(event) => setAccount(event.target.value)}\r\n          error={error.account}\r\n          helperText={helperText.account}\r\n          disabled={updateInProgress}\r\n          required={useBank}\r\n        />\r\n\t\t    <BlankArea/>\r\n        <TextValidator variant=\"outlined\" required fullWidth\r\n          id=\"repeatAccount\" label=\"Bank Account Number\" name=\"repeatAccount\"\r\n          //defaultValue={repeatAccount}\r\n          value={repeatAccount}\r\n          onChange={(event) => setRepeatAccount(event.target.value)}\r\n          error={error.repeatAccount}\r\n          helperText={helperText.repeatAccount}\r\n          disabled={updateInProgress}\r\n          required={useBank}\r\n        />\r\n\t\t    <BlankArea/>\r\n        <TextValidator variant=\"outlined\" required fullWidth\r\n          id=\"ifsc\" label=\"Bank IFSC Code\" name=\"ifsc\"\r\n          //defaultValue={ifsc}\r\n          value={ifsc}\r\n          onChange={(event) => setIfsc(event.target.value.toUpperCase())}\r\n          error={error.ifsc}\r\n          helperText={helperText.ifsc}\r\n          disabled={updateInProgress}\r\n          required={useBank}\r\n        />\r\n        </div>\r\n        <div className={(useBank) ? gClasses.hide : gClasses.show}>\r\n        <TextValidator variant=\"outlined\" required fullWidth\r\n          id=\"upi\" label=\"UPI Code\" name=\"upi\"\r\n          //defaultValue={ifsc}\r\n          value={upi}\r\n          onChange={(event) => setUpi(event.target.value.toLowerCase())}\r\n          error={error.upi}\r\n          helperText={helperText.upi}\r\n          disabled={updateInProgress}\r\n          required={!useBank}\r\n        />\r\n        </div>\r\n        <ShowResisterStatus/>\r\n\t\t    <BlankArea/>\r\n        <FormControlLabel align=\"left\" className={classes.saveText} \r\n          control={\r\n            <BlueCheckbox \r\n              checked={saveData}\r\n              onClick={() => setSaveData(event.target.checked)} \r\n              disabled={updateInProgress}\r\n              name=\"saveDetails\"  \r\n            />\r\n          }\r\n          label={\"Save \" + (useBank ? \"Bank\" : \"UPI\") + \" details for future transactions\"}\r\n        />\r\n\t\t    <BlankArea/>\r\n        <Typography  >\r\n        <span className={classes.note1}>Note: </span>\r\n        <span className={classes.note2}>Amount will be transferred in 2 working days.</span>\r\n        </Typography>\r\n        <Button  type=\"submit\" variant=\"contained\" color=\"primary\" className={gClasses.submit}\r\n          disabled={updateInProgress}\r\n        >\r\n        Withdraw\r\n        </Button>\r\n\t      </ValidatorForm>\r\n        <Modal\r\n            isOpen={modalIsOpen}\r\n            onAfterOpen={afterOpenModal}\r\n            onRequestClose={closeModal}\r\n            style={modalStyles}\r\n            contentLabel=\"Example Modal\"\r\n            ariaHideApp={false}\r\n          >\r\n          {/* <DisplayCancel onCancel={closeModal} /> */}\r\n          <Typography className={classes.new} align=\"center\">\r\n            Confirm Details\r\n          </Typography>\r\n          <BlankArea/>\r\n          {/* <Typography >\r\n            <span className={classes.text}>Aaadhar Number: </span>\r\n            <span className={classes.data}>{aadhar}</span>\r\n          </Typography> */}\r\n          <Typography >\r\n            <span className={classes.text}>Amount: </span>\r\n            <span className={classes.data}>{amount}</span>\r\n          </Typography>\r\n          {/* <BlankArea /> */}\r\n          <Typography >\r\n            <span className={classes.text}>Name: </span>\r\n            <span className={classes.data}>{name}</span>\r\n          </Typography>\r\n          {/* <BlankArea /> */}\r\n          <div className={useBank ? gClasses.show : gClasses.hide} >\r\n          <Typography >\r\n            <span className={classes.text}>A/C# </span>\r\n            <span className={classes.data}>{account}</span>\r\n          </Typography>\r\n          {/* <BlankArea /> */}\r\n          {/* <Typography >\r\n            <span className={classes.text}>Bank Details:</span>\r\n          </Typography> */}\r\n          {/* <BlankArea /> */}\r\n          <Typography>\r\n            <span className={classes.text}>Bank: </span>\r\n            <span className={classes.data}>{bank}</span>\r\n          </Typography>\r\n          <Typography >\r\n            <span className={classes.text}>Branch: </span>\r\n            <span className={classes.data}>{branch}</span>\r\n          </Typography>\r\n          <Typography >\r\n            <span className={classes.text}>IFSC Code: </span>\r\n            <span className={classes.data}>{ifsc}</span>\r\n          </Typography>\r\n          <Typography >\r\n            <span className={classes.text}>City: </span>\r\n            <span className={classes.data}>{city}</span>\r\n          </Typography>\r\n          </div>\r\n          <div className={useBank ? gClasses.hide : gClasses.show} >\r\n          <Typography >\r\n            <span className={classes.text}>UPI </span>\r\n            <span className={classes.data}>{upi}</span>\r\n          </Typography>\r\n          </div>\r\n          <BlankArea />\r\n          <Typography >\r\n            <span className={classes.data}>{message}</span>\r\n          </Typography>\r\n          <BlankArea/>\r\n          <Button align=\"center\" variant=\"contained\" color=\"primary\" size=\"medium\"\r\n            // className={classes.dashButton} \r\n            onClick={handleConfirm}>Confirm\r\n          </Button>\r\n        </Modal>\r\n        <BlankArea />\r\n        <WalletButton />\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState ,useContex, useEffect} from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport axios from \"axios\";\r\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport {blue, red, deepOrange, yellow } from '@material-ui/core/colors';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { \r\n  encrypt, decrypt,\r\n  validateSpecialCharacters, validateEmail, \r\n\tisMobile, getWindowDimensions, displayType, \r\n} from \"views/functions.js\";\r\nimport { BlankArea, ValidComp, DisplayPageHeader } from 'CustomComponents/CustomComponents.js';\r\nimport { setTab } from \"CustomComponents/CricDreamTabs.js\"\r\nimport { TextField, InputAdornment } from \"@material-ui/core\";\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\r\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined';\r\n\r\nimport globalStyles from \"assets/globalStyles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  icon : {\r\n    color: blue[900],\r\n    marginRight: theme.spacing(0),\r\n    marginLeft: theme.spacing(0),\r\n  },\r\n  userMessage: {\r\n    fontSize: theme.typography.pxToRem(10),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    // color: yellow[900]\r\n  },\r\n  userCode: {\r\n    fontSize: theme.typography.pxToRem(20),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    color: yellow[900]\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  textColor: {\r\n    color: blue[700],\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(20),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    color: blue[700]\r\n  },\r\n  helpMessage: {\r\n    fontSize: theme.typography.pxToRem(14),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    // color: yellow[900]\r\n  },\r\n  th: { \r\n    spacing: 0,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n    backgroundColor: '#EEEEEE', \r\n    color: deepOrange[700], \r\n    // border: \"1px solid black\",\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  },\r\n  td : {\r\n    spacing: 0,\r\n    // border: 5,\r\n    align: \"center\",\r\n    padding: \"none\",\r\n    height: 10,\r\n  },    \r\n}));\r\n\r\nconst spacing = \"5px\";\r\n\r\n\r\nexport default function Profile() {\r\n  const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n  const history = useHistory();\r\n\r\n\tconst [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\tconst [dispType, setDispType] = useState(\"lg\");\r\n\t\r\n  const [userCode, setUserCode] = useState(\"\");\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [groupName, setGroupName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [profile, setProfile] = useState(null);\r\n  const [registerStatus, setRegisterStatus] = useState(199);\r\n\r\n  const [balance, setBalance] = useState(0);\r\n  const [transactions, setTransactions] = useState([]);\r\n\r\n  const [currentPassword, setCurrentPassword] = useState(\"\");\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [repeatPassword, setRepeatPassword] = useState(\"\");\r\n\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\r\n  const [emptyRows, setEmptyRows] = React.useState(0);\r\n  const [page, setPage] = React.useState(0);\r\n\r\n  const [copyState, setCopyState] = useState({value: '', copied: false});\r\n\r\n  useEffect(() => {\r\n\t\tfunction handleResize() {\r\n\t\t\tlet myDim = getWindowDimensions();\r\n      setWindowDimensions(myDim);\r\n\t\t\t//let myRows = 0;\r\n\t\t\tlet defHeight = 100;\r\n      //console.log(displayType(myDim.width)) ;\r\n      setDispType(displayType(myDim.width));\r\n     \r\n\t\t\t//switch (displayType(myDim.width)) {\r\n\t\t\t//\tcase 'xs': myRows = 10; break;\r\n\t\t\t//\tcase 'sm': myRows = 24; break;\r\n\t\t\t//\tcase 'md': myRows = 36; break;\r\n\t\t\t//\tcase 'lg': myRows = 48; break;\r\n\t\t\t//}\r\n\t\t\t//console.log(myRows);\r\n\t\t\t//setROWSPERPAGE(myRows);\r\n\t\t}\r\n\r\n\r\n    const profileInfo = async () => {\r\n      try {\r\n        // get user details\r\n        var userRes = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/acagetbyid/${sessionStorage.getItem(\"uid\")}`);\r\n        setProfile(userRes.data); // master data for comparision if changed by user\r\n      } catch (e) {\r\n          console.log(e)\r\n      }\r\n    }\r\n    \r\n\t\tprofileInfo();\r\n\t\thandleResize();\r\n\t\twindow.addEventListener('resize', handleResize);\r\n\t\t\r\n  }, []);\r\n\r\n\r\n  const handleProfileSubmit = async() => {\r\n    console.log(\"Submit command provided\"); \r\n    let myUserName = document.getElementById(\"username\").value;\r\n    let myEmail = document.getElementById(\"email\").value;\r\n    console.log(myUserName, myEmail);\r\n    setUserName(myUserName);\r\n    setEmail(myEmail);\r\n\r\n    console.log(userName, email);\r\n\r\n    if (myUserName.length < 6) {\r\n      setRegisterStatus(1000);\r\n      return;\r\n    }\r\n\r\n    if (!validateSpecialCharacters(myUserName)) {\r\n      setRegisterStatus(1001);\r\n      return;\r\n    }\r\n\r\n\r\n    if (!validateEmail(myEmail)) {\r\n      setRegisterStatus(1002);\r\n      return;\r\n    }\r\n\r\n    // console.log(profile);\r\n\r\n    if ((profile.email !== myEmail) || (profile.userName !== userName)) {\r\n      // console.log(\"New EMail or user name\");\r\n      let tmp1 = encrypt(myEmail)\r\n      let response = await fetch(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/cricupdateprofile/${localStorage.getItem(\"uid\")}/${myUserName}/${tmp1}`);\r\n      \r\n      localStorage.setItem(\"userName\", myUserName);\r\n      setRegisterStatus(response.status);\r\n    }\r\n  }\r\n\r\n  function ShowResisterStatus() {\r\n    // console.log(`Status is ${registerStatus}`);\r\n    let myMsg;\r\n    switch (registerStatus) {\r\n      case 0:\r\n        myMsg = \"\";\r\n        break;\r\n      case 200:\r\n        myMsg = `User details successfully updated`;\r\n        break;\r\n      case 601:\r\n        myMsg = \"Invalid current password\";\r\n        break;\r\n      case 602:\r\n        myMsg = \"Email id already in use\";\r\n        break;\r\n      case 701:\r\n        myMsg = \"Incorrect current password\";\r\n        break;\r\n      case 702:\r\n        myMsg = \"New and repeat password mismatch\";\r\n        break;\r\n      case 703:\r\n          myMsg = \"Curent and  new password are identical\";\r\n          break;\r\n      case 1000:\r\n        myMsg = \"Minimum 6 characters required\";\r\n        break;\r\n      case 1001:\r\n        myMsg = \"Special characters not permitted\";\r\n        break;\r\n      case 1002:\r\n        myMsg = \"Invalid Email id\";\r\n        break;\r\n      case 1003:\r\n        myMsg = \"Invalid current password\";\r\n        break;\r\n      case 199:\r\n        myMsg = ``;\r\n        break;\r\n      default:\r\n        myMsg = \"unKnown error\";\r\n        break;\r\n    }\r\n    return(\r\n      <Typography className={(registerStatus === 200) ? classes.root : classes.error}>{myMsg}</Typography>\r\n    )\r\n  }\r\n\r\n  function UserProfile() {\r\n    return (\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n\r\n\t\t\t</div>\r\n      </Container>\r\n    );\r\n  }   \r\n\r\n  function ShowAllWallet() {\r\n    return (\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">Wallet Balance: {balance}</Typography>\r\n        <Table>\r\n        <TableHead p={0}>\r\n            <TableRow align=\"center\">\r\n            <TableCell className={classes.th} p={0} align=\"center\">Date</TableCell>      \r\n            <TableCell className={classes.th} p={0} align=\"center\">Type</TableCell>\r\n            <TableCell className={classes.th} p={0} align=\"center\">Amount</TableCell>\r\n            </TableRow>\r\n        </TableHead>\r\n        < TableBody p={0}>\r\n            {transactions.map( (item, index) => {\r\n              return (\r\n                <TableRow key={index}>\r\n                  <TableCell  className={classes.td} p={0} align=\"center\" >\r\n                    {item.date}\r\n                  </TableCell>\r\n                  <TableCell  className={classes.td} p={0} align=\"center\" >\r\n                    {item.type}\r\n                  </TableCell>\r\n                  <TableCell  className={classes.td} p={0} align=\"center\" >\r\n                    {item.amount}\r\n                  </TableCell>\r\n                </TableRow>\r\n              )\r\n            })}\r\n        </TableBody> \r\n        </Table>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    event.preventDefault();\r\n    setPage(newPage);\r\n    let myempty = rowsPerPage - Math.min(rowsPerPage, transactions.length - newPage * rowsPerPage);\r\n    setEmptyRows(myempty);\r\n\r\n  };\r\n\r\n  function ShowWallet() {\r\n    return (\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">Wallet Balance: {balance}</Typography>\r\n        <TableContainer>\r\n        <Table>\r\n        <TableHead p={0}>\r\n            <TableRow align=\"center\">\r\n            <TableCell className={classes.th} p={0} align=\"center\">Date</TableCell>      \r\n            <TableCell className={classes.th} p={0} align=\"center\">Type</TableCell>\r\n            <TableCell className={classes.th} p={0} align=\"center\">Amount</TableCell>\r\n            </TableRow>\r\n        </TableHead>\r\n        < TableBody>\r\n            {transactions.slice(page * rowsPerPage, (page + 1) * rowsPerPage )\r\n            .map( (item, index) => {\r\n              return (\r\n                <TableRow key={index}>\r\n                  <TableCell  className={classes.td} p={0} align=\"center\" >\r\n                    {item.date}\r\n                  </TableCell>\r\n                  <TableCell  className={classes.td} p={0} align=\"center\" >\r\n                    {item.type}\r\n                  </TableCell>\r\n                  <TableCell  className={classes.td} p={0} align=\"center\" >\r\n                    {item.amount}\r\n                  </TableCell>\r\n                </TableRow>\r\n              )\r\n            })}\r\n        </TableBody> \r\n        </Table>\r\n        </TableContainer>\r\n        <TablePagination\r\n          rowsPerPageOptions={[5]}\r\n          component=\"div\"\r\n          count={transactions.length}\r\n          rowsPerPage={rowsPerPage}\r\n          page={page}\r\n          onChangePage={handleChangePage}\r\n          // onChangeRowsPerPage={handleChangeRowsPerPage}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\n  const handlePasswordSubmit = async() => {\r\n    console.log(\"Submit command provided\");\r\n    // let origPassword = document.getElementById(\"currentPassword\").value;\r\n    // let pass1 = document.getElementById(\"newPassword\").value;\r\n    // let pass2 = document.getElementById(\"repeatPassword\").value;\r\n    // console.log(origPassword, pass1, pass2);\r\n    // console.log(currentPassword, newPassword, repeatPassword);\r\n\r\n    // setCurrentPassword(origPassword)\r\n    // setNewPassword(pass1);\r\n    // setRepeatPassword(pass2);\r\n\r\n    let x = getInput();\r\n    if (validate(\"currentPassword\")) return;\r\n    if (validate(\"newPassword\")) return;\r\n    if (validate(\"repeatPassword\", \"newPassword\")) return;\r\n    setRegisterStatus(0);\r\n\r\n    let tmp1 = encrypt(x.currentPassword);\r\n    let tmp2 = encrypt(x.newPassword);\r\n\r\n    let response = await fetch(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/cricreset/${localStorage.getItem(\"uid\")}/${tmp1}/${tmp2}`);\r\n    if (response.status === 200) {\r\n      setRegisterStatus(200);\r\n    } else {\r\n      // error\r\n      setRegisterStatus(response.status);\r\n      console.log(`Status is ${response.status}`);\r\n    }\r\n  }\r\n\r\n   \r\n  const [error, setError] = useState({});\r\n  const [helperText, setHelperText] = useState({});\r\n  function validate(eid, eid2) {\r\n    getInput();\r\n    let e = document.getElementById(eid);\r\n    let myValue = e.value; \r\n    // console.log(eid, myValue);\r\n    let newError=false;\r\n    let newText = \"\";\r\n    \r\n    switch (eid) {\r\n      case \"currentPassword\":\r\n      case \"newPassword\":\r\n        if (!validateSpecialCharacters(myValue)) {\r\n          newError = true;\r\n          newText = 'Special characters not permitted';\r\n        } else if (myValue.length < 6) {\r\n          newError = true;\r\n          newText = \"Mimumum 6 characters required\";\r\n        }\r\n      break;\r\n      case \"repeatPassword\":\r\n        let myValue2 = document.getElementById(eid2).value;\r\n        // setRepeatPassword(myValue);\r\n        if (myValue !== myValue2) {\r\n          newError = true;\r\n          newText = 'Password mismatch';\r\n        } \r\n      break;\r\n    }\r\n    \r\n    let x = {};\r\n    x[eid] = newError;\r\n    setError(x);\r\n    \r\n    x = {};\r\n    x[eid] = newText;\r\n    setHelperText(x);\r\n\r\n    // e.focus();\r\n    return newError;\r\n  }\r\n\r\n\r\n  function getInput() {\r\n    let myName = document.getElementById(\"currentPassword\").value;\r\n    let myPass1 = document.getElementById(\"newPassword\").value;\r\n    let myPass2 = document.getElementById(\"repeatPassword\").value;\r\n    // console.log(myName, myPass1, myPass2);\r\n\r\n    setCurrentPassword(myName);\r\n    setNewPassword(myPass1);\r\n    setRepeatPassword(myPass2);\r\n    return {\r\n      currentPassword: myName,\r\n      newPassword: myPass1,\r\n      repeatPassword: myPass2\r\n    }\r\n  }\r\n\r\n  const [showPass0, setShowPass0] = useState(false);\r\n  const [showPass1, setShowPass1] = useState(false);\r\n  const [showPass2, setShowPass2] = useState(false);\r\n\r\n  function handleVisibility0(isVisible) {\r\n    // console.log(\"In visisble 0\", isVisible);\r\n    getInput();\r\n    setShowPass0(isVisible);\r\n    // let e = document.getElementById('password');\r\n    // e.focus();\r\n  }\r\n\r\n  function handleVisibility1(isVisible) {\r\n    // console.log(\"In visisble 1\", isVisible);\r\n    getInput();\r\n    setShowPass1(isVisible);\r\n    // let e = document.getElementById('password');\r\n    // e.focus();\r\n  }\r\n\r\n  function handleVisibility2(isVisible) {\r\n    // console.log(\"In visisble 1\", isVisible);\r\n    getInput();\r\n    setShowPass2(isVisible);\r\n    // let e = document.getElementById('password');\r\n    // e.focus();\r\n  }\r\n\r\n  function Password0NonMobile() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"currentPassword\" label=\"Current Password\" type=\"password\"\r\n      defaultValue={currentPassword}\r\n      // onChange={(event) => validate(\"password\")}\r\n      error={error.currentPassword}\r\n      helperText={helperText.currentPassword}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n\r\n  function Password1NonMobile() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"newPassword\" label=\"New Password\" type=\"password\"\r\n      defaultValue={newPassword}\r\n      // onChange={(event) => validate(\"newPassword\")}\r\n      error={error.newPassword}\r\n      helperText={helperText.newPassword}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n  function Password2NonMobile() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"repeatPassword\" label=\"New Password\" type=\"password\"\r\n      defaultValue={repeatPassword}\r\n      // onChange={(event) => validate(\"repeatPassword\")}\r\n      error={error.repeatPassword}\r\n      helperText={helperText.repeatPassword}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n  function Password0Text() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"currentPassword\" label=\"Current Password\" type=\"text\"\r\n      defaultValue={currentPassword}\r\n      // onChange={(event) => validate(\"currentPassword\")}\r\n      error={error.currentPassword}\r\n      helperText={helperText.currentPassword}\r\n      InputProps={{\r\n        endAdornment: (\r\n          <InputAdornment position=\"end\">\r\n            <VisibilityOffIcon onClick={() => { handleVisibility0(false); }} />\r\n          </InputAdornment>\r\n        ),\r\n      }}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n\r\n  function Password1Text() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"newPassword\" label=\"New Password\" type=\"text\"\r\n      defaultValue={newPassword}\r\n      // onChange={(event) => validate(\"newPassword\")}\r\n      error={error.newPassword}\r\n      helperText={helperText.newPassword}\r\n      InputProps={{\r\n        endAdornment: (\r\n          <InputAdornment position=\"end\">\r\n            <VisibilityOffIcon onClick={() => { handleVisibility1(false); }} />\r\n          </InputAdornment>\r\n        ),\r\n      }}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n  function Password2Text() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"repeatPassword\" label=\"New Password\" type=\"text\"\r\n      defaultValue={repeatPassword}\r\n      // onChange={(event) => validate(\"repeatPassword\")}\r\n      error={error.repeatPassword}\r\n      helperText={helperText.repeatPassword}\r\n      InputProps={{\r\n        endAdornment: (\r\n          <InputAdornment position=\"end\">\r\n            <VisibilityOffIcon onClick={() => { handleVisibility2(false); }} />\r\n          </InputAdornment>\r\n        ),\r\n      }}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n  function Password0Password() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"currentPassword\" label=\"Current Password\" type=\"password\"\r\n      defaultValue={currentPassword}\r\n      // onChange={(event) => validate(\"currentPassword\")}\r\n      error={error.currentPassword}\r\n      helperText={helperText.currentPassword}\r\n      InputProps={{\r\n        endAdornment: (\r\n          <InputAdornment position=\"end\">\r\n            <VisibilityIcon onClick={() => { handleVisibility0(true); }} />\r\n          </InputAdornment>\r\n        ),\r\n      }}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n  function Password1Password() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"newPassword\" label=\"New Password\" type=\"password\"\r\n      defaultValue={newPassword}\r\n      // onChange={(event) => validate(\"newPassword\")}\r\n      error={error.newPassword}\r\n      helperText={helperText.newPassword}\r\n      InputProps={{\r\n        endAdornment: (\r\n          <InputAdornment position=\"end\">\r\n            <VisibilityIcon onClick={() => { handleVisibility1(true); }} />\r\n          </InputAdornment>\r\n        ),\r\n      }}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n  function Password2Password() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"repeatPassword\" label=\"Repeat Password\" type=\"password\"\r\n      defaultValue={repeatPassword}\r\n      // onChange={(event) => validate(\"repeatPassword\")}\r\n      error={error.repeatPassword}\r\n      helperText={helperText.repeatPassword}\r\n      InputProps={{\r\n        endAdornment: (\r\n          <InputAdornment position=\"end\">\r\n            <VisibilityIcon onClick={() => { handleVisibility2(true); }} />\r\n          </InputAdornment>\r\n        ),\r\n      }}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n  function DisplayPassword0() {\r\n    // let tmp = isMobile();\r\n    // console.log(\"is mobile0\", tmp);\r\n    if (isMobile()) {\r\n      if (showPass0) {\r\n        return <Password0Text />\r\n      } else {\r\n        return <Password0Password />\r\n      }\r\n    } else {\r\n      return <Password0NonMobile />\r\n    }\r\n  }\r\n\r\n  function DisplayPassword1() {\r\n    // let tmp = isMobile();\r\n    // console.log(\"is mobile1\", tmp);\r\n    if (isMobile()) {\r\n      if (showPass1) {\r\n        return <Password1Text />\r\n      } else {\r\n        return <Password1Password />\r\n      }\r\n    } else {\r\n      return <Password1NonMobile />\r\n    }\r\n  }\r\n\r\n  function DisplayPassword2() {\r\n    // let tmp = isMobile();\r\n    // console.log(\"is mobile2\", tmp);\r\n    if (isMobile()) {\r\n      if (showPass2) {\r\n        return <Password2Text />\r\n      } else {\r\n        return <Password2Password />\r\n      }\r\n    } else {\r\n      return <Password2NonMobile />\r\n    }\r\n  }\r\n\r\n  function ShowPassword() {\r\n    return (\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">Change Password</Typography>\r\n        <ValidatorForm className={classes.form} onSubmit={handlePasswordSubmit}>\r\n        <DisplayPassword0 />\r\n        <BlankArea/>\r\n        <DisplayPassword1 />\r\n        <BlankArea/>\r\n        <DisplayPassword2 />\r\n        <ShowResisterStatus/>\r\n        <BlankArea/>\r\n        <Button\r\n          type=\"submit\"\r\n          fullWidth\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          className={classes.submit}\r\n        >\r\n          Update\r\n      </Button>\r\n      </ValidatorForm>\r\n      </div>\r\n      <ValidComp p1={newPassword}/>    \r\n      </Container>\r\n    );  \r\n  }\r\n\r\n  const [expandedPanel, setExpandedPanel] = useState(\"\");\r\n  const handleAccordionChange = (panel) => (event, isExpanded) => {\r\n    setExpandedPanel(isExpanded ? panel : false);\r\n    setRegisterStatus(0);\r\n  };\r\n\r\n  function DisplayUserCode() {\r\n    let myText = copyState.value\r\n    //console.log(\"in user code\");\r\n    return (\r\n        <div>\r\n          {/* <BlankArea/> */}\r\n          <Typography><span className={classes.userMessage}>Share Referral code with your friends and earn bonus </span></Typography>\r\n          <BlankArea/>\r\n          <Typography className={classes.userCode}>{userCode}</Typography>\r\n          <BlankArea/>\r\n          <CopyToClipboard text={myText}\r\n              onCopy={() => setCopyState({copied: true})}>\r\n              <button>Copy to clipboard</button>\r\n          </CopyToClipboard>\r\n          {copyState.copied ? <span style={{color: 'blue'}}>Copied.</span> : null}\r\n        </div>       \r\n      )\r\n  }\r\n  \r\n  function handleInfo() {\r\n    alert(\"scheme info to be displayed\");\r\n  }\r\n\r\n  function DisplayAccordian() {\r\n  return (\r\n    <div>\r\n    <Typography align=\"left\" className={classes.helpMessage}>Update Profile</Typography>\r\n    <Accordion expanded={expandedPanel === \"userprofile\"} onChange={handleAccordionChange(\"userprofile\")}>\r\n      <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n        <Typography className={classes.heading}>View/Edit Profile</Typography>\r\n      </AccordionSummary>\r\n      <AccordionDetails>\r\n        <UserProfile />\r\n      </AccordionDetails>\r\n    </Accordion>\r\n    <BlankArea />\r\n    {/* <Accordion expanded={expandedPanel === \"wallet\"} onChange={handleAccordionChange(\"wallet\")}>\r\n      <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n          <Typography className={classes.heading}>Wallet Details</Typography>\r\n      </AccordionSummary>\r\n      <AccordionDetails>\r\n        <ShowWallet />\r\n      </AccordionDetails>\r\n    </Accordion>\r\n    <Typography align=\"left\" className={classes.helpMessage}>View Wallet details</Typography>\r\n    <BlankArea /> */}\r\n    <Typography align=\"left\" className={classes.helpMessage}>Change Password</Typography>\r\n    <Accordion expanded={expandedPanel === \"password\"} onChange={handleAccordionChange(\"password\")}>\r\n      <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n        <Typography className={classes.heading}>Change Password</Typography>\r\n      </AccordionSummary>\r\n      <AccordionDetails>\r\n        <ShowPassword />\r\n      </AccordionDetails>\r\n    </Accordion>\r\n    <BlankArea />\r\n    {/*<Accordion expanded={expandedPanel === \"code\"} onChange={handleAccordionChange(\"code\")}>\r\n        <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n            <Typography className={classes.heading}>Referral Code</Typography>\r\n        </AccordionSummary>\r\n        <AccordionDetails>\r\n        <DisplayUserCode />\r\n      </AccordionDetails>\r\n    </Accordion>\r\n    <IconButton\r\n      aria-label=\"account of current group\"\r\n      aria-controls=\"group-appbar\"\r\n      aria-haspopup=\"true\"\r\n      onClick={handleInfo}\r\n      color=\"inherit\"\r\n      align=\"left\"\r\n    >\r\n      <Typography align=\"left\" className={classes.helpMessage}>Share Referral Code with friends and earn Bonus </Typography>\r\n    </IconButton>*/}\r\n    </div>\r\n  )\r\n  }\r\n\r\n\tif (!profile) return null;\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <BlankArea />\r\n      <DisplayPageHeader headerName={profile.displayName + \"\\`s Profile\"} groupName=\"\" tournament=\"\"/>\r\n      <BlankArea />\r\n\t\t\t<Grid key=\"ADDEDITPROFILE\" className={gClasses.noPadding} container >\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Name</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={7} sm={7} md={3} lg={1} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{profile.displayName}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: spacing}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t\t\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Mobile</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={7} sm={7} md={3} lg={1} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{profile.mobile}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: spacing}} item xs={12} sm={12} md={12} lg={12} />\r\n\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Email</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={7} sm={7} md={3} lg={1} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{decrypt(profile.email)}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: spacing}} item xs={12} sm={12} md={12} lg={12} />\r\n\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Role</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={7} sm={7} md={3} lg={1} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{profile.role}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: spacing}} item xs={12} sm={12} md={12} lg={12} />\r\n\r\n\t\t\t{((dispType !== \"xs\") && (dispType !== \"sm\")) &&\t\t\t\r\n\t\t\t\t<Grid item xs={1} sm={1} md={2} lg={4} />\r\n\t\t\t}\r\n\t\t\t<Grid item xs={5} sm={5} md={3} lg={2} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18Blue} >Address</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={7} sm={7} md={3} lg={1} >\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{profile.addr1}</Typography>\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{profile.addr2}</Typography>\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{profile.addr3}</Typography>\r\n\t\t\t\t<Typography align=\"left\"  className={gClasses.info18} >{profile.addr4}</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid style={{margin: spacing}} item xs={12} sm={12} md={12} lg={12} />\r\n\t\t</Grid>\r\n    </Container>\r\n  );\r\n\r\n}\r\n","import React, { useState ,useContext} from 'react';\r\n//import Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n// import TextField from '@material-ui/core/TextField';\r\n//import Link from '@material-ui/core/Link';\r\n//import { Switch, Route } from 'react-router-dom';\r\n// import Grid from '@material-ui/core/Grid';\r\n// import Box from '@material-ui/core/Box';\r\n//import LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\n//import { UserContext } from \"../../UserContext\";\r\n//import axios from \"axios\";\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport red from '@material-ui/core/colors/red';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { cdRefresh, encrypt} from \"views/functions.js\";\r\nimport { BlankArea, ValidComp } from 'CustomComponents/CustomComponents.js';\r\nimport { setTab } from \"CustomComponents/CricDreamTabs.js\"\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n  },\r\n}));\r\n\r\n/***\r\nclass ChildComp extends React.Component {\r\n\r\n  componentDidMount()  {\r\n    // custom rule will have name 'isPasswordMatch'\r\n    ValidatorForm.addValidationRule('isPasswordMatch', (value) => {\r\n      return (value === this.props.p1)\r\n    });\r\n\r\n    ValidatorForm.addValidationRule('minLength', (value) => {\r\n      return (value.length >= 6)\r\n    });\r\n\r\n    ValidatorForm.addValidationRule('noSpecialCharacters', (value) => {\r\n      return validateSpecialCharacters(value);\r\n    });\r\n\r\n    ValidatorForm.addValidationRule('isEmailOK', (value) => {\r\n      return validateEmail(value);\r\n    });\r\n  }\r\n\r\n  \r\n  componentWillUnmount() {\r\n    // remove rule when it is not needed\r\n    ValidatorForm.removeValidationRule('isPasswordMatch');\r\n    ValidatorForm.removeValidationRule('isEmailOK');\r\n    ValidatorForm.removeValidationRule('minLength');\r\n    ValidatorForm.removeValidationRule('noSpecialCharacters');   \r\n  }\r\n\r\n  render() {\r\n    return <br/>;\r\n  }\r\n\r\n}\r\n***/\r\n\r\n\r\n\r\nexport default function ChangePassword() {\r\n  const classes = useStyles();\r\n//  const history = useHistory();\r\n  // const [userName, setUserName] = useState(\"\");\r\n  const [currentPassword, setCurrentPassword] = useState(\"\");\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [repeatPassword, setRepeatPassword] = useState(\"\");\r\n  const [registerStatus, setRegisterStatus] = useState(199);\r\n\r\n  // const { setUser } = useContext(UserContext);\r\n\r\n  // const handleChange = (event) => {\r\n  //   const { user } = this.state;\r\n  //   user[event.target.name] = event.target.value;\r\n  //   this.setState({ user });\r\n  // }\r\n\r\n  const handleSubmit = async() => {\r\n    console.log(\"Submit command provided\");\r\n    if (currentPassword !== newPassword) {\r\n      let tmp1 = encrypt(currentPassword);\r\n      let tmp2 = encrypt(newPassword);\r\n      let response = await fetch(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/cricchangepassword/${localStorage.getItem(\"uid\")}/${tmp1}/${tmp2}`);\r\n      if (response.status === 200) {\r\n        setTab(0);\r\n      } else {\r\n        // error\r\n        setRegisterStatus(response.status);\r\n        console.log(`Status is ${response.status}`);\r\n      }\r\n    } else {\r\n      setRegisterStatus(611);\r\n    }\r\n  }\r\n\r\n\r\n  function ShowResisterStatus() {\r\n    // console.log(`Status is ${registerStatus}`);\r\n    let myMsg;\r\n    switch (registerStatus) {\r\n      case 199:\r\n        myMsg = ``;\r\n        break;\r\n      case 200:\r\n        myMsg = `Updated Password successfully.`;\r\n        break;\r\n      case 602:\r\n        myMsg = \"Invalid Current password\";\r\n        break;\r\n      case 611:\r\n        myMsg = \"New password cannot be same as Current Password\";\r\n        break;\r\n      default:\r\n        myMsg = \"Unknown Error\";\r\n        break;\r\n    }\r\n    return(\r\n      <Typography className={(registerStatus === 200) ? classes.root : classes.error}>{myMsg}</Typography>\r\n    )\r\n}\r\n\r\n  \r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n      <Typography component=\"h1\" variant=\"h5\">\r\n        Change Password\r\n      </Typography>\r\n      <ValidatorForm className={classes.form} onSubmit={handleSubmit}>\r\n      <TextValidator\r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth      \r\n          label=\"Current Password\"\r\n          onChange={(event) => setCurrentPassword(event.target.value)}\r\n          name=\"currentpassword\"\r\n          type=\"password\"\r\n          validators={['required', 'noSpecialCharacters']}\r\n          errorMessages={['Current Password to be provided', 'Special characters not permitted']}\r\n          value={currentPassword}\r\n      />\r\n      <BlankArea/>\r\n      <TextValidator\r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth      \r\n          label=\"Password\"\r\n          onChange={(event) => setNewPassword(event.target.value)}\r\n          name=\"password\"\r\n          type=\"password\"\r\n          validators={['required', 'minLength', 'noSpecialCharacters']}\r\n          errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n          value={newPassword}\r\n      />\r\n      <BlankArea/>\r\n      <TextValidator\r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth      \r\n          label=\"Repeat password\"\r\n          onChange={(event) => setRepeatPassword(event.target.value)}\r\n          name=\"repeatPassword\"\r\n          type=\"password\"\r\n          validators={['isPasswordMatch', 'required']}\r\n          errorMessages={['password mismatch', 'this field is required']}\r\n          value={repeatPassword}\r\n      />\r\n      <ShowResisterStatus/>\r\n      <BlankArea/>\r\n      <Button\r\n        type=\"submit\"\r\n        fullWidth\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        className={classes.submit}\r\n      >\r\n        Update\r\n    </Button>\r\n    </ValidatorForm>\r\n    </div>\r\n    <ValidComp p1={newPassword}/>    \r\n    </Container>\r\n  );\r\n}\r\n","import {\r\n  warningColor,\r\n  primaryColor,\r\n  dangerColor,\r\n  successColor,\r\n  infoColor,\r\n  roseColor,\r\n  grayColor,\r\n  defaultFont\r\n} from \"assets/jss/material-dashboard-react.js\";\r\n\r\nconst tableStyle = theme => ({\r\n  root: {\r\n    '& > *': {\r\n      borderBottom: 'unset',\r\n    }\r\n  },\r\n  warningTableHeader: {\r\n    color: warningColor[0]\r\n  },\r\n  primaryTableHeader: {\r\n    color: primaryColor[0]\r\n  },\r\n  dangerTableHeader: {\r\n    color: dangerColor[0]\r\n  },\r\n  successTableHeader: {\r\n    color: successColor[0]\r\n  },\r\n  infoTableHeader: {\r\n    color: infoColor[0]\r\n  },\r\n  roseTableHeader: {\r\n    color: roseColor[0]\r\n  },\r\n  grayTableHeader: {\r\n    color: grayColor[0]\r\n  },\r\n  table: {\r\n    marginBottom: \"0\",\r\n    width: \"100%\",\r\n    maxWidth: \"100%\",\r\n    backgroundColor: \"transparent\",\r\n    borderSpacing: \"0\",\r\n    borderCollapse: \"collapse\"\r\n  },\r\n  tableHeadCell: {\r\n    color: \"inherit\",\r\n    ...defaultFont,\r\n    \"&, &$tableCell\": {\r\n      fontSize: \"1em\"\r\n    }\r\n  },\r\n  tableCell: {\r\n    ...defaultFont,\r\n    lineHeight: \"1.42857143\",\r\n    padding: \"12px 8px\",\r\n    verticalAlign: \"middle\",\r\n    fontSize: \"0.8125rem\"\r\n  },\r\n  tableResponsive: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(3),\r\n    overflowX: \"auto\"\r\n  },\r\n  tableHeadRow: {\r\n    height: \"56px\",\r\n    color: \"inherit\",\r\n    display: \"table-row\",\r\n    outline: \"none\",\r\n    verticalAlign: \"middle\"\r\n  },\r\n  tableBodyRow: {\r\n    height: \"48px\",\r\n    color: \"inherit\",\r\n    display: \"table-row\",\r\n    outline: \"none\",\r\n    verticalAlign: \"middle\",\r\n    '& > *': {\r\n      borderBottom: 'unset',\r\n    }\r\n  }\r\n});\r\n\r\nexport default tableStyle;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Collapse from '@material-ui/core/Collapse';\r\n// core components\r\nimport styles from \"assets/jss/material-dashboard-react/components/tableStyle.js\";\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function CustomTable(props) {\r\n  const classes = useStyles();\r\n  const { tableKey, tableHead, tableData, tableHeaderColor } = props;\r\n  return (\r\n    <div className={classes.tableResponsive} key={tableKey}>\r\n      <Table className={classes.table} key={tableKey}>\r\n        {tableHead !== undefined ? (\r\n          <TableHead className={classes[tableHeaderColor + \"TableHeader\"]}>\r\n            <TableRow className={classes.tableHeadRow}>\r\n              {tableHead.map((prop, key) => {\r\n                return (\r\n                  <TableCell\r\n                    className={classes.tableCell + \" \" + classes.tableHeadCell}\r\n                    key={key}\r\n                  >\r\n                    {prop}\r\n                  </TableCell>\r\n                );\r\n              })}\r\n            </TableRow>\r\n          </TableHead>\r\n        ) : null}\r\n        <TableBody>\r\n          {tableData.map((prop, key) => {\r\n            return (\r\n              <React.Fragment>\r\n              <TableRow key={key} className={classes.TableBodyRow}>\r\n                {prop.data.map((prop, key) => {\r\n                  return (\r\n                    <TableCell className={classes.tableCell} key={key}>\r\n                      {prop}\r\n                    </TableCell>\r\n                  );\r\n                })}\r\n              </TableRow>\r\n              <TableRow key={key}  selected={true}>\r\n                {prop.collapse.map((prop, key) => {\r\n                  return (\r\n                    <TableCell key={key} style={{ paddingBottom: 0, paddingTop: 0 }}>\r\n                   <Collapse in={true} timeout=\"auto\" unmountOnExit>\r\n                     {prop}\r\n                   </Collapse>\r\n                    </TableCell>\r\n                  );\r\n                })}\r\n              </TableRow>\r\n              </React.Fragment>\r\n            );\r\n          })}\r\n        </TableBody>\r\n      </Table>\r\n    </div>\r\n  );\r\n}\r\n\r\nCustomTable.defaultProps = {\r\n  tableHeaderColor: \"gray\"\r\n};\r\n\r\nCustomTable.propTypes = {\r\n  tableHeaderColor: PropTypes.oneOf([\r\n    \"warning\",\r\n    \"primary\",\r\n    \"danger\",\r\n    \"success\",\r\n    \"info\",\r\n    \"rose\",\r\n    \"gray\"\r\n  ]),\r\n  tableHead: PropTypes.arrayOf(PropTypes.string),\r\n  tableData: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.string))\r\n};\r\n","import React, { useEffect, useState, useRef } from 'react';\r\nimport clsx from 'clsx';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport Avatar from '@material-ui/core/Avatar';\r\n// import { Player } from 'video-react';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Table from \"components/Table/Table.js\";\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {BlankArea} from \"CustomComponents/CustomComponents.js\"\r\n// import styles from \"assets/jss/material-dashboard-react/views/dashboardStyle.js\";\r\n//import socketIOClient from \"socket.io-client\";\r\nimport { DisplayPageHeader, DisplayVersion } from 'CustomComponents/CustomComponents.js';\r\nimport {currentAPLVersion, latestAPLVersion} from \"views/functions.js\";\r\nimport { blue, red } from '@material-ui/core/colors';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  card: {\r\n    backgroundColor: '#B3E5FC',\r\n  },\r\n  t20Card: {\r\n    backgroundColor: '#D3D3D3',\r\n  },\r\n  odiCard: {\r\n    backgroundColor: '#B3E5FC',\r\n  },\r\n  testCard: {\r\n    backgroundColor: '#FFC0CB',\r\n  },\r\n  note: {\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    fontStyle: \"italic\",\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(20),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    color: blue[800],\r\n  },\r\n  bold: {\r\n    fontSize: theme.typography.pxToRem(18),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  },\r\n  media: {\r\n    height: 0,\r\n    //paddingTop: '56.25%', // 16:9\r\n    paddingTop: '100%', // 16:9\r\n  },\r\n  expand: {\r\n    transform: 'rotate(0deg)',\r\n    marginLeft: 'auto',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    transform: 'rotate(180deg)',\r\n  },\r\n  avatar: {\r\n    backgroundColor: red[500],\r\n  },\r\n}));\r\n  \r\n\r\n\r\nexport default function About() { \r\n  const classes = useStyles();\r\n  const videoPlayer = useRef();\r\n  // const [expanded, setExpanded] = React.useState(false);\r\n   const [demoType, setDemoType] = useState(\"new\");\r\n   const [currentVersion, setCurrentVersion] = useState(\"\");\r\n   const [latestVersion, setLatestVersion] = useState(\"\");\r\n\r\n  const handleExpandClick = () => {\r\n    setExpanded(!expanded);\r\n  };\r\n\r\n\r\n  useEffect(() => {  \r\n    const getVersion = async () => { \r\n      let v1 = await currentAPLVersion();\r\n      let v2 = await latestAPLVersion();\r\n      setCurrentVersion(v1);\r\n      setLatestVersion(v2);   \r\n    }\r\n    getVersion()\r\n  }, []);\r\n\r\n\r\n  const [expandedPanel, setExpandedPanel] = useState(false);\r\n  const handleAccordionChange = (panel) => (event, isExpanded) => {\r\n    // console.log({ event, isExpanded });\r\n    setExpandedPanel(isExpanded ? panel : false);\r\n  };\r\n  \r\n  function DisplayImage(props) {\r\n    let imageName = `${process.env.PUBLIC_URL}/about/${props.image}`\r\n    return (\r\n    <div>\r\n    <CardMedia className={classes.media} image={imageName} title={props.title} />\r\n    <BlankArea/>\r\n    </div>\r\n    )\r\n  }\r\n\r\n    function DisplayVideo(props) {\r\n      let imageName = `${process.env.PUBLIC_URL}/about/${props.video}`\r\n      console.log(imageName);\r\n      return (\r\n      <Player\r\n        playsInline\r\n        // poster=\"/assets/poster.png\"\r\n        src={imageName}\r\n      />\r\n      )\r\n    }\r\n  \r\n  function DIsplayGif(props) {\r\n    let logo=`${process.env.PUBLIC_URL}/about/${props.gif}`;\r\n    return(\r\n    <div align=\"center\">\r\n    <img align=\"center\" src={logo} alt=\"loading...\" />\r\n    </div>\r\n    )\r\n  };\r\n\r\n  function Note() {\r\n    return (\r\n    <Typography className={classes.note}>Note:</Typography>\r\n    )}\r\n\r\n  function DisplayBold(props) {\r\n  return (\r\n    <Typography className={classes.bold} paragraph>{props.message}</Typography>  \r\n  )}\r\n\r\n  function DisplayHeader(props) {\r\n  return(\r\n    <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n    <Typography className={classes.heading}>{props.header}</Typography>\r\n    </AccordionSummary>   \r\n  )}\r\n  \r\n  function DisplayPoint(props) {\r\n  return (\r\n  <div>\r\n  <Grid key={props.akey} container>\r\n  <Grid item xs={8} sm={8} md={8} lg={8} >\r\n  <Typography>{props.akey}</Typography>\r\n  {/* <Typography paragraph>{props.value}</Typography> */}\r\n  </Grid>\r\n  <Grid item xs={4} sm={4} md={4} lg={4} >\r\n  <Typography>{props.value}</Typography>\r\n  </Grid>\r\n  </Grid>\r\n  </div> \r\n  )}\r\n\r\n  \r\n  function PS_Header(props) {\r\n  return(<h4 align=\"center\">{props.header}</h4>)\r\n  }\r\n\r\n  \r\n  function AboutAPL() {\r\n  return (\r\n    <Card className={classes.card}>\r\n    <CardContent>\r\n    <DisplayImage image=\"APLLOGO1.JPG\" title=\"About Auction Premier League\" />\r\n    {/* <DisplayVideo video=\"JOINGROUP.MP4\" /> */}\r\n\r\n    <Typography paragraph>\r\n      Auction Premier League is one of its kind application which lets you create group, auction players to create your own franchise.\r\n      </Typography>\r\n    <Typography paragraph>\r\n      You can create your own group with your friends and family and each of you can own a franchise and have a league of your own just like major leagues.\r\n      </Typography>\r\n    <Typography paragraph>\r\n      During  tournaments every player of your team will fetch you points as he performs in the matches and  your standing on the scoreboard will change accordingly.\r\n      </Typography>\r\n    <Typography paragraph>\r\n      So why wait? Create your own franchise and make watching cricket more enjoyable and interesting!!!\r\n      </Typography>\r\n    </CardContent>\r\n    </Card>\r\n  )}\r\n\r\n  function HowtoPlay() {\r\n    return (\r\n      <Card className={classes.card}>\r\n      <CardContent>\r\n      <Typography paragraph>\r\n      You need a Group to play along with friends and/or family.  One among you will create the Group and provide the GroupCode to others so that they can join the group using GroupCode.\r\n      </Typography>\r\n      <DisplayBold message=\"Create New Group\" />\r\n      {/* <DisplayImage image=\"FIRSTIMAGE1.JPG\"/> */}\r\n      <Typography paragraph>\r\n      Click on Group Icon and select New Group.\r\n      </Typography>\r\n      <DisplayImage image=\"CREATEGROUP.JPG\"/>\r\n      <Typography paragraph>\r\n      Provide your Group Name.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      Select number of member allowed in the group. The minimum number of members can be between 2 and 15.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      Select Group joining fee for each member. The minimum fee is 50.  User creating/joining group should be the fee amount in the wallet.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      APL keeps on adding the new tournaments. You need to select the tournament for you group.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      Finally click on Create to create the group. User who creates the group automatically becomes Administrator (or Owner) of that group.\r\n      </Typography>\r\n      <DisplayImage image=\"NEWGROUP2.JPG\"/>\r\n      <Typography paragraph>\r\n      Once group is successfully created, user can select the number of prizes (between 1 and 5).\r\n      </Typography>\r\n      <Typography paragraph>\r\n      APL provides unique Group Code which can be copied. This can be shared with your friends so that they can join the group.\r\n      </Typography>\r\n      <DisplayBold message=\"Join Group\" />\r\n      {/* <DisplayImage image=\"JOINGROUP.JPG\"/> */}\r\n      {/* <DIsplayGif gif=\"JOINGROUP1.GIF\" /> */}\r\n      <Typography paragraph>\r\n      One can join the group using Group Code (shared by your friend). The only requirement to join the group is Group Code and wallet balance.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      Click on Group icon and select Join Group.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      Enter Group Code and Click Join Group\r\n      </Typography>\r\n      <DisplayBold message=\"Multiple Groups\" />\r\n      <DisplayImage image=\"MYGROUP4.JPG\"/>\r\n      <Typography paragraph>\r\n      You can be member of many groups. Pages like Dashboard,  Auction,  Myteam,  Stats shows information of only 1 group which you set it as current group.\r\n      </Typography>\r\n      {/* <Typography paragraph>\r\n      You can also configure the group to be selected as current group on Login. This is be done by setting the group as default group (By selecting Def).\r\n      </Typography> */}\r\n      <DisplayBold message=\"Group Details\" />\r\n      <DisplayImage image=\"GROUPDETAILS2.JPG\"/>\r\n      <Typography paragraph>\r\n      If you want details of any group just click on Group icon and select Group Details. User can update their Franchise name.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      Group Admin has the permission to update group details. This can be done clicking Edit Button.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      Group Admin can also change the number of prizes in the range of 1 to 5.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      Group code is avaiable for the user to copy and share it with friends / family to join the group.\r\n      </Typography>\r\n      <DisplayBold message=\"Auction\" />\r\n      <Typography paragraph>\r\n      Once all the members have joined the group, the next step is to purchase tournament players by Auction. All the members are provided 1000 points to purchase players. Note that Auction will not start till all the members have joined the group.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      Click on Auction.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      In this Group Admin will be able to view button Start Auction. Other  members will get message Auction yet to start.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      Once auction has started, players details will be shown for auction. Members can bid using button for 5, 10, 15, 20, 25, 50, 70, 75, 100, and 200.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      Once bid amount is not increasing, Admin can sell the player to highest bidder using Sold button. The highest bidder will own this player and the bid amount will be deducted from the points.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      If no member is interested in buying the player, Admin can click on Unsold button to skip auction for this player.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      Once auction is complete, Admin will click on Stop Auction button. After this, all group members will get message indicating end of Auction.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      All the members can view the players purchased during auction by clicking on My Team tab.\r\n      </Typography>\r\n      <DisplayBold message=\"Select Captain and Vice Captain\" />\r\n      <Typography paragraph>\r\n      Click on Menu icon and select Captain.\r\n      </Typography>\r\n      <Typography paragraph>\r\n      Once all the members have created the team by purchasing players during Auction, user can select any player as Captain and Vice Captain.\r\n      </Typography>\r\n      </CardContent>\r\n      </Card>\r\n    )}\r\n  \r\n    // let myVideo = \"https://www.learningcontainer.com/wp-content/uploads/2020/05/sample-mp4-file.mp4\"\r\n    // let myVideo= \"https://www.youtube.com/watch?v=GwFsx5F3dGk\";\r\n    let myVideo = `${process.env.PUBLIC_URL}/video/AUCTION.MP4`;\r\n    \r\n    return (\r\n    <div className={classes.root}>\r\n\t\t\t<BlankArea/>\r\n      <DisplayPageHeader headerName=\"Auction Premier League (APL)\" groupName=\"\" tournament=\"\"/>\r\n      <BlankArea/>\r\n      <DisplayVersion text=\"Current APL Version\" version={currentVersion}/>\r\n\t\t\t{(process.env.REACT_APP_DEVICE === \"APK\") &&\r\n\t\t\t\t<DisplayVersion text=\"Latest APL  Version\" version={latestVersion}/>\r\n\t\t\t}\r\n      <BlankArea/>\r\n\t\t\t{/*\r\n      <Accordion expanded={expandedPanel === \"demo\"} onChange={handleAccordionChange(\"demo\")}>\r\n        <DisplayHeader header=\"How to Play demo\"/>\r\n        <AccordionDetails>\r\n        {/* <DisplayDemo /> }\r\n        <APLPlayer video={myVideo} />\r\n        {/* <DIsplayGif gif=\"SAMPLE.GIF\"/> }\r\n        </AccordionDetails>\r\n      </Accordion>\r\n      <Accordion expanded={expandedPanel === \"about\"} onChange={handleAccordionChange(\"about\")}>\r\n        <DisplayHeader header=\"Auction Permier League\"/>\r\n        <AccordionDetails>\r\n        <AboutAPL />\r\n        </AccordionDetails>\r\n      </Accordion>\r\n      <Accordion expanded={expandedPanel === \"HowtoPlay\"} onChange={handleAccordionChange(\"HowtoPlay\")}>\r\n        <DisplayHeader header=\"How to Play\" />\r\n        <AccordionDetails>\r\n        <HowtoPlay />\r\n        </AccordionDetails>\r\n      </Accordion>\r\n      <Accordion expanded={expandedPanel === \"pointsystem\"} onChange={handleAccordionChange(\"pointsystem\")}>\r\n        <DisplayHeader header=\"Point System\"/>\r\n        <AccordionDetails>\r\n        {/* <DisplayMatchType /> }\r\n        {/* <PointSystem /> }\r\n        <PsPage />\r\n        </AccordionDetails>\r\n      </Accordion>\r\n\t\t\t*/}\r\n    </div>\r\n  );\r\n}\r\n\r\n","import { grayColor } from \"assets/jss/material-dashboard-react.js\";\r\n\r\nconst cardFooterStyle = {\r\n  cardFooter: {\r\n    padding: \"0\",\r\n    paddingTop: \"10px\",\r\n    margin: \"0 15px 10px\",\r\n    borderRadius: \"0\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    display: \"flex\",\r\n    backgroundColor: \"transparent\",\r\n    border: \"0\"\r\n  },\r\n  cardFooterProfile: {\r\n    marginTop: \"-15px\"\r\n  },\r\n  cardFooterPlain: {\r\n    paddingLeft: \"5px\",\r\n    paddingRight: \"5px\",\r\n    backgroundColor: \"transparent\"\r\n  },\r\n  cardFooterStats: {\r\n    borderTop: \"1px solid \" + grayColor[10],\r\n    marginTop: \"20px\",\r\n    \"& svg\": {\r\n      position: \"relative\",\r\n      top: \"4px\",\r\n      marginRight: \"3px\",\r\n      marginLeft: \"3px\",\r\n      width: \"16px\",\r\n      height: \"16px\"\r\n    },\r\n    \"& .fab,& .fas,& .far,& .fal,& .material-icons\": {\r\n      fontSize: \"16px\",\r\n      position: \"relative\",\r\n      top: \"4px\",\r\n      marginRight: \"3px\",\r\n      marginLeft: \"3px\"\r\n    }\r\n  },\r\n  cardFooterChart: {\r\n    borderTop: \"1px solid \" + grayColor[10]\r\n  }\r\n};\r\n\r\nexport default cardFooterStyle;\r\n","import React from \"react\";\r\n// nodejs library that concatenates classes\r\nimport classNames from \"classnames\";\r\n// nodejs library to set properties for components\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n// @material-ui/icons\r\n\r\n// core components\r\nimport styles from \"assets/jss/material-dashboard-react/components/cardFooterStyle.js\";\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function CardFooter(props) {\r\n  const classes = useStyles();\r\n  const { className, children, plain, profile, stats, chart, ...rest } = props;\r\n  const cardFooterClasses = classNames({\r\n    [classes.cardFooter]: true,\r\n    [classes.cardFooterPlain]: plain,\r\n    [classes.cardFooterProfile]: profile,\r\n    [classes.cardFooterStats]: stats,\r\n    [classes.cardFooterChart]: chart,\r\n    [className]: className !== undefined\r\n  });\r\n  return (\r\n    <div className={cardFooterClasses} {...rest}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nCardFooter.propTypes = {\r\n  className: PropTypes.string,\r\n  plain: PropTypes.bool,\r\n  profile: PropTypes.bool,\r\n  stats: PropTypes.bool,\r\n  chart: PropTypes.bool,\r\n  children: PropTypes.node\r\n};\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport Container from '@material-ui/core/Container';\r\nimport { spacing } from '@material-ui/system';\r\nimport axios from \"axios\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport globalStyles from \"assets/globalStyles\";\r\n// import { Switch, Route, Link } from 'react-router-dom';\r\n\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select, { SelectChangeEvent } from '@material-ui/core/Select';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Box from '@material-ui/core/Box';\r\nimport { UserContext } from \"../../UserContext\";\r\nimport { DisplayPageHeader, BlankArea, JumpButton } from 'CustomComponents/CustomComponents.js';\r\nimport { encrypt, clearBackupData, hasGroup, upGradeRequired, downloadApk } from 'views/functions';\r\nimport { red, blue, deepOrange } from '@material-ui/core/colors';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardFooter from \"components/Card/CardFooter.js\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ArrowLeftIcon from '@material-ui/icons/ArrowLeft';\r\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Modal from 'react-modal';\r\nimport modalStyles from 'assets/modalStyles';\r\n\r\nimport VsButton from \"CustomComponents/VsButton\";\r\nimport VsCancel from \"CustomComponents/VsCancel\";\r\nimport VsRadio from \"CustomComponents/VsRadio\";\r\nimport VsSelect from \"CustomComponents/VsSelect\";\r\n\r\nimport {\r\n\tisAdmin, isFaculty, isManager,\r\n} from \"views/functions.js\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      width: '100%',\r\n      // backgroundColor: '#84FFFF'\r\n      // backgroundColor: '#A1887F'\r\n    },\r\n    withTopSpacing: {\r\n      marginTop: theme.spacing(1),\r\n    },\r\n    jumpButton: {\r\n      marginTop: theme.spacing(1),\r\n      backgroundColor: '#FFFFFF',\r\n      color: deepOrange[700],\r\n      fontWeight: theme.typography.fontWeightBold,\r\n      fontSize: '16px',\r\n      width: theme.spacing(40),\r\n    },\r\n  \r\n    dashButton: {\r\n      // marginRight: theme.spacing(2),\r\n      marginLeft: theme.spacing(2),\r\n    },\r\n    new: {\r\n      fontSize: theme.typography.pxToRem(20),\r\n      fontWeight: theme.typography.fontWeightBold,\r\n      color: '#FFFFFF'\r\n    },\r\n    whatIsNew: {\r\n      backgroundColor: '#B3E5FC',\r\n      color: '#000000',\r\n      fontWeight: theme.typography.fontWeightBold,\r\n    },  \r\n    ngCard: {\r\n      fontSize: theme.typography.pxToRem(16),\r\n      fontWeight: theme.typography.fontWeightBold,\r\n      color: deepOrange[900],\r\n    },\r\n    heading: {\r\n      fontSize: theme.typography.pxToRem(15),\r\n      flexBasis: '33.33%',\r\n      flexShrink: 0,\r\n    },\r\n    secondaryHeading: {\r\n      fontSize: theme.typography.pxToRem(15),\r\n      color: theme.palette.text.secondary,\r\n    },\r\n    groupName:  {\r\n      // right: 0,\r\n      fontSize: '16px',\r\n      fontWeight: theme.typography.fontWeightBold,\r\n      color: deepOrange[700],\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n    },\r\n    error:  {\r\n        // right: 0,\r\n        fontSize: '12px',\r\n        color: red[700],\r\n        alignItems: 'center',\r\n        marginTop: '0px',\r\n    },\r\n\t\tnonerror:  {\r\n\t\t\t// right: 0,\r\n\t\t\tfontSize: '12px',\r\n\t\t\tcolor: blue[700],\r\n\t\t\talignItems: 'center',\r\n\t\t\tmarginTop: '0px',\r\n\t\t\tfontWeight: theme.typography.fontWeightBold,\r\n    },\r\n    updatemsg:  {\r\n        // right: 0,\r\n        fontSize: '12px',\r\n        color: blue[700],\r\n        // position: 'absolute',\r\n        alignItems: 'center',\r\n        marginTop: '0px',\r\n    },\r\n    hdrText:  {\r\n        // right: 0,\r\n        // fontSize: '12px',\r\n        // color: red[700],\r\n        // // position: 'absolute',\r\n        align: 'center',\r\n        marginTop: '0px',\r\n        marginBottom: '0px',\r\n    },\r\n\r\n    }));\r\n\r\n\r\nconst LASTSTAGE = 3;\r\n\r\nexport default function Home() {\r\n    // const { setUser } = useContext(UserContext);\r\n    // window.onbeforeunload = () => setUser(\"\")\r\n    const classes = useStyles();\r\n\t\tconst gClasses = globalStyles();\r\n    const [tournamentList, setTournamentList] = useState([]);\r\n    const [registerStatus, setRegisterStatus] = useState(0);\r\n    const [currentTournament, setCurrentTournament] = useState(\"\");\r\n    const [upgrade, setUpgrade] = React.useState(false);\r\n    const [modalIsOpen,setIsOpen] = React.useState(\"\");\r\n    const [latestApk, setLatestApk] = React.useState(null);\r\n\r\n    const [demo, setDemo] = React.useState(false);\r\n    const [stage, setStage] = React.useState(0);\r\n\t\t//const [groupCost, setGroupCost] = React.useState(0);\r\n\t\t//const [lowBalance, setLowBalance] = React.useState(false);\r\n\t\tconst [lowBalanceText, setLowBalanceText] = React.useState(\"\");\r\n\t\t\r\n    const [userGroup, setUserGroup] = React.useState([]);\r\n    const [defaultGroup, setDefaultGroup] = React.useState(\"\");\r\n    const [currentGroup, setCurrentGroup] = useState(\"\");\r\n\r\n    const [startDownload, setStartDownload] = useState(false);\r\n\t\tconst [downloadMessage, setDownloadMessage] = useState(\"\");\r\n    const [firstTime, setFirstTime] = useState(true);\r\n\t\tconst [curretDrawer, setCurrentDrawer] = useState(\"\");\r\n\t\t\r\n    useEffect(() => {\r\n\r\n    }, [])\r\n\r\n    function ShowResisterStatus() {\r\n        // console.log(`Status is ${registerStatus}`);\r\n        let myMsg;\r\n        let errmsg = true;\r\n        switch (registerStatus) { \r\n          case 1001:\r\n            myMsg = \"Insufficient Balance\";\r\n            break;\r\n          case 0:\r\n            myMsg = \"\";\r\n            errmsg = false;\r\n            break;\r\n          default:\r\n            myMsg = \"Error updating Captain / ViceCaptain details\";\r\n            break;\r\n        }\r\n        let myClass = (errmsg) ? gClasses.error : gClasses.nonerror;\r\n        return(\r\n          <div>\r\n            <Typography align=\"center\" className={myClass}>{myMsg}</Typography>\r\n          </div>\r\n        );\r\n    }\r\n\r\n    function ShowAdminJumpButtons() {\r\n\t\t\tlet myDisable = (defaultGroup === \"\");\r\n      return (\r\n        <div>\r\n\t\t\t\t\t{(isAdmin()) &&\r\n          <Grid key=\"jp1\" container >\r\n            <Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<JumpButton page={process.env.REACT_APP_AREA} text=\"Area\" />\r\n            </Grid>\r\n            <Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<JumpButton page={process.env.REACT_APP_USER} text=\"User\" />\r\n            </Grid>\r\n\t\t\t\t\t\t<br />\r\n            <Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<JumpButton page={process.env.REACT_APP_FACULTY} text=\"Faculty\" />\r\n            </Grid>\r\n            <Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<JumpButton page={process.env.REACT_APP_STUDENT} text=\"Student\" />\r\n            </Grid>\t\t\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<JumpButton page={process.env.REACT_APP_BATCH} text=\"Batch\" />\r\n            </Grid>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<JumpButton page={process.env.REACT_APP_SESSION} text=\"Session\" />\r\n            </Grid>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<JumpButton page={process.env.REACT_APP_PAYMENT} text=\"Payment\" />\r\n            </Grid>\r\n\t\t\t\t\t\t<Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<JumpButton page={process.env.REACT_APP_INQUIRY} text=\"Inquiry\" />\r\n            </Grid>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<JumpButton page={process.env.REACT_APP_SUMMARY} text=\"Summary\" />\r\n            </Grid>\r\n\t\t\t\t\t\t<Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<JumpButton page={process.env.REACT_APP_BONUS} text=\"Bonus\" />\r\n            </Grid>\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<JumpButton page={process.env.REACT_APP_REPORT} text=\"Report\" />\r\n            </Grid>\t\t\t\t\t\t\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{(isManager()) &&\r\n          <Grid key=\"jp1\" container >\r\n            <Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<JumpButton page={process.env.REACT_APP_FACULTY} text=\"Faculty\" />\r\n            </Grid>\r\n            <Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<JumpButton page={process.env.REACT_APP_STUDENT} text=\"Student\" />\r\n            </Grid>\t\t\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<JumpButton page={process.env.REACT_APP_BATCH} text=\"Batch\" />\r\n            </Grid>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<JumpButton page={process.env.REACT_APP_SESSION} text=\"Session\" />\r\n            </Grid>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<JumpButton page={process.env.REACT_APP_BONUS} text=\"Bonus\" />\r\n            </Grid>\t\t\t\t\t\t\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{(isFaculty()) &&\r\n          <Grid key=\"jp1\" container >\r\n            <Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<JumpButton page={process.env.REACT_APP_FACULTY} text=\"Faculty\" />\r\n            </Grid>\r\n            <Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<JumpButton page={process.env.REACT_APP_STUDENT} text=\"Student\" />\r\n            </Grid>\t\t\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<JumpButton page={process.env.REACT_APP_BATCH} text=\"Batch\" />\r\n            </Grid>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<JumpButton page={process.env.REACT_APP_SESSION} text=\"Session\" />\r\n            </Grid>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t}\r\n        </div>\r\n      )\r\n    }\r\n    \r\n  \r\n \r\n    function ShowJumpButtons() {\r\n\t\t\tlet myDisable = (defaultGroup === \"\");\r\n      return (\r\n        <div>\r\n          <Grid key=\"jp1\" container >\r\n            <Grid item xs={6} sm={6} md={6} lg={6} >\r\n              {(demo && (stage === 0)) &&\r\n                <JumpButton page={process.env.REACT_APP_HOWTOPLAY} text=\"How to Play\" style={{backgroundColor: 'lightGreen'}} />\r\n              }\r\n              {(!demo || (stage != 0)) &&\r\n                <JumpButton page={process.env.REACT_APP_HOWTOPLAY} text=\"How to Play\" />\r\n              }\r\n            </Grid>\r\n            <Grid item xs={6} sm={6} md={6} lg={6} >\r\n              {(demo && (stage === 3)) &&\r\n                <JumpButton page={process.env.REACT_APP_POINTSYSTEM} text=\"Point System\" style={{backgroundColor: 'lightGreen'}}  />\r\n              }\r\n              {(!demo || (stage != 3)) &&\r\n                <JumpButton page={process.env.REACT_APP_POINTSYSTEM} text=\"Point System\" />\r\n              }\r\n            </Grid>\r\n\t\t\t\t\t\t<br />\r\n            <Grid item xs={6} sm={6} md={6} lg={6} >\r\n              {(demo && (stage === 1)) &&\r\n                <JumpButton page={process.env.REACT_APP_AUCTION} text=\"Auction\" style={{backgroundColor: 'lightGreen'}} />\r\n              }\r\n               {(!demo || (stage != 1)) &&\r\n                <JumpButton page={process.env.REACT_APP_AUCTION} text=\"Auction\" />\r\n              }\r\n            </Grid>\r\n            <Grid item xs={6} sm={6} md={6} lg={6} >\r\n              {(demo && (stage === 2)) &&\r\n                <JumpButton page={process.env.REACT_APP_CAPTAIN} text=\"Captain\" style={{backgroundColor: 'lightGreen'}} />\r\n              }\r\n               {(!demo || (stage != 2)) &&\r\n                <JumpButton page={process.env.REACT_APP_CAPTAIN}  text=\"Captain\" />\r\n              }\r\n            </Grid>\r\n\t\t\t\t\t\t<br />\r\n            <Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<JumpButton page={process.env.REACT_APP_DASHBOARD} disabled={myDisable} text=\"DashBoard\" />\r\n            </Grid>\r\n            <Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<JumpButton page={process.env.REACT_APP_PLAYERINFO} disabled={myDisable} text=\"Statistics\" />\r\n            </Grid>\r\n\t\t\t\t\t\t<br />\r\n            <Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<JumpButton page={process.env.REACT_APP_TEAM} disabled={myDisable} text=\"Team\" />\r\n            </Grid>\r\n            <Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<JumpButton page={process.env.REACT_APP_WALLET} disabled={false} text=\"Wallet\" />\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<br />\r\n            <Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<JumpButton page={process.env.REACT_APP_GROUPDETAILS} disabled={myDisable} text=\"GroupDetails\" />\r\n            </Grid>\r\n            <Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t<JumpButton page={process.env.REACT_APP_MATCH} disabled={myDisable} text=\"Match\" />\r\n\t\t\t\t\t\t</Grid>\r\n          </Grid>\r\n        </div>\r\n      )\r\n    }\r\n  \r\n  \r\n    async function handleUpgrade() {    \r\n      // opens the url in the default browser \r\n      var myURL = `${process.env.REACT_APP_APLSERVER}/viraag/binarylatest/APL`;\r\n      try {\r\n        await window.open(myURL, '_blank', 'noreferrer');\r\n      }\r\n      catch(e) {\r\n       console.log(e); \r\n      }\r\n      return;\r\n    }\r\n    \r\n    \r\n    function openModal(type) { setIsOpen(type); }  \r\n    function afterOpenModal() {\r\n      // references are now sync'd and can be accessed.\r\n      //subtitle.style.color = '#f00';\r\n    }\r\n   \r\n    function closeModal(){ setIsOpen(\"\"); }\r\n  \r\n    function DisplayUpgrade() {\r\n      //console.log(`Upgrate: ${upgrade} Menu Item:   ${value}`)\r\n    // console.log(\"Current\",process.env.REACT_APP_VERSION);\r\n      if (upgrade)\r\n        return(\r\n          <Modal\r\n            isOpen={\"UPGRADE\"}\r\n            onAfterOpen={afterOpenModal}\r\n            onRequestClose={closeModal}\r\n            style={modalStyles}\r\n            contentLabel=\"Example Modal\"\r\n            ariaHideApp={false}\r\n          >\r\n          <VsCancel align=\"right\" onClick={() => { setIsOpen(\"\")}} />\t\r\n          <Typography className={gClasses.info18Bold} align=\"center\">\r\n            Latest Version {latestApk.version}\r\n          </Typography>\r\n          <BlankArea/>\r\n          <Typography className={gClasses.info16Bold} align=\"center\">\r\n            What is new\r\n          </Typography>\r\n          <TextField variant=\"outlined\" multiline fullWidth disabled\r\n            style={{backgroundColor: '#B3E5FC'}}\r\n            className={gClasses.info16}\r\n            defaultValue={latestApk.text} \r\n          />\r\n          <BlankArea />\r\n          {/*<Button align=\"center\" key=\"upgrade\" variant=\"contained\" color=\"primary\" size=\"medium\"\r\n            className={classes.dashButton} disabled={startDownload} onClick={handleUpgrade}>Update Now\r\n          </Button>*/}\r\n\t\t\t\t\t<VsButton align=\"center\" name=\"Download latest APK\" onClick={handleUpgrade} />\r\n\t\t\t\t\t\r\n        </Modal>\r\n        )\r\n      else\r\n        return(null);\r\n    }\r\n  \r\n\r\n    function DisplayLowBalance() {\r\n\t\t\treturn(\r\n          <Modal\r\n            isOpen={(modalIsOpen == \"WALLET\") && (lowBalanceText != \"\")}\r\n            onAfterOpen={afterOpenModal}\r\n            style={modalStyles}\r\n            contentLabel=\"Example Modal\"\r\n            ariaHideApp={false}\r\n          >\r\n          <Typography className={gClasses.info18Bold} align=\"center\">\r\n            Low Balance\r\n          </Typography>\r\n          <BlankArea/>\r\n          <Typography className={gClasses.info18} align=\"left\">{lowBalanceText}</Typography>\r\n          <BlankArea />\r\n\t\t\t\t\t<Grid key=\"BalanceButton\" container >\r\n\t\t\t\t\t\t<Grid item align=\"center\" xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t{/*<Button variant=\"contained\" size=\"small\" color=\"primary\" className={classes.submit} \r\n\t\t\t\t\t\t\t\tonClick={() => { setTab(process.env.REACT_APP_ADDWALLET); } }>\r\n\t\t\t\t\t\t\t\tAdd to wallet\r\n\t\t\t\t\t\t\t</Button>*/}\r\n\t\t\t\t\t\t\t<VsButton name=\"Add to wallet\" onClick={() => { setTab(process.env.REACT_APP_ADDWALLET); } } />\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item align=\"center\"  xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t\t\t\t{/*<Button variant=\"contained\"size=\"small\" color=\"primary\" className={classes.submit}\r\n\t\t\t\t\t\t\t\tonClick={() => { closeModal(); setLowBalanceText(\"\");  } }>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</Button>*/}\r\n\t\t\t\t\t\t\t<VsButton name=\"Cancel\" onClick={() => { closeModal(); setLowBalanceText(\"\");  } }  />\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\t\r\n        </Modal>\r\n        )\r\n    }\r\n  \t\r\n\tfunction DisplayCurrentGroup() {\r\n\tif (userGroup.length === 0) return null;\r\n\tvar myGroup = localStorage.getItem(\"groupName\");\r\n\tsetCurrentGroup(myGroup);\r\n\treturn (\r\n\t\t<Box borderColor=\"primary\" border={2} borderRadius={15} >\t\r\n\t\t<div>\r\n\t\t<Typography className={gClasses.info22Bold} >Current Group</Typography>\r\n\t\t<br />\r\n\t\t<Grid key=\"selectcurrentgroup\" container >\r\n\t\t\t<Grid item xs={2} sm={2} md={2} lg={2} />\r\n\t\t\t<Grid item xs={8} sm={8} md={8} lg={8} >\r\n\t\t\t\t<VsSelect fullWidth={true} align=\"center\" value={currentGroup} options={userGroup} field=\"groupName\" onChange={(event) => handleChangeGroup(event.target.value) } />\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={2} sm={2} md={2} lg={2} />\r\n\t\t</Grid>\r\n\t\t<br />\r\n\t\t</div>\r\n\t\t</Box>\r\n\t);}\r\n\t\r\n\tfunction NewGroup() {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid key=\"NewGroup\" container >\r\n\t\t\t<Grid align=\"center\" item xs={9} sm={9} md={9} lg={9} >\r\n\t\t\t\t<Typography className={gClasses.info18Bold} >Play Upcoming Tournament</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={3} sm={3} md={3} lg={3} >\r\n\t\t\t\t<Button variant=\"contained\"size=\"small\" color=\"primary\" className={classes.submit} disabled={tournamentList.length === 0} \r\n\t\t\t\t\tonClick={() => { setCurrentTournament(\"\");  setCurrentDrawer(\"NewGroup\"); } }>\r\n\t\t\t\t\tPlay\r\n\t\t\t\t</Button>\r\n\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)}\r\n\t\r\n\t\r\n\tfunction CreateJoinGroup() {\r\n\t\tif (tournamentList.length === 0) return null;\r\n\t\tif (currentTournament === \"\") setCurrentTournament(tournamentList[0].name);\r\n\t\t//console.log(currentTournament);\r\n\treturn (\t\r\n\t<Box borderColor=\"primary\" border={2} borderRadius={15} >\r\n\t<div>\r\n\t\t<Typography className={gClasses.info22Bold} >Select Tournament</Typography>\r\n\t\t<br />\r\n\t\t<Grid key=\"selecttournament\" container >\r\n\t\t\t<Grid item xs={2} sm={2} md={2} lg={2} />\r\n\t\t\t\t<Grid item xs={8} sm={8} md={8} lg={8} >\r\n\t\t\t\t\t<VsSelect fullWidth={true} align=\"center\" value={currentTournament} options={tournamentList} field=\"name\" onChange={(event) => setCurrentTournament(event.target.value) } />\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={2} sm={2} md={2} lg={2} />\r\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={12} >\r\n\t\t\t\t<br />\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t{/*<Button variant=\"contained\"size=\"small\" color=\"primary\" className={classes.submit} disabled={tournamentList.length === 0} onClick={handleCreate}>Create Group</Button>*/}\r\n\t\t\t\t<VsButton name=\"Create Group\" disabled={tournamentList.length === 0} onClick={handleCreate} />\t\t\t\t\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item align=\"center\"  xs={6} sm={6} md={6} lg={6} >\r\n\t\t\t\t{/*<Button variant=\"contained\" size=\"small\" color=\"primary\" className={classes.submit} disabled={tournamentList.length === 0} onClick={handleJoin}>Join Group</Button>*/}\r\n\t\t\t\t<VsButton name=\"Join Group\" disabled={tournamentList.length === 0} onClick={handleJoin} />\t\t\t\t\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t\t<br />\r\n\t</div>\r\n\t</Box>\r\n\t)}\r\n  \r\n  function prevStage() {\r\n    let tmp = stage - 1\r\n    if (stage > 0) setStage(tmp);\r\n  }\r\n  \r\n  function nextStage() {\r\n    let tmp = stage + 1\r\n    if (stage < LASTSTAGE) setStage(tmp);\r\n  }\r\n\t\r\n  //console.log(stage);\r\n  var demoStyle = {paddingLeft: \"10px\", paddingRight: \"10px\", paddingBottom: \"none\", paddingTop: \"none\"};\r\n\treturn (\r\n\t<Container component=\"main\" maxWidth=\"xs\">\r\n\t<div className={gClasses.root} align=\"center\">\r\n\t\t<Typography className={gClasses.nonerror}>{downloadMessage}</Typography>\r\n\t\t<br />\r\n\t\t<ShowAdminJumpButtons />\r\n\t\t<DisplayUpgrade/>\r\n\t\t<BlankArea />\r\n\t</div>\r\n\t</Container>\r\n\t);\r\n}\r\n","import React, { useState ,useContext} from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport red from '@material-ui/core/colors/red';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {ValidComp, BlankArea, CricDreamLogo} from \"CustomComponents/CustomComponents.js\"\r\nimport {encrypt} from \"views/functions.js\"\r\nimport { SettingsCellOutlined } from '@material-ui/icons';\r\nimport axios from \"axios\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n  },\r\n  textData: {\r\n    fontSize: '14px',\r\n    margin: theme.spacing(0),\r\n  },\r\n}));\r\n\r\n\r\nexport default function ContactUs() {\r\n  const classes = useStyles();\r\n  // const history = useHistory();\r\n  const [feedback, setFeedback] = useState(\"\");\r\n  const [feedbackCode, setFeedbackCode] = useState(\"\");\r\n  const [registerStatus, setRegisterStatus] = useState(0);\r\n\r\n  const handleSubmit = async() => {\r\n    let tmp1 = encrypt(feedback);\r\n    console.log(tmp1);\r\n\r\n    try {\r\n      let response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/apl/feedback/${localStorage.getItem(\"uid\")}/${tmp1}`);\r\n      setFeedbackCode(response.data);\r\n      //console.log(response);\r\n      setRegisterStatus(200);\r\n    } catch (e) {\r\n      // console.log(response.status);\r\n      console.log(e);\r\n      setRegisterStatus(1001);\r\n    }\r\n\r\n    \r\n  }\r\n\r\n  \r\n  function ShowResisterStatus() {\r\n    let myMsg;\r\n    switch (registerStatus) {\r\n      case 0:\r\n        myMsg = ``;\r\n        break;\r\n      case 200:\r\n        myMsg = `Reference code ${feedbackCode}`;\r\n        break;\r\n      case 1001:\r\n        myMsg = `Error sending feedback`;\r\n        break;\r\n      default:\r\n        myMsg = \"Unknown Error\";\r\n        break;\r\n  }\r\n  return(\r\n    <div>\r\n      <Typography className={(registerStatus === 200) ? classes.root : classes.error}>{myMsg}</Typography>\r\n    </div>\r\n  )}\r\n\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n      {/* <CricDreamLogo /> */}\r\n      {/* <Avatar className={classes.avatar}>\r\n        <LockOutlinedIcon />\r\n      </Avatar> */}\r\n      <Typography component=\"h1\" variant=\"h5\">Contact Us</Typography>\r\n      <br/>\r\n      <p className={classes.textData}>Have any issue or suggestion</p>\r\n      <p className={classes.textData}>Kindly provide the details to Auction Permier League</p>\r\n      <ValidatorForm className={classes.form} onSubmit={handleSubmit}>\r\n      <TextValidator\r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth\r\n          multiline      \r\n          label=\"Feedback\"\r\n          onChange={(event) => setFeedback(event.target.value)}\r\n          name=\"Feedback\"\r\n          type=\"Feedback\"\r\n          value={feedback}\r\n      />\r\n      <ShowResisterStatus/>\r\n      <BlankArea/>\r\n      <Button\r\n        type=\"submit\"\r\n        fullWidth\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        className={classes.submit}\r\n      >\r\n        Submit\r\n    </Button>\r\n    </ValidatorForm>\r\n    </div>\r\n    <ValidComp />    \r\n    </Container>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\n\r\n\r\n/* \r\nimport { createBrowserHistory } from \"history\";\r\n\r\n*/\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useParams } from 'react-router-dom'\r\nimport axios from \"axios\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu'; \r\nimport {red, blue, green, deepOrange} from '@material-ui/core/colors';\r\nimport Divider from '@material-ui/core/Divider';\r\n/// cd items import\r\n\r\nimport Area from \"views/Area/Area\"\r\nimport User from \"views/User/User\"\r\nimport Faculty\t from \"views/Faculty/Faculty\"\r\nimport FacultySchedule\t from \"views/Faculty/FacultySchedule\"\r\nimport Student\t from \"views/Student/Student\"\r\nimport Batch\t from \"views/Batch/Batch\"\r\nimport Session\t from \"views/Session/Session\"\r\nimport BatchAddEdit\t from \"views/Batch/BatchAddEdit\"\r\nimport SessionAddEdit\t from \"views/Session/SessionAddEdit\"\r\nimport Payment\t from \"views/Payment/Payment\"\r\nimport Inquiry\t from \"views/Inquiry/Inquiry\"\r\nimport InquiryAddEdit\t from \"views/Inquiry/InquiryAddEdit\"\r\nimport Summary\t from \"views/Summary/Summary\"\r\nimport Bonus\t from \"views/Bonus/Bonus\"\r\nimport BonusAddEdit\t from \"views/Bonus/BonusAddEdit\"\r\nimport Report\t from \"views/Report/Report\"\r\n\r\n\r\nimport AdminWallet from \"views/Wallet/AdminWallet\"\r\nimport Wallet from \"views/Wallet/Wallet.js\"\r\nimport Update from \"views/UpgradeToPro/Update.js\"\r\nimport AddWallet from \"views/Wallet/AddWallet\";\r\nimport WithdrawWallet from \"views/Wallet/WithdrawWallet\";\r\n\r\nimport Profile from \"views/Profile/UserProfile\"\r\nimport ChangePassword from \"views/Login/ChangePassword.js\"\r\nimport About from \"views/ACA/About.js\";\r\nimport Home from \"views/ACA/Home.js\";\r\nimport ContactUs from \"views/ACA/ContactUs.js\";\r\nimport Modal from 'react-modal';\r\n// import download from 'js-file-downloader';\r\nimport { BlankArea } from './CustomComponents';\r\nimport {cdRefresh, specialSetPos, upGradeRequired, \r\n  downloadApk, clearBackupData,\r\n  checkIdle, setIdle,\r\n  internalToText, textToInternal,\r\n\tisAdmin, isFaculty, isManager,\r\n} from \"views/functions.js\"\r\nimport { LocalSee } from '@material-ui/icons';\r\n\r\n\r\nconst customStyles = {\r\n  content : {\r\n    top                   : '50%',\r\n    left                  : '50%',\r\n    right                 : 'auto',\r\n    bottom                : 'auto',\r\n    marginRight           : '-50%',\r\n    transform             : 'translate(-50%, -50%)',\r\n    backgroundColor       : '#000000',\r\n    color                 : '#FFFFFF',\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  noSpacing: { \r\n    marginTop: theme.spacing(0),\r\n    marginBottom: theme.spacing(0),\r\n    marginLeft: theme.spacing(0),\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  menuButton: {\r\n    // marginRight: theme.spacing(2),\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  icon : {\r\n    color: '#FFFFFF',\r\n    marginRight: theme.spacing(0),\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n  statButton: {\r\n    //marginRight: theme.spacing(2),\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n  teamButton: {\r\n    marginRight: theme.spacing(0),\r\n    marginLeft: theme.spacing(0),\r\n  },\r\n  dashButton: {\r\n    // marginRight: theme.spacing(2),\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n  new: {\r\n    fontSize: theme.typography.pxToRem(20),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    color: '#FFFFFF'\r\n  },\r\n  whatIsNew: {\r\n    backgroundColor: '#B3E5FC',\r\n    color: '#000000',\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(0),\r\n    // backgroundColor: theme.palette.secondary.main,\r\n    // width: theme.spacing(10),\r\n    // height: theme.spacing(10),\r\n  \r\n  },\r\n  avatar1: {\r\n    margin: theme.spacing(0),\r\n    backgroundColor: 'white',\t\t//deepOrange[500],  //'#FFFFFF',\r\n    color: 'black', \r\n\t\tfontSize: theme.typography.pxToRem(16),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n  },\r\n}));\r\n\r\nexport function setTab(num) {\r\n  \r\n  //myTabPosition = num;\r\n  //console.log(`Menu pos ${num}`);\r\n  sessionStorage.setItem(\"menuValue\", num);\r\n  cdRefresh();\r\n}\r\n\r\nexport function AcaTabs() {\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  // for menu \r\n  const [auth, setAuth] = React.useState(true);\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n  // for group menu\r\n  const [grpAuth, setGrpAuth] = React.useState(true);\r\n  const [grpAnchorEl, setGrpAnchorEl] = React.useState(null);\r\n  const grpOpen = Boolean(grpAnchorEl);\r\n  const [arunGroup, setArunGroup] = React.useState(false);\r\n  const [value, setValue] = React.useState(0);\r\n  const [upgrade, setUpgrade] = React.useState(false);\r\n  const [modalIsOpen,setIsOpen] = React.useState(true);\r\n  const [userGroup, setUserGroup] = React.useState([]);\r\n  const [latestApk, setLatestApk] = React.useState(null);\r\n\r\n  //console.log(location.pathname);\r\n\r\n  useEffect(() => {       \r\n    const checkVersion = async () => {\r\n      //console.log(\"about to call upgrade\");\r\n      let upg = await upGradeRequired();\r\n      // console.log(upg);\r\n      if (upg.latest) setLatestApk(upg.latest);\r\n\r\n      setUpgrade(upg.status);\r\n      if (upg.status) setIsOpen(true);\r\n    }\r\n    function setMenuValue() {\r\n\r\n      // check url\r\n      let walletRouting = false;\r\n      let x = location.pathname.split(\"/\");\r\n      if (x.length >= 3)\r\n      if (x[1] === \"apl\")\r\n      if (x[2] === \"walletdetails\") {\r\n        walletRouting = true;\r\n        // const { payment_id, payment_status,  payment_request_id} = useParams();\r\n        //console.log(\"URLDATA\", payment_id, payment_status, payment_request_id);\r\n        let param = (x.length >= 4) ? x[3] : \"\";\r\n        sessionStorage.setItem(\"payment_id\", param)\r\n        param = (x.length >= 5) ? x[4] : \"\";\r\n        sessionStorage.setItem(\"payment_status\", param)\r\n        param = (x.length >= 6) ? x[5] : \"\";\r\n        sessionStorage.setItem(\"payment_request_id\", param)\r\n      }\r\n      \r\n      if (walletRouting) {\r\n        sessionStorage.setItem(\"menuValue\", process.env.REACT_APP_WALLET);\r\n        history.push(\"/\");\r\n      } else if (checkIdle()) {\r\n\t\t\t\tif (isAdmin())\r\n\t\t\t\t\tsessionStorage.setItem(\"menuValue\", process.env.REACT_APP_SUMMARY);\r\n\t\t\t\telse if (isFaculty())\r\n\t\t\t\t\tsessionStorage.setItem(\"menuValue\", process.env.REACT_APP_BATCH);\r\n\t\t\t\telse\r\n\t\t\t\t\tsessionStorage.setItem(\"menuValue\", process.env.REACT_APP_HOME);\r\n      } \r\n\t\t\t//console.log(\"Menu value: \",sessionStorage.getItem(\"menuValue\"));\r\n      setValue(parseInt(sessionStorage.getItem(\"menuValue\")));\r\n      setIdle(false);\r\n    }\r\n    // Version check is now done in Home component\r\n    // if (value === parseInt(process.env.REACT_APP_HOME))\r\n    //   checkVersion();  \r\n    \r\n    setMenuValue();\r\n\r\n    // console.log(\"Params\",\r\n    //   sessionStorage.getItem(\"param1\"),\r\n    //   sessionStorage.getItem(\"param2\"),\r\n    //   sessionStorage.getItem(\"param3\")\r\n    // );\r\n\r\n}, []);\r\n\r\n\r\n  //console.log(`in Tab function  ${sessionStorage.getItem(\"menuValue\")}`);\r\n\r\n  const handleChange = (event) => {\r\n    setAuth(event.target.checked);\r\n  };\r\n\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  function handleGrpMenu(event) {\r\n    setGrpAnchorEl(event.currentTarget);\r\n    // console.log(event.currentTarget);\r\n    var myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/group/memberof/${sessionStorage.getItem(\"uid\")}`;\r\n    axios.get(myUrl).then((response) => {\r\n      let allGroups = response.data[0].groups;\r\n      if (allGroups.length > 0) {\r\n        let tmp = allGroups.find(x => x.defaultGroup == true);\r\n        if (!tmp) {\r\n          tmp = allGroups[0];\r\n          tmp.defaultGroup = true;\r\n          sessionStorage.setItem(\"gid\", tmp.gid.toString());\r\n          sessionStorage.setItem(\"groupName\", tmp.groupName);\r\n          sessionStorage.setItem(\"tournament\", tmp.tournament);\r\n          sessionStorage.setItem(\"admin\", tmp.admin);\r\n          // clearBackupData();\r\n        }\r\n      }\r\n      setUserGroup(allGroups);\r\n      // console.log('Everything is awesome.');\r\n      setArunGroup(true);\r\n    }).catch((error) => {\r\n      //console.log('Not good man :(');\r\n      console.log(error);\r\n      setUserGroup([]);\r\n      setArunGroup(true);\r\n    })\r\n  };\r\n\r\n  async function handleGroupSelect(index) {\r\n    setArunGroup(false);\r\n    let gRec = userGroup[index];\r\n    try {\r\n      await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/group/setdefaultgroup/${sessionStorage.getItem(\"uid\")}/${gRec.gid}`);\r\n      sessionStorage.setItem(\"gid\", gRec.gid);\r\n      sessionStorage.setItem(\"groupName\", gRec.groupName);\r\n      sessionStorage.setItem(\"tournament\", gRec.tournament);\r\n      sessionStorage.setItem(\"admin\", gRec.admin);\r\n      clearBackupData();\r\n      cdRefresh();\r\n    } catch (e) {\r\n      console.log(e);\r\n      console.log(\"error setting default group\");\r\n    }\r\n  }\r\n  \r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleGrpClose = () => {\r\n    setGrpAnchorEl(null);\r\n    setArunGroup(false);\r\n  };\r\n\r\n  function setMenuValue(num) {\r\n    setValue(num);\r\n    handleClose();\r\n    sessionStorage.setItem(\"menuValue\", num);\r\n  }\r\n\r\n  const handleDash = () => { setMenuValue(1);  }\r\n  const handleStat = () => { setMenuValue(2);  }\r\n  const handleTeam = () => { setMenuValue(3);  }\r\n  const handleHome = () => { setMenuValue(4);  }\r\n\t\r\n\t\r\n\tconst handleArea = () => { handleClose(); setMenuValue(9001);}\r\n\tconst handleUser = () => { handleClose(); setMenuValue(9002);}\r\n\tconst handleStudent = () => { handleClose(); setMenuValue(9003);}\r\n\tconst handleFaculty = () => { handleClose(); setMenuValue(9004);}\r\n\tconst handleFacultySchedule = () => { handleClose(); setMenuValue(90041);}\r\n\tconst handleBatch = () => { handleClose(); setMenuValue(9005);}\r\n\tconst handleBatchAddEdit = () => { handleClose(); setMenuValue(90051);}\r\n\tconst handleSessionAddEdit = () => { handleClose(); setMenuValue(90061);}\r\n\tconst handleSession = () => { handleClose(); setMenuValue(9006);}\r\n\tconst handlePayment = () => { handleClose(); setMenuValue(9007);}\r\n\tconst handleInquiry = () => { handleClose(); setMenuValue(9008);}\r\n\tconst handleInquiryAddEdit = () => { handleClose(); setMenuValue(90081);}\r\n\tconst handleSummary = () => { handleClose(); setMenuValue(9009);}\r\n\tconst handleBonus = () => { handleClose(); setMenuValue(9010);}\r\n\tconst handleReport = () => { handleClose(); setMenuValue(9011);}\r\n\t\r\n  const handleMatch = () => { handleClose(); setMenuValue(101);}\r\n  const handleAuction = () => { handleClose(); setMenuValue(102);}\r\n  const handleCaptain = () => { handleClose(); setMenuValue(103);}\r\n  const handleGroup = () => { handleGrpClose(); setMenuValue(104);}\r\n  const handleWallet = () => { handleClose(); setMenuValue(105);}\r\n  const handleProfile = () => { handleClose(); setMenuValue(106);}\r\n  const handlePassword = () => { handleClose(); setMenuValue(107);}\r\n  // 108 for add wallet\r\n  const handleHelpDesk = () => { handleClose(); setMenuValue(201);}\r\n  const handleContactUs = () => { handleClose(); setMenuValue(202);}\r\n  const handlePointSystem = () => { handleClose(); setMenuValue(203);}\r\n  const handleAbout = () => { handleClose(); setMenuValue(204);}\r\n\t\r\n  const handleSuTournament = () => { handleClose(); setMenuValue(301);}\r\n  const handleSuPlayer = () => { handleClose(); setMenuValue(302);}\r\n  const handleSuImage = () => { handleClose(); setMenuValue(303);}\r\n\r\n  const handleUpdate = () => { handleClose(); setMenuValue(304);}\r\n\r\n  const handleGroupNew = () => { handleGrpClose(); setMenuValue(1001);}\r\n  const handleGroupJoin = () => { handleGrpClose(); setMenuValue(1002);}\r\n  const handleGroupDetails = () => { handleGrpClose(); setMenuValue(1003);}\r\n  const handlePlayerStat = () => { handleGrpClose(); setMenuValue(1004);}\r\n  const handleAdminWallet = () => { handleGrpClose(); setMenuValue(1005);}\r\n\r\n  const handleLogout = () => {\r\n    handleClose();\r\n    sessionStorage.setItem(\"uid\", \"\");\r\n\t\tsessionStorage.removeItem(\"menuValue\");\r\n\t\tsessionStorage.removeItem(\"role\");\r\n\t\tsessionStorage.removeItem(\"displayName\");\r\n\t\tsessionStorage.removeItem(\"isAdmin\");\r\n\t\tsessionStorage.removeItem(\"notidle\");\r\n\t\tsessionStorage.removeItem(\"tabpos\");\r\n\t\tsessionStorage.removeItem(\"userName\");\r\n    //sessionStorage.setItem(\"menuValue\", process.env.REACT_APP_DASHBOARD);\r\n    cdRefresh();  \r\n  };\r\n\r\n  function ShowUserOptions() {\r\n    if (isAdmin()) {  //sessionStorage.getItem(\"userPlan\") == process.env.REACT_APP_SUPERUSER) {  \r\n      return (\r\n        <div>\r\n        <MenuItem onClick={handleArea}>Area</MenuItem>\r\n        <MenuItem onClick={handleUser}>User</MenuItem>\r\n        <MenuItem onClick={handleFaculty}>Faculty</MenuItem>\r\n\t\t\t\t<MenuItem onClick={handleStudent}>Student</MenuItem>\r\n\t\t\t\t<MenuItem onClick={handleBatch}>Batch</MenuItem>\r\n\t\t\t\t<MenuItem onClick={handleSession}>Session</MenuItem>\r\n\t\t\t\t<MenuItem onClick={handleBonus}>Bonus</MenuItem>\r\n\t\t\t\t<MenuItem onClick={handleReport}>Report</MenuItem>\r\n        </div>\r\n\t\t\t);\r\n    } \r\n\t\telse if (isManager()) {\r\n      return null;\r\n    }\r\n\t\telse if (isFaculty()) {\r\n      return (\r\n        <div>\r\n\t\t\t\t<MenuItem onClick={handleStudent}>Student</MenuItem>\r\n        </div>\r\n\t\t\t);\r\n    }\r\n  }\r\n\r\n  function DisplayCdItems() {\r\n\t\t//console.log(value);\r\n    switch(value) {\r\n      case 4: return <Home />;\r\n      case 105: return <Wallet />;\r\n      case 106: return <Profile />;\r\n      case 107: return <ChangePassword />;\r\n      case 108: return <AddWallet />\r\n      case 109: return <WithdrawWallet />\r\n      case 202: return <ContactUs />;\r\n\t\t\tcase 204: return <About />;\r\n      case 304: return <Update />;\r\n      case 1005: return <AdminWallet />;\r\n\t\t\tcase 9001: return <Area />;\r\n\t\t\tcase 9002: return <User />;\r\n\t\t\tcase 9003: return <Student />;\r\n\t\t\tcase 9004: return <Faculty />;\r\n\t\t\tcase 90041: return <FacultySchedule />\r\n\t\t\tcase 9005: return <Batch />;\r\n\t\t\tcase 90051: return <BatchAddEdit />;\r\n\t\t\tcase 9006: return <Session />;\r\n\t\t\tcase 90061: return <SessionAddEdit />;\r\n\t\t\tcase 9007: return <Payment />;\r\n\t\t\tcase 9008: return <Inquiry />;\r\n\t\t\tcase 90081: return <InquiryAddEdit />;\r\n\t\t\tcase 9009: return <Summary />;\r\n\t\t\tcase 9010: return <Bonus />;\r\n\t\t\tcase 9011: return <Report />;\r\n      default: return  <Typography>{`Inavlid value ${value}`}</Typography>;\r\n    }\r\n  }\r\n\r\n  async function handleUpgrade() {\r\n    //console.log(\"upgrade requested\");\r\n    closeModal();\r\n    await downloadApk();\r\n    console.log(\"APK has to be downloaded\");\r\n  }\r\n\r\n  function openModal() { setIsOpen(true); }\r\n \r\n  function afterOpenModal() {\r\n    // references are now sync'd and can be accessed.\r\n    //subtitle.style.color = '#f00';\r\n  }\r\n \r\n  function closeModal(){ setIsOpen(false); }\r\n\r\n  function DisplayUpgrade() {\r\n    //console.log(`Upgrate: ${upgrade} Menu Item:   ${value}`)\r\n    // console.log(\"Current\",process.env.REACT_APP_VERSION);\r\n    if (upgrade)\r\n      return(\r\n        <Modal\r\n        isOpen={modalIsOpen}\r\n        onAfterOpen={afterOpenModal}\r\n        onRequestClose={closeModal}\r\n        style={customStyles}\r\n        contentLabel=\"Example Modal\"\r\n        ariaHideApp={false}\r\n      >\r\n        {/* <Typography className={classes.new} align=\"center\">\r\n          Current Version {process.env.REACT_APP_VERSION}\r\n        </Typography> */}\r\n        <Typography className={classes.new} align=\"center\">\r\n          Latest Version {latestApk.version}\r\n        </Typography>\r\n        <BlankArea/>\r\n        <Typography className={classes.new} align=\"center\">\r\n          What is new\r\n        </Typography>\r\n        <TextField variant=\"outlined\" multiline fullWidth disabled\r\n          id=\"producttext\"\r\n          // label=\"What is new\" \r\n          className={classes.whatIsNew}\r\n          defaultValue={latestApk.text} \r\n        />\r\n        <BlankArea />\r\n        <Button align=\"center\" key=\"upgrade\" variant=\"contained\" color=\"primary\" size=\"medium\"\r\n        className={classes.dashButton} onClick={handleUpgrade}>Update Now\r\n        </Button>\r\n      </Modal>\r\n      )\r\n    else\r\n      return(null);\r\n  }\r\n\r\n \r\n  let mylogo = `${process.env.PUBLIC_URL}/APLLOGO1.ICO`;\r\n  let groupCharacter=\"G\";\r\n  let currencyChar = 'U';  //'';\r\n\t//console.log(value);\r\n  let myName = sessionStorage.getItem(\"userName\");\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar className={classes.noSpacing}>\r\n          {auth && (\r\n            <div>\r\n\t\t\t\t\t\t<MenuIcon className={classes.icon} onClick={handleMenu} />\r\n              <Menu id=\"menu-appbar\" anchorEl={anchorEl} anchorOrigin={{vertical: 'top', horizontal: 'left', }}\r\n                // keepMounted\r\n                transformOrigin={{vertical: 'top', horizontal: 'right', }}\r\n                open={open}\r\n                onClose={handleClose}\r\n              >\r\n                <MenuItem onClick={handleProfile}>Profile</MenuItem>\r\n                <MenuItem onClick={handleWallet}>Wallet</MenuItem>\r\n                <Divider/>\r\n\t\t\t\t\t\t\t\t<ShowUserOptions />\r\n\t\t\t\t\t\t\t\t<Divider/>\r\n\t\t\t\t\t\t\t\t<MenuItem onClick={handleAbout}>About</MenuItem> \r\n                <MenuItem onClick={handleContactUs}>Contact Us</MenuItem>                  \r\n                {(process.env.REACT_APP_DEVICE === \"APK\") && \r\n                <div>\r\n                  <Divider/>\r\n                  <MenuItem onClick={handleUpdate}>Update</MenuItem>\r\n                </div>\r\n                }\r\n                <Divider/>\r\n                <MenuItem onClick={handleLogout}>Logout</MenuItem>\r\n              </Menu>\r\n            </div>\r\n          )}\r\n\t\t\t\t\t<HomeIcon className={classes.icon} onClick={handleHome} />\r\n\t\t\t\t\t{(isAdmin()) &&\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Button color=\"inherit\" className={classes.dashButton} onClick={handleInquiry}>Inquiry</Button>\r\n\t\t\t\t\t\t<Button color=\"inherit\" className={classes.teamButton} onClick={handleSummary}>Summary</Button>\r\n\t\t\t\t\t\t<Button color=\"inherit\" className={classes.statButton} onClick={handlePayment}>Payment</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{(isManager()) &&\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Button color=\"inherit\" className={classes.statButton} onClick={handlePayment}>Payment</Button>\r\n\t\t\t\t\t\t<Button color=\"inherit\" className={classes.statButton} onClick={handleSession}>Session</Button>\r\n\t\t\t\t\t\t<Button color=\"inherit\" className={classes.statButton} onClick={handleBatch}>Batch</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{(isFaculty()) &&\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Button color=\"inherit\" className={classes.statButton} onClick={handleSession}>Session</Button>\r\n\t\t\t\t\t\t<Button color=\"inherit\" className={classes.statButton} onClick={handleBatch}>Batch</Button>\r\n\t\t\t\t\t\t<Button color=\"inherit\" className={classes.statButton} onClick={handleFaculty}>Faculty</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{/*<Avatar \r\n            aria-label=\"account of current user\"\r\n            aria-controls=\"user-appbar\"\r\n            aria-haspopup=\"true\"\r\n            onClick={handleUser}\r\n            color=\"inherit\"\r\n            variant=\"circular\" className={classes.avatar1}>{currencyChar}\r\n          </Avatar>*/}\r\n       </Toolbar>\r\n      </AppBar>\r\n      <DisplayCdItems/>\r\n      {/* <DisplayUpgrade/> */}\r\n    </div>\r\n  );\r\n}","import React, { useRef, useState, useContext, useEffect } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n// import TextField from '@material-ui/core/TextField';\r\nimport { TextField, InputAdornment } from \"@material-ui/core\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Link from '@material-ui/core/Link';\r\nimport { Switch, Route } from 'react-router-dom';\r\n// import Dialog from '@material-ui/core/Dialog';\r\n// import DialogTitle from '@material-ui/core/DialogTitle';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport Container from '@material-ui/core/Container';\r\n// import SignUp from \"../Login/SignUp.js\";\r\n// import ForgotPassword from \"./ForgotPassword.js\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { UserContext } from \"../../UserContext\";\r\nimport axios from \"axios\";\r\nimport {red, green, blue } from '@material-ui/core/colors';\r\nimport { DesktopWindows } from '@material-ui/icons';\r\nimport { isMobile, cdRefresh, specialSetPos, encrypt, clearBackupData, downloadApk } from \"views/functions.js\"\r\nimport {setTab} from \"CustomComponents/CricDreamTabs.js\"\r\nimport { ACALogo } from 'CustomComponents/CustomComponents.js';\r\nimport { BlankArea } from 'CustomComponents/CustomComponents';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\r\n\r\n//const open = require('open');\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  android: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  download: {\r\n    fontSize: theme.typography.pxToRem(18),\r\n    fontWeight: theme.typography.fontWeightBold,\r\n    // color: yellow[900]\r\n  },\r\n  downloadButon: {\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n  },\r\n  error:  {\r\n    // right: 0,\r\n    fontSize: '12px',\r\n    color: blue[700],\r\n    // position: 'absolute',\r\n    alignItems: 'center',\r\n    marginTop: '0px',\r\n},\r\n}));\r\n\r\nconst handleSubmit = e => {\r\n  e.preventDefault();\r\n};\r\n\r\nexport default function SignIn() {\r\n  //const classes = useStyles();\r\n  const gClasses = globalStyles();\r\n  //const history = useHistory();\r\n  const [userName, setUserName] = useState();\r\n  const [password, setPassword] = useState();\r\n  // const [showPage, setShowPage] = useState(true);\r\n  // const { setUser } = useContext(UserContext);\r\n  const [ errorMessage, setErrorMessage ] = useState({msg: \"\", isError: false });\r\n  const [ downloadMessage, setDownloadMessage ] = useState(\"\");\r\n  // const [errorFound, setErrorFound] = useState(false);\r\n\r\n  useEffect(() => {\r\n\r\n    if (window.sessionStorage.getItem(\"uid\")) {\r\n      // setUser({ uid: window.sessionStorage.getItem(\"uid\"), admin: window.sessionStorage.getItem(\"admin\") })\r\n      // history.push(\"/admin\")\r\n    } else {\r\n      // setShowPage(true)\r\n    }\r\n\t\t//console.log(\"IN use effect if sign in\");\r\n  });\r\n\r\n  function setError(msg, isError) {\r\n    setErrorMessage({msg: msg, isError: isError});\r\n  }\r\n\r\n  function handleForgot() {\r\n    //console.log(\"Call forgot password here\")\r\n    // history.push('/admin/emailpassword');\r\n    sessionStorage.setItem(\"currentLogin\", \"RESET\");\r\n    cdRefresh();\r\n  }\r\n  \r\n  function handleForgotName() {\r\n    sessionStorage.setItem(\"currentLogin\", \"FORGOTNAME\");\r\n    cdRefresh();\r\n  }\r\n  \r\n  \r\n  function handleRegister() {\r\n    //console.log(\"Call for register here\");\r\n    // history.push(\"/admin/register\")\r\n    sessionStorage.setItem(\"currentLogin\", \"SIGNUP\");\r\n    cdRefresh();\r\n  }\r\n\r\n  const handleSignUp = async () => {\r\n    let myUserName = document.getElementById(\"userName\").value;\r\n    let myPassword = document.getElementById(\"password\").value;\r\n    setUserName(myUserName);\r\n    setPassword(myPassword);\r\n\r\n    let response = \"\"\r\n    try { \r\n      let enPassword = encrypt(myPassword);\r\n      response = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/acalogin/${myUserName}/${enPassword}`); \r\n      setError(\"\", false);\r\n    } catch (err) {\r\n      setError(\"Invalid Username / Password\", true);\r\n    }\r\n    //console.log(\"Signinresponse\", response.data);\r\n    if (response.status === 200) {\r\n      sessionStorage.setItem(\"uid\", response.data.uid)\r\n      sessionStorage.setItem(\"displayName\", response.data.displayName);\r\n      sessionStorage.setItem(\"userName\", response.data.userName);\r\n      sessionStorage.setItem(\"role\", response.data.role);\r\n\t\t\tsessionStorage.setItem(\"isAdmin\", response.data.role === \"Admin\");\r\n      setTab(process.env.REACT_APP_HOME);\r\n    }\r\n\r\n  }\r\n  \r\n  async function handleAndroid() {\r\n\r\n    // opens the url in the default browser \r\n    var myURL = `${process.env.REACT_APP_APLSERVER}/viraag/binarylatest/APL`;\r\n    try {\r\n      await window.open(myURL, '_blank', 'noreferrer');\r\n    }\r\n    catch(e) {\r\n     console.log(e); \r\n    }\r\n    return;\r\n    \r\n    try {\r\n      setDownloadMessage(\"APL Android app download started. Please wait...\")\r\n      // console.log(\"Download Android app\");\r\n      await downloadApk();\r\n      setDownloadMessage(\"APL Android app download complete.\")\r\n      // console.log(\"APK has to be downloaded\");\r\n    } catch (e) {\r\n      setDownloadMessage(\"Error encountered while downloading APL Android app\", true)\r\n    }\r\n  }\r\n\r\n  function handleIos() {\r\n    console.log(\"Download IOS app\");\r\n  }\r\n\r\n\r\n  function DisplayDownload() {\r\n    if (process.env.REACT_APP_DEVICE !== \"WEB\") return null;\r\n\r\n    let androidImage = `${process.env.PUBLIC_URL}/image/ANDROID.JPG`;\r\n    let iosImage = `${process.env.PUBLIC_URL}/image/IOS.JPG`;\r\n    return (\r\n      <div align=\"center\">\r\n      <Typography className={gClasses.message18}>Download the offical app</Typography>\r\n      <BlankArea />\r\n      <Typography className={gClasses.nonerror} align=\"center\">{downloadMessage}</Typography>\r\n      <Grid key=\"jp1\" container align=\"center\">\r\n        <Grid item xs={12} sm={12} md={12} lg={12} >\r\n        <button><img src={androidImage} alt=\"my image\" onClick={handleAndroid} /></button>\r\n        </Grid>\r\n        {/* <Grid item className={gClasses.downloadButon} xs={6} sm={6} md={6} lg={6} >\r\n        <button disabled><img src={iosImage}  alt=\"my image\" onClick={handleIos} /></button>\r\n        </Grid> */}\r\n      </Grid>\r\n      </div>\r\n    )  \r\n  } \r\n\t\r\n  \r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  function handleVisibility(visible) {\r\n    let myName = document.getElementById(\"userName\").value;\r\n    let myPassword = document.getElementById(\"password\").value;\r\n    setUserName(myName);\r\n    setPassword(myPassword);\r\n    setShowPassword(visible);\r\n  }\r\n\r\n  function NonMobile() {\r\n    return (\r\n      <TextField variant=\"outlined\" required fullWidth\r\n        id=\"password\" label=\"Password\" type=\"password\"\r\n        defaultValue={password}\r\n        // onChange={(event) => setPassword(event.target.value)}\r\n      />\r\n    )\r\n  }\r\n\r\n  \r\n  function PwdVisible() {\r\n    //console.log(\"IN visisble\");\r\n    return (\r\n      <TextField variant=\"outlined\" required fullWidth\r\n        id=\"password\" label=\"Password\" type=\"text\"\r\n        defaultValue={password}\r\n        InputProps={{\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <VisibilityOffIcon onClick={() => { handleVisibility(false); }} />\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n      />\r\n    )\r\n  }\r\n\r\n  function PwdNotVisible() {\r\n    //console.log(\"In non visisble\")\r\n    return (\r\n      <TextField variant=\"outlined\" required fullWidth\r\n        id=\"password\" label=\"Password\" type=\"password\"\r\n        defaultValue={password}\r\n        InputProps={{\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <VisibilityIcon onClick={() => { handleVisibility(true); }} />\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n      />\r\n    )\r\n\r\n  }\r\n\r\n  function GetPassword() {\r\n    let itIsMobile = isMobile();\r\n    //console.log(\"Mobile\", itIsMobile)\r\n    if (itIsMobile) {\r\n      if (showPassword) \r\n        return <PwdVisible />\r\n      else\r\n        return <PwdNotVisible />\r\n    } else {\r\n      return <NonMobile />\r\n    }\r\n  }\r\n\r\n  //console.log(\"In sign in\");\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={gClasses.paper}>\r\n        <ACALogo />        \r\n        <Typography component=\"h1\" variant=\"h5\">Sign in</Typography>\r\n        <form className={gClasses.form} onSubmit={handleSubmit} noValidate>\r\n          <TextField\r\n            // autoComplete=\"fname\"\r\n            id=\"userName\"\r\n            label=\"User Name\"\r\n            // name=\"userName\"\r\n            variant=\"outlined\"\r\n            required\r\n            fullWidth\r\n            defaultValue={userName}\r\n            // autoFocus\r\n            // onChange={(event) => setUserName(event.target.value)}\r\n          />\r\n          <Typography className={gClasses.root}>\r\n              <Link href=\"#\" onClick={handleForgotName} variant=\"body2\">\r\n              Forgot User name\r\n              </Link>\r\n            </Typography>\r\n          <h3></h3>\r\n          <GetPassword />\r\n          <div>\r\n            <Typography className={(errorMessage.isError) ? gClasses.error : gClasses.nonerror} align=\"left\">{errorMessage.msg}</Typography>\r\n            <Typography className={gClasses.root}>\r\n              <Link href=\"#\" onClick={handleForgot} variant=\"body2\">\r\n              Forgot password\r\n              </Link>\r\n            </Typography>\r\n          </div>\r\n          <Button \r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={gClasses.submit}\r\n            onClick={handleSignUp}\r\n          >\r\n            Sign In\r\n          </Button>\r\n        </form>\r\n        <BlankArea />\r\n        <DisplayDownload />\r\n      </div>\r\n      {/* <Route  path='/admin/emailpassword' component={Reset} key=\"MemberList\"/>\r\n      <Route  path='/admin/register' component={SignUp} key=\"NewGroup\"></Route> */}\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState ,useContext} from 'react';\r\n// import Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n// import TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\n// import { Switch, Route } from 'react-router-dom';\r\n// import Grid from '@material-ui/core/Grid';\r\n// import Box from '@material-ui/core/Box';\r\n//import LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport Container from '@material-ui/core/Container';\r\n//import { UserContext } from \"../../UserContext\";\r\n//import axios from \"axios\";\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport { TextField, InputAdornment } from \"@material-ui/core\";\r\nimport red from '@material-ui/core/colors/red';\r\n// import { useHistory } from \"react-router-dom\";\r\n// import SignIn from \"./SignIn.js\";\r\nimport { cdRefresh, encrypt, decrypt, isMobile,\r\n  validateSpecialCharacters, validateMobile, validateEmail,\r\n} from \"views/functions.js\";\r\nimport { ACALogo, BlankArea, ValidComp } from 'CustomComponents/CustomComponents.js';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n  },\r\n}));\r\n\r\n\r\nexport default function SignUp() {\r\n  const classes = useStyles();\r\n  const gClasses = globalStyles();\r\n  // const history = useHistory();\r\n  const [referalCode, setReferalCode] = useState(\"\");\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [repeatPassword, setRepeatPassword] = useState(\"\");\r\n  const [registerStatus, setRegisterStatus] = useState(199);\r\n  const [mobile, setMobile] = useState(\"\");\r\n  // const { setUser } = useContext(UserContext);\r\n\r\n  const handleSubmit = async() => {\r\n    console.log(\"Submit command provided\");\r\n    let x = getInput();\r\n    console.log(\"fetched value\", x);\r\n    if (validate(\"userName\")) return;\r\n    if (validate(\"password\")) return;\r\n    if (validate(\"repeatPassword\", \"password\")) return;\r\n    // console.log(\"All okay\");\r\n\r\n    let tmp1 = encrypt(x.password);\r\n    let tmp2 = encrypt(email);\r\n    let rCode = (referalCode !== \"\") ? referalCode : \"NA\";\r\n\t\t\r\n    let response = await fetch(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/cricsignup/${x.userName}/${tmp1}/${tmp2}/${mobile}/${rCode}`);\r\n    if (response.status === 200) {\r\n      let setemailresp = await fetch(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/cricemailwelcome/${tmp2}`);\r\n      // history.push(\"/signin\");\r\n      sessionStorage.setItem(\"currentLogin\", \"SIGNIN\");\r\n      cdRefresh();\r\n\r\n    } else {\r\n      // error\r\n      setRegisterStatus(response.status);\r\n      console.log(`Status is ${response.status}`);\r\n    }\r\n  }\r\n\r\n  function handleLogin() {\r\n    // console.log(\"Call for login here\");\r\n    // history.push(\"/signin\")\r\n    sessionStorage.setItem(\"currentLogin\", \"SIGNIN\");\r\n    cdRefresh();\r\n\r\n  }\r\n\r\n  function ShowResisterStatus() {\r\n    // console.log(`Status is ${registerStatus}`);\r\n    let myMsg;\r\n    switch (registerStatus) {\r\n      case 199:\r\n        myMsg = \"\";\r\n        break;\r\n      case 200:\r\n        // setUserName(\"\");\r\n        // setPassword(\"\");\r\n        // setRepeatPassword(\"\");\r\n        // setEmail(\"\");\r\n        myMsg = `User ${userName} successfully regisitered.`;\r\n        break;\r\n      case 602:\r\n        myMsg = \"User Name already in use\";\r\n        break;\r\n      case 603:\r\n        myMsg = \"Email id already in use\";\r\n        break;\r\n      default:\r\n          myMsg = \"Unknown Error\";\r\n          break;\r\n    }\r\n    return(\r\n      <div>\r\n        <Typography className={(registerStatus === 200) ? gClasses.nonerror : gClasses.error}>{myMsg}</Typography>\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n  const [error, setError] = useState({});\r\n  const [helperText, setHelperText] = useState({});\r\n  function validate(eid, eid2) {\r\n    getInput();\r\n    let e = document.getElementById(eid);\r\n    let myValue = e.value; \r\n    // console.log(eid, myValue);\r\n    let newError=false;\r\n    let newText = \"\";\r\n    \r\n    switch (eid) {\r\n      case \"userName\":\r\n        if (!validateSpecialCharacters(myValue)) {\r\n          newError = true;\r\n          newText = 'Special characters not permitted';\r\n        } else if (myValue.length < 6) {\r\n          newError = true;\r\n          newText = \"Mimumum 6 characters required\";\r\n        }\r\n      break;\r\n      case \"password\":\r\n        // console.log(\"Setting password as \", myValue);\r\n        // setPassword(myValue);\r\n        if (!validateSpecialCharacters(myValue)) {\r\n          newError = true;\r\n          newText = 'Special characters not permitted';\r\n        } else if (myValue.length < 6) {\r\n          newError = true;\r\n          newText = \"Mimumum 6 characters required\";\r\n        }\r\n      break;\r\n      case \"repeatPassword\":\r\n        let myValue2 = document.getElementById(eid2).value;\r\n        // setRepeatPassword(myValue);\r\n        if (myValue !== myValue2) {\r\n          newError = true;\r\n          newText = 'Password mismatch';\r\n        } \r\n      break;\r\n    }\r\n    \r\n    let x = {};\r\n    x[eid] = newError;\r\n    setError(x);\r\n    \r\n    x = {};\r\n    x[eid] = newText;\r\n    setHelperText(x);\r\n\r\n    e.focus();\r\n    return newError;\r\n  }\r\n\r\n  function getInput() {\r\n    let myName = document.getElementById(\"userName\").value;\r\n    let myPass1 = document.getElementById(\"password\").value;\r\n    let myPass2 = document.getElementById(\"repeatPassword\").value;\r\n    // console.log(myName, myPass1, myPass2);\r\n\r\n    setUserName(myName);\r\n    setPassword(myPass1);\r\n    setRepeatPassword(myPass2);\r\n    return {\r\n      userName: myName,\r\n      password: myPass1,\r\n      repeatPassword: myPass2\r\n    }\r\n  }\r\n\r\n  const [showPass1, setShowPass1] = useState(false);\r\n  const [showPass2, setShowPass2] = useState(false);\r\n\r\n  function handleVisibility1(isVisible) {\r\n    // console.log(\"In visisble 1\", isVisible);\r\n    getInput();\r\n    setShowPass1(isVisible);\r\n    let e = document.getElementById('password');\r\n    e.focus();\r\n  }\r\n\r\n  function handleVisibility2(isVisible) {\r\n    // console.log(\"In visisble 2\", isVisible);\r\n    getInput();\r\n    setShowPass2(isVisible);\r\n    let e = document.getElementById('repeatPassword');\r\n    e.focus();\r\n  }\r\n\r\n  function Password1NonMobile() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"password\" label=\"Password\" type=\"password\"\r\n      defaultValue={password}\r\n      // onChange={(event) => validate(\"password\")}\r\n      error={error.password}\r\n      helperText={helperText.password}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n  function Password2NonMobile() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"repeatPassword\" label=\"Repeat Password\" type=\"password\"\r\n      defaultValue={repeatPassword}\r\n      // onChange={(event) => validate(\"repeatPassword\", \"password\")}\r\n      error={error.repeatPassword}\r\n      helperText={helperText.repeatPassword}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n  function Password1Text() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"password\" label=\"Password\" type=\"text\"\r\n      defaultValue={password}\r\n      // onChange={(event) => validate(\"password\")}\r\n      error={error.password}\r\n      helperText={helperText.password}\r\n      InputProps={{\r\n        endAdornment: (\r\n          <InputAdornment position=\"end\">\r\n            <VisibilityOffIcon onClick={() => { handleVisibility1(false); }} />\r\n          </InputAdornment>\r\n        ),\r\n      }}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n  function Password2Text() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"repeatPassword\" label=\"Repeat Password\" type=\"text\"\r\n      defaultValue={repeatPassword}\r\n      // onChange={(event) => validate(\"password\")}\r\n      error={error.repeatPassword}\r\n      helperText={helperText.repeatPassword}\r\n      InputProps={{\r\n        endAdornment: (\r\n          <InputAdornment position=\"end\">\r\n            <VisibilityOffIcon onClick={() => { handleVisibility2(false); }} />\r\n          </InputAdornment>\r\n        ),\r\n      }}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n  function Password1Password() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"password\" label=\"Password\" type=\"password\"\r\n      defaultValue={password}\r\n      // onChange={(event) => validate(\"password\")}\r\n      error={error.password}\r\n      helperText={helperText.password}\r\n      InputProps={{\r\n        endAdornment: (\r\n          <InputAdornment position=\"end\">\r\n            <VisibilityIcon onClick={() => { handleVisibility1(true); }} />\r\n          </InputAdornment>\r\n        ),\r\n      }}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n  function Password2Password() {\r\n    return (\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n      id=\"repeatPassword\" label=\"Repeat Password\" type=\"password\"\r\n      defaultValue={repeatPassword}\r\n      // onChange={(event) => validate(\"password\")}\r\n      error={error.repeatPassword}\r\n      helperText={helperText.repeatPassword}\r\n      InputProps={{\r\n        endAdornment: (\r\n          <InputAdornment position=\"end\">\r\n            <VisibilityIcon onClick={() => { handleVisibility2(true); }} />\r\n          </InputAdornment>\r\n        ),\r\n      }}\r\n      // validators={['required', 'minLength', 'noSpecialCharacters']}\r\n      // errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n      // value={password}\r\n    />\r\n    );\r\n  }\r\n\r\n\r\n  function DisplayPassword1() {\r\n    // let tmp = isMobile();\r\n    // console.log(\"is mobile2\", tmp);\r\n    if (isMobile()) {\r\n      if (showPass1) {\r\n        return <Password1Text />\r\n      } else {\r\n        return <Password1Password />\r\n      }\r\n    } else {\r\n      return <Password1NonMobile />\r\n    }\r\n  }\r\n\r\n  function DisplayPassword2() {\r\n    // let tmp = isMobile();\r\n    // console.log(\"is mobile2\", tmp);\r\n    if (isMobile()) {\r\n      if (showPass2) {\r\n        return <Password2Text />\r\n      } else {\r\n        return <Password2Password />\r\n      }\r\n    } else {\r\n      return <Password2NonMobile />\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={gClasses.paper}>\r\n        <ACALogo />\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Register New User\r\n        </Typography>\r\n    <ValidatorForm className={gClasses.form} onSubmit={handleSubmit}>\r\n      {/*<TextValidator variant=\"outlined\" fullWidth\r\n          id=\"referral\" label=\"Referral Code\" name=\"referral\"\r\n          // defaultValue={userName}\r\n          onChange={(event) => setReferalCode(event.target.value)}\r\n          validators={['noSpecialCharacters']}\r\n          errorMessages={[`Special Characters not permitted`]}\r\n          // error={error.userName}\r\n          // helperText={helperText.userName}\r\n          value={referalCode}\r\n        />\r\n      <BlankArea/>*/}\r\n      <TextValidator variant=\"outlined\" required fullWidth\r\n          id=\"userName\" label=\"User Name\" name=\"username\"\r\n          // defaultValue={userName}\r\n          onChange={(event) => setUserName(event.target.value)}\r\n          validators={['required', 'minLength', 'noSpecialCharacters']}\r\n          errorMessages={['User Name to be provided', 'Mimumum 6 characters required', ]}\r\n          // error={error.userName}\r\n          // helperText={helperText.userName}\r\n          value={userName}\r\n      />\r\n      <BlankArea/>\r\n      <TextValidator\r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth      \r\n          label=\"Email\"\r\n          onChange={(event) => setEmail(event.target.value)}\r\n          name=\"email\"\r\n          type=\"email\"\r\n          validators={['isEmailOK', 'required']}\r\n          errorMessages={['Invalid Email', 'Email to be provided']}\r\n          value={email}\r\n      />\r\n      <BlankArea/>\r\n      <TextValidator\r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth      \r\n          label=\"Mobile\"\r\n          onChange={(event) => setMobile(event.target.value)}\r\n          name=\"mobile\"\r\n          //type=\"email\"\r\n          validators={['required', 'mobile']}\r\n          errorMessages={[, 'Mobile to be provided', '10 digit mobile number required']}\r\n          value={mobile}\r\n      />\r\n      <BlankArea/>\r\n      <DisplayPassword1 />\r\n      <BlankArea/>\r\n      <DisplayPassword2 />\r\n      <BlankArea/>\r\n      <Button\r\n        type=\"submit\"\r\n        fullWidth\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        className={gClasses.submit}\r\n      >\r\n        Register\r\n    </Button>\r\n    </ValidatorForm>\r\n    <ShowResisterStatus/>\r\n    </div>\r\n    <ValidComp p1={password}/>    \r\n    <Typography className={gClasses.root}>\r\n      <Link href=\"#\" onClick={handleLogin} variant=\"body2\">\r\n        Already have an account? Sign in \r\n      </Link>\r\n    </Typography>\r\n    {/* <Switch>\r\n      <Route  path='/admin/signin' component={SignIn} key=\"MemberList\"/>\r\n    </Switch> */}\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\n// import './App.css';\r\nimport axios from \"axios\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport Avatar from \"@material-ui/core/Avatar\"\r\n// import download from 'js-file-download';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport globalStyles from \"assets/globalStyles\";\r\n// import modalStyles from \"assets/modalStyles\";\r\n\r\nimport { downloadApk } from \"views/functions\";\r\nimport { BlankArea } from 'CustomComponents/CustomComponents';\r\nimport { isMobile, cdRefresh } from \"views/functions.js\"\r\nimport { red, blue, deepOrange } from '@material-ui/core/colors';\r\n\r\n// const APPNAME  = process.env.REACT_APP_NAME;\r\n// const APLAXIOS = process.env.REACT_APP_APLAXIOS;\r\nconst BRHEIGHT = 8;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tbackground: {\r\n\t\tbackgroundImage:  `${process.env.PUBLIC_URL}/image/APLIMAGE.JPG`,\r\n\t},\r\n\tcontainer: {\r\n\t\tbackgroundImage: `${process.env.PUBLIC_URL}/image/APLIMAGE.JPG`,   //`url(${backgroundImage})`,\r\n\t\tbackgroundPosition: 'center',\r\n\t\tbackgroundSize: 'cover',\r\n\t\tbackgroundRepeat: 'no-repeat',\r\n\t\twidth: '100vw',\r\n\t\theight: '100vh'\r\n\t},\r\n\tbuttonLeft: {\r\n\t\tposition: \"fixed\",\r\n\t\ttop: \"1%\",\r\n\t\tleft: \"2%\"\r\n\t},\r\n\tbuttonRight1: {\r\n\t\tposition: \"fixed\",\r\n\t\ttop: \"1%\",\r\n\t\tright: \"26%\"\r\n\t},\r\n\tbuttonRight2: {\r\n\t\tposition: \"fixed\",\r\n\t\ttop: \"1%\",\r\n\t\tright: \"1%\"\r\n\t},\r\n\tdlm: {\r\n\t\tposition: \"fixed\",\r\n\t\ttop: \"6%\",\r\n\t\tleft: \"1%\",\r\n\t\t//right: 'auto',\r\n\t\tcolor: blue[900],\r\n\t\tfontSize: '12px',\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t},\r\n\tdlm2: {\r\n\t\tleft: \"1%\",\r\n\t\t//right: 'auto',\r\n\t\tcolor: blue[900],\r\n\t\tfontSize: '12px',\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t},\r\n\tleft: {\r\n\t\tfontSize: theme.typography.pxToRem(16),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: red[900],\r\n\t\t//align: \"right\",\r\n\t  },\r\n\tright: {\r\n\t\tfontSize: theme.typography.pxToRem(16),\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tcolor: blue[900]\r\n\t},\r\n\toContainer: {\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: 'center',\r\n\t\tjustifyContent: 'center',\r\n\t},\r\n\toImage: {\r\n\t\tflexBasis: '40%',\r\n\t},\r\n\toText1: {\r\n\t\tfontSize: \"20px\",\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tpaddingLeft: \"0px\",\r\n\t\talign: \"center\"\r\n\t},\r\n\toText2: {\r\n\t\tfontSize: \"16px\",\r\n\t\talign: \"left\",\r\n\t\tfontWeight: theme.typography.fontWeightBold,\r\n\t\tpaddingLeft: \"0px\",\r\n\t}\r\n}));\r\n\r\nconst Welcome = () => {\r\n\tlet classes = useStyles();\r\n\tlet gClasses = globalStyles();\r\n\tconst [windowWidth, setWindowWidth] = useState(window.innerWidth);\r\n\tconst [windowHeight, setWindowHeight] = useState(window.innerHeight);\r\n\tconst [bgImage, setBgImage] = useState(\"APLIMAGE\")\r\n\tconst [ downloadMessage, setDownloadMessage ] = useState(\"\");\r\n\tconst [allOffer, setAllOffer] = useState([]);\r\n\r\n\t// const imageUrl =  ? desktopImage : mobileImage;\r\n\t// const [breakCount, setBreakCount] = useState(0);\r\n\t// const [dummyArray, setDummyArray] = useState([]);\r\n\t// const [ downloadMessage, setDownloadMessage ] = useState(\"\");\r\n\r\n\tfunction calculateBR() {\r\n\t\t// console.log(window.innerHeight, BRHEIGHT);\r\n\t\t// let myCount = Math.floor(window.innerHeight / BRHEIGHT) - 10;\r\n\t\t// if (myCount < 1) myCount = 1;\r\n\t\t// if (myCount > (200-1)) myCount = (200-1);\r\n\t\t// setBreakCount(myCount);\r\n\t\t// console.log(breakCount);\r\n\t\t// let tmp = (window.innerWidth >= 650) ? \"WELCOME\" : \"MOBILE\";\r\n\t\t// console.log(\"Imgae is\", tmp);\r\n\t\t// setBgImage(tmp);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst handleWindowResize = () => {\r\n\t\t\tconsole.log(window.innerHeight, window.innerWidth);\r\n\t\t\tcalculateBR();\r\n\t\t\tsetWindowWidth(window.innerWidth);\r\n\t\t\tsetWindowHeight(window.innerHeight);\r\n\t\t\t// console.log()\r\n\t\t};\r\n\r\n\t\tconst getOffer = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tlet resp = await axios.get(`${process.env.REACT_APP_AXIOS_BASEPATH}/apl/getoffer/ALL`); \r\n\t\t\t\tsetAllOffer(resp.data);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetWindowWidth(window.innerWidth);\r\n\t\tsetWindowHeight(window.innerHeight);\r\n\t\twindow.addEventListener('resize', handleWindowResize);\r\n\t\tcalculateBR();\r\n\t\tgetOffer();\r\n\t\t\r\n\t\treturn () => {\r\n\t\t\t\twindow.removeEventListener('resize', handleWindowResize);\r\n\t\t}\r\n\t}, []);\r\n    \r\n    \r\n\tfunction handleSignin() {\r\n\t\tsessionStorage.setItem(\"currentLogin\", \"SIGNIN\");\r\n\t\tcdRefresh();\r\n\t}\r\n\t\r\n\tfunction handleSignup() {\r\n\t\tsessionStorage.setItem(\"currentLogin\", \"SIGNUP\");\r\n\t\tcdRefresh();\r\n\t}\r\n\r\n\tfunction DisplayEasy() {\r\n\treturn(\r\n\t\t<p>\r\n\t\t<span className={classes.left}>Auction Premier League</span>\r\n\t\t<span className={classes.right}> is easy to play with.</span>\r\n\t\t</p>\r\n\t)};\r\n\r\n\r\n\tasync function handleAndroid() {\r\n\t\ttry {\r\n\t\t\tsetDownloadMessage(\"APL Android app download started. Please wait...\")\r\n\t\t\t// console.log(\"Download Android app\");\r\n\t\t\tawait downloadApk();\r\n\t\t\tsetDownloadMessage(\"APL Android app download complete.\")\r\n\t\t\t// console.log(\"APK has to be downloaded\");\r\n\t\t} catch (e) {\r\n\t\t\tsetDownloadMessage(\"Error encountred while downloading APL Android app\", true)\r\n\t\t}\r\n\t\tsetTimeout(() => setDownloadMessage(\"\"), 5000);    \r\n\t}\r\n\r\n\tfunction DisplayTopButtons() {\r\n\treturn (\r\n\t<div>\r\n\t\t<Button type=\"submit\" variant=\"contained\" color=\"primary\" \r\n\t\tonClick={handleSignin}\r\n\t\tclassName={classes.buttonRight1}\r\n\t\t>\r\n\t\tLogin\r\n\t\t</Button>\r\n\t\t<Button type=\"submit\" variant=\"contained\" color=\"primary\" \r\n\t\tonClick={handleSignup}\r\n\t\tclassName={classes.buttonRight2}\r\n\t\t>\r\n\t\tRegister\r\n\t\t</Button>\r\n\t\t{ /* <Typography className={classes.dlm} align=\"center\">{downloadMessage}</Typography> */ }\r\n\t</div>\r\n\t)};\r\n\t\t\t\r\n\r\n\tfunction DisplayStep(props) {\r\n\treturn(\r\n\t\t// <Box borderColor=\"primary.main\" border={2}>\r\n\t\t<img src={`${process.env.PUBLIC_URL}/image/S${props.step}.JPG`} alt=\"ARUN\" />\r\n\t\t// </Box>\r\n\t)}\r\n\r\n\tfunction DisplayOffer(props) {\r\n\t// console.log(props.offer);\r\n\treturn (\r\n\t\t<Box key={props.offer.header} borderColor=\"primary.main\" border={2}>\r\n\t\t\t<Grid key={props.offer.header} container justify=\"center\" alignItems=\"center\" >\r\n\t\t\t<GridItem key={props.offer.header+\"1\"}  xs={2} sm={2} md={2} lg={2} >\r\n\t\t\t\t<Avatar variant=\"square\" \r\n\t\t\t\tsrc={`${process.env.PUBLIC_URL}/image/OFFER2.JPG`}\r\n\t\t\t\tclassName={classes.medium} />   \r\n\t\t\t</GridItem>\r\n\t\t\t<GridItem key={props.offer.header+\"2\"} xs={10} sm={10} md={10} lg={10} >\r\n\t\t\t<Typography className={classes.oText1}>{props.offer.header}</Typography>\r\n\t\t\t<Typography className={classes.oText2}>{props.offer.message}</Typography>\r\n\t\t\t</GridItem>\r\n\t\t\t</Grid>\r\n\t\t</Box>\r\n\t)}\r\n\r\n\tlet image1= `${process.env.PUBLIC_URL}/image/APLWELCOME1.JPG`;\r\n\tlet image2= `${process.env.PUBLIC_URL}/image/APLWELCOME2.JPG`;\r\n\t// console.log(image1, image2);\r\n\treturn (\r\n\t<div align=\"center\">\r\n\t\t<DisplayTopButtons />\r\n\t\t<img src={image1} alt=\"ARUN\" height={windowHeight} width={windowWidth}/>\r\n\t\t<DisplayEasy />\r\n\t\t<BlankArea />\r\n\t\t<DisplayStep step=\"1\" />\r\n\t\t<DisplayStep step=\"2\" />\r\n\t\t<DisplayStep step=\"3\" />\r\n\t\t<DisplayStep step=\"4\" />\r\n\t\t<DisplayStep step=\"5\" />\r\n\t\t<DisplayStep step=\"6\" />\r\n\t\t{allOffer.map((item) => {\r\n\t\t\t// console.log(item);\r\n\t\t\treturn (\r\n\t\t\t<DisplayOffer key={item.header} offer={item} />\r\n\t\t)})}\r\n\t\t<Typography className={classes.dlm2} align=\"center\">{downloadMessage}</Typography>\r\n\t\t<Button onClick={handleAndroid} >\r\n\t\t<img src={image2} alt=\"ARUN\" />\r\n\t\t</Button>\r\n\t</div>\r\n\t);\r\n};\r\n\r\nexport default Welcome;\r\n","import React, { useState, useEffect ,useContext} from 'react';\r\n//import Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Link from '@material-ui/core/Link';\r\n//import { Switch, Route } from 'react-router-dom';\r\n// import Grid from '@material-ui/core/Grid';\r\n// import Box from '@material-ui/core/Box';\r\n//import LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\n// import TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport globalStyles from \"assets/globalStyles\";\r\nimport Container from '@material-ui/core/Container';\r\n//import { UserContext } from \"../../UserContext\";\r\nimport axios from \"axios\";\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport red from '@material-ui/core/colors/red';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { cdRefresh, encrypt} from \"views/functions.js\";\r\nimport { ACALogo, BlankArea, ValidComp } from 'CustomComponents/CustomComponents.js';\r\nimport { setTab } from \"CustomComponents/CricDreamTabs.js\"\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n  },\r\n}));\r\n\r\n/***\r\nclass ChildComp extends React.Component {\r\n\r\n  componentDidMount()  {\r\n    // custom rule will have name 'isPasswordMatch'\r\n    ValidatorForm.addValidationRule('isPasswordMatch', (value) => {\r\n      return (value === this.props.p1)\r\n    });\r\n\r\n    ValidatorForm.addValidationRule('minLength', (value) => {\r\n      return (value.length >= 6)\r\n    });\r\n\r\n    ValidatorForm.addValidationRule('noSpecialCharacters', (value) => {\r\n      return validateSpecialCharacters(value);\r\n    });\r\n\r\n    ValidatorForm.addValidationRule('isEmailOK', (value) => {\r\n      return validateEmail(value);\r\n    });\r\n  }\r\n\r\n  \r\n  componentWillUnmount() {\r\n    // remove rule when it is not needed\r\n    ValidatorForm.removeValidationRule('isPasswordMatch');\r\n    ValidatorForm.removeValidationRule('isEmailOK');\r\n    ValidatorForm.removeValidationRule('minLength');\r\n    ValidatorForm.removeValidationRule('noSpecialCharacters');   \r\n  }\r\n\r\n  render() {\r\n    return <br/>;\r\n  }\r\n\r\n}\r\n***/\r\n\r\n\r\n\r\nexport default function ResetPassword() {\r\n  const classes = useStyles();\r\n\tconst gClasses = globalStyles();\r\n//  const history = useHistory();\r\n  // const [userName, setUserName] = useState(\"\");\r\n  const [currentPassword, setCurrentPassword] = useState(\"\");\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [repeatPassword, setRepeatPassword] = useState(\"\");\r\n  const [registerStatus, setRegisterStatus] = useState(0);\r\n\tconst [disableButton, setDisableButton] = useState(true);\r\n\r\n  // const { setUser } = useContext(UserContext);\r\n\r\n  // const handleChange = (event) => {\r\n  //   const { user } = this.state;\r\n  //   user[event.target.name] = event.target.value;\r\n  //   this.setState({ user });\r\n  // }\r\n\t\r\n\tuseEffect(() => {\r\n\r\n    const verifyCode = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tlet myUrl = `${process.env.REACT_APP_AXIOS_BASEPATH}/user/cricverifycode/${sessionStorage.getItem(\"currentUserCode\")}`\r\n\t\t\t\t// console.log(myUrl);\r\n\t\t\t\tlet  response = await axios.get(myUrl);\r\n\t\t\t\t// console.log(response.data);\r\n\t\t\t\tlet sts = response.data.status;\r\n\t\t\t\t// console.log(\"Status:\", sts);\r\n\t\t\t\tsetRegisterStatus(sts);\r\n\t\t\t\tsetDisableButton(false);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(\"Failed\");\r\n\t\t\t\tsetRegisterStatus(1001);\r\n\t\t\t}\r\n    }\r\n    verifyCode();\r\n  }, []);\r\n\r\n\r\n\r\n  const handleSubmit = async() => {\r\n    console.log(\"Submit command provided\");\r\n    if (true) {\r\n      //let tmp1 = encrypt(currentPassword);\r\n      let tmp2 = encrypt(newPassword);\r\n      let response = await fetch(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/cricresetpassword/${sessionStorage.getItem(\"currentUserCode\")}/${tmp2}`);\r\n      if (response.status === 200) {\r\n\t\t\t\tsessionStorage.setItem(\"currentLogin\",\"SIGNIN\");\r\n        setTab(0);\r\n      } else {\r\n        // error\r\n        setRegisterStatus(response.status);\r\n        console.log(`Status is ${response.status}`);\r\n      }\r\n    } \r\n  }\r\n\r\n\r\n  function ShowResisterStatus() {\r\n    // console.log(`Status is ${registerStatus}`);\r\n    let myMsg;\r\n    switch (registerStatus) {\r\n      case 0:\r\n        myMsg = ``;\r\n        break;\r\n      case 200:\r\n        myMsg = `Updated Password successfully.`;\r\n        break;\r\n      case 602:\r\n        myMsg = \"Invalid Current password\";\r\n        break;\r\n      case 611:\r\n        myMsg = \"New password cannot be same as Current Password\";\r\n      break;\r\n\t\t\tcase 1001:\r\n\t\t\tcase 1002:\r\n        myMsg = \"Invalid / Expired Link\";\r\n\t\t\tbreak; \r\n\t\t\tcase 99999:\r\n        myMsg = \"Reset link expired\";\r\n\t\t\tbreak; \r\n      default:\r\n        myMsg = \"Unknown Error\";\r\n        break;\r\n    }\r\n    return(\r\n      <Typography className={(registerStatus === 200) ? classes.root : classes.error}>{myMsg}</Typography>\r\n    )\r\n\t}\r\n\r\n\tfunction handleLogin() {\r\n    // console.log(\"Call for login here\");\r\n    // history.push(\"/signin\")\r\n    sessionStorage.setItem(\"currentLogin\", \"SIGNIN\");\r\n    cdRefresh();\r\n\r\n  }\r\n\t\r\n\tfunction handleForgot() {\r\n\t\tsessionStorage.setItem(\"currentLogin\", \"RESET\");\r\n    cdRefresh();\r\n\t}\r\n\t\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n\t\t\t<ACALogo /> \r\n      <Typography component=\"h1\" variant=\"h5\">\r\n        Reset Password\r\n      </Typography>\r\n      <ValidatorForm className={classes.form} onSubmit={handleSubmit}>\r\n      <TextValidator\r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth      \r\n          label=\"New Password\"\r\n          onChange={(event) => setNewPassword(event.target.value)}\r\n          name=\"password\"\r\n          type=\"password\"\r\n          validators={['required', 'minLength', 'noSpecialCharacters']}\r\n          errorMessages={['Password to be provided', 'Mimumum 6 characters required', 'Special characters not permitted']}\r\n          value={newPassword}\r\n      />\r\n      <BlankArea/>\r\n      <TextValidator\r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth      \r\n          label=\"Repeat password\"\r\n          onChange={(event) => setRepeatPassword(event.target.value)}\r\n          name=\"repeatPassword\"\r\n          type=\"password\"\r\n          validators={['isPasswordMatch', 'required']}\r\n          errorMessages={['password mismatch', 'this field is required']}\r\n          value={repeatPassword}\r\n      />\r\n      <ShowResisterStatus/>\r\n      <BlankArea/>\r\n      <Button\r\n        type=\"submit\"\r\n        fullWidth\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        className={(registerStatus === 0) ? gClasses.show : gClasses.hide}\r\n\t\t\t\t//disabled={disableButton}\r\n      >\r\n        Update\r\n\t\t\t</Button>\r\n\t\t\t<Button\r\n        //type=\"submit\"\r\n        fullWidth\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        className={(registerStatus !== 0) ? gClasses.show : gClasses.hide}\r\n\t\t\t\tonClick={handleForgot}\r\n\t\t\t\t//disabled={disableButton}\r\n      >\r\n        Regenrate Link\r\n\t\t\t</Button>\r\n    </ValidatorForm>\r\n    </div>\r\n    <ValidComp p1={newPassword}/>  \r\n\t\t<Typography className={classes.root}>\r\n      <Link href=\"#\" onClick={handleLogin} variant=\"body2\">\r\n        Already have an account? Sign in \r\n      </Link>\r\n    </Typography>\t\t\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState ,useContext} from 'react'; \r\n//import Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n// import TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\n// import { Switch, Route } from 'react-router-dom';\r\n// import Grid from '@material-ui/core/Grid';\r\n// import Box from '@material-ui/core/Box';\r\n//import LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\n//import { UserContext } from \"../../UserContext\";\r\n// import axios from \"axios\";\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport red from '@material-ui/core/colors/red';\r\nimport { useHistory } from \"react-router-dom\";\r\n// import SignIn from \"./SignIn.js\";\r\nimport {ValidComp, BlankArea, ACALogo} from \"CustomComponents/CustomComponents.js\"\r\nimport { cdRefresh, encrypt } from \"views/functions.js\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n  },\r\n  textData: {\r\n    fontSize: '14px',\r\n    margin: theme.spacing(0),\r\n  },\r\n}));\r\n\r\n/***\r\nclass ChildComp extends React.Component {\r\n\r\n  componentDidMount()  {\r\n\r\n    ValidatorForm.addValidationRule('isEmailOK', (value) => {\r\n      return validateEmail(value);\r\n    });\r\n\r\n  }\r\n\r\n\r\n  componentWillUnmount() {\r\n    // remove rule when it is not needed\r\n    ValidatorForm.removeValidationRule('isEmailOK');\r\n  }\r\n\r\n  render() {\r\n    return <br/>;\r\n  }\r\n\r\n}\r\n***/\r\n\r\nexport default function ForgotPassword() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [registerStatus, setRegisterStatus] = useState(199);\r\n\r\n  // const { setUser } = useContext(UserContext);\r\n\r\n\r\n  const handleSubmit = async() => {\r\n    let tmp1 = encrypt(email); \r\n    //let response = await fetch(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/cricemailpassword/${tmp1}`);\r\n\t\tlet response = await fetch(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/acaemailreset/${tmp1}`);\r\n    setRegisterStatus(response.status);\r\n  }\r\n\r\n  function handleLogin() {\r\n    sessionStorage.setItem(\"currentLogin\", \"SIGNIN\");\r\n    cdRefresh();\r\n  }\r\n\r\n  function ShowResisterStatus() {\r\n    let myMsg;\r\n    switch (registerStatus) {\r\n      case 199:\r\n        myMsg = ``;\r\n        break;\r\n      case 200:\r\n        myMsg = `Successfully mailed reset password link`;\r\n        break;\r\n      case 602:\r\n        myMsg = `Email not configured in database`;\r\n        break;\r\n      case 603:\r\n        myMsg = `Transport error while sending email`;\r\n        break;\r\n      default:\r\n          myMsg = \"Unknown Error\";\r\n          break;\r\n    }\r\n    return(\r\n      <div>\r\n        <Typography className={(registerStatus === 200) ? classes.root : classes.error}>{myMsg}</Typography>\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n      <ACALogo />\r\n      {/* <Avatar className={classes.avatar}>\r\n        <LockOutlinedIcon />\r\n      </Avatar> */}\r\n      <Typography component=\"h1\" variant=\"h5\">Forgot Password.</Typography>\r\n      <br/>\r\n      <p className={classes.textData}>Forgot possword? Do not worry.</p>\r\n      <p className={classes.textData}>Password will be mailed to you</p>\r\n      <ValidatorForm className={classes.form} onSubmit={handleSubmit}>\r\n      <TextValidator\r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth      \r\n          label=\"Email\"\r\n          onChange={(event) => setEmail(event.target.value)}\r\n          name=\"email\"\r\n          type=\"email\"\r\n          validators={['isEmailOK', 'required']}\r\n          errorMessages={['Invalid Email', 'Email to be provided']}\r\n          value={email}\r\n      />\r\n      <ShowResisterStatus/>\r\n      <BlankArea/>\r\n      <Button\r\n        type=\"submit\"\r\n        fullWidth\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        className={classes.submit}\r\n      >\r\n        Submit\r\n    </Button>\r\n    </ValidatorForm>\r\n    <BlankArea/>\r\n    <Typography className={classes.root}>\r\n      <Link href=\"#\" onClick={handleLogin} variant=\"body2\">Already have an account? Sign in</Link>\r\n    </Typography>\r\n    </div>\r\n    <ValidComp />    \r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState ,useContext} from 'react'; \r\n//import Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n// import TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\n// import { Switch, Route } from 'react-router-dom';\r\n// import Grid from '@material-ui/core/Grid';\r\n// import Box from '@material-ui/core/Box';\r\n//import LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\n//import { UserContext } from \"../../UserContext\";\r\n// import axios from \"axios\";\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport red from '@material-ui/core/colors/red';\r\nimport { useHistory } from \"react-router-dom\";\r\n// import SignIn from \"./SignIn.js\";\r\nimport {ValidComp, BlankArea, ACALogo} from \"CustomComponents/CustomComponents.js\"\r\nimport { cdRefresh, encrypt } from \"views/functions.js\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  error:  {\r\n      // right: 0,\r\n      fontSize: '12px',\r\n      color: red[700],\r\n      // position: 'absolute',\r\n      alignItems: 'center',\r\n      marginTop: '0px',\r\n  },\r\n  textData: {\r\n    fontSize: '14px',\r\n    margin: theme.spacing(0),\r\n  },\r\n}));\r\n\r\nexport default function ForgotName() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [registerStatus, setRegisterStatus] = useState(199);\r\n\r\n  // const { setUser } = useContext(UserContext);\r\n\r\n\r\n  const handleSubmit = async() => {\r\n    let tmp1 = encrypt(email); \r\n    //let response = await fetch(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/cricemailpassword/${tmp1}`);\r\n\t\tlet response = await fetch(`${process.env.REACT_APP_AXIOS_BASEPATH}/user/acaemailusername/${tmp1}`);\r\n    setRegisterStatus(response.status);\r\n  }\r\n\r\n  function handleLogin() {\r\n    sessionStorage.setItem(\"currentLogin\", \"SIGNIN\");\r\n    cdRefresh();\r\n  }\r\n\r\n  function ShowResisterStatus() {\r\n    let myMsg;\r\n    switch (registerStatus) {\r\n      case 199:\r\n        myMsg = ``;\r\n        break;\r\n      case 200:\r\n        myMsg = `Successfully mailed user name`;\r\n        break;\r\n      case 602:\r\n        myMsg = `Email not configured in database`;\r\n        break;\r\n      case 603:\r\n        myMsg = `Transport error while sending email`;\r\n        break;\r\n      default:\r\n          myMsg = \"Unknown Error\";\r\n          break;\r\n    }\r\n    return(\r\n      <div>\r\n        <Typography className={(registerStatus === 200) ? classes.root : classes.error}>{myMsg}</Typography>\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n      <ACALogo />\r\n      {/* <Avatar className={classes.avatar}>\r\n        <LockOutlinedIcon />\r\n      </Avatar> */}\r\n      <Typography component=\"h1\" variant=\"h5\">Forgot user name</Typography>\r\n      <br/>\r\n      <p className={classes.textData}>Do not worry. User name will be mailed to you.</p>\r\n      <ValidatorForm className={classes.form} onSubmit={handleSubmit}>\r\n      <TextValidator\r\n          variant=\"outlined\"\r\n          required\r\n          fullWidth      \r\n          label=\"Email\"\r\n          onChange={(event) => setEmail(event.target.value)}\r\n          name=\"email\"\r\n          type=\"email\"\r\n          validators={['isEmailOK', 'required']}\r\n          errorMessages={['Invalid Email', 'Email to be provided']}\r\n          value={email}\r\n      />\r\n      <ShowResisterStatus/>\r\n      <BlankArea/>\r\n      <Button\r\n        type=\"submit\"\r\n        fullWidth\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        className={classes.submit}\r\n      >\r\n        Submit\r\n    </Button>\r\n    </ValidatorForm>\r\n    <Typography className={classes.root}>\r\n      <Link href=\"#\" onClick={handleLogin} variant=\"body2\">Sign in</Link>\r\n    </Typography>\r\n    </div>\r\n    <ValidComp />    \r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState, useMemo } from \"react\";\r\nimport { BrowserRouter as Router, Route, Redirect } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { createBrowserHistory } from \"history\";\r\nimport { UserContext } from \"./UserContext\";\r\n//import Admin from \"layouts/Admin.js\";\r\nimport \"assets/css/material-dashboard-react.css?v=1.9.0\";\r\n// import { DesktopWindows } from \"@material-ui/icons\";\r\nimport { AcaTabs, setTab }from \"CustomComponents/CricDreamTabs\"\r\nimport axios from \"axios\";\r\nimport SignIn from \"views/Login/SignIn.js\";\r\nimport SignUp from \"views/Login/SignUp.js\";\r\nimport Welcome from \"views/ACA/Welcome\";\r\nimport ResetPassword from \"views/Login/ResetPassword\";\r\n//import JoinGroup from \"views/Group/JoinGroup.js\"\r\nimport ForgotPassword from \"views/Login/ForgotPassword.js\";\r\nimport ForgotName from \"views/Login/ForgotName\";\r\nimport IdleTimer from 'react-idle-timer'\r\nimport { setIdle }from \"views/functions.js\"\r\nimport Wallet from \"views/Wallet/Wallet\";\r\nimport { PinDropSharp } from \"@material-ui/icons\";\r\nimport firebase  from 'firebase/app';\r\n//import messaging from \"firebase/messaging\"\r\n//import messaging from \"firebase/messaging\"\r\n\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\n\r\nimport { \r\nisMobile, cdRefresh, specialSetPos, \r\nencrypt, \r\nclearBackupData, downloadApk \r\n} from \"views/functions.js\"\r\n\r\n\r\n\r\nconst hist = createBrowserHistory();\r\n\r\n\r\nfunction checkJoinGroup(pathArray) {\r\n  let sts = false;\r\n  if ((pathArray[1].toLowerCase() === \"joingroup\") && (pathArray.length === 3) && (pathArray[2].length > 0)) {\r\n    sessionStorage.setItem(\"joinGroupCode\", pathArray[2]);\r\n    sts = true;\r\n  }\r\n  return sts;\r\n}\r\n\r\nfunction initCdParams() {\r\n  sessionStorage.setItem(\"joinGroupCode\", \"\");\r\n  let ipos = 0;\r\n  if ((sessionStorage.getItem(\"tabpos\") !== null) &&\r\n  (sessionStorage.getItem(\"tabpos\") !== \"\") ) {\r\n    ipos = parseInt(sessionStorage.getItem(\"tabpos\"));\r\n    if (ipos >= process.env.REACT_APP_BASEPOS) sessionStorage.setItem(\"tabpos\", ipos-process.env.REACT_APP_BASEPOS);\r\n  } else\r\n    sessionStorage.setItem(\"tabpos\", 0);\r\n  //console.log(`ipos: ${ipos}   Tabpos ${sessionStorage.getItem(\"tabpos\")}`)\r\n}\r\n\r\nfunction isUserLogged() {\r\n  //console.log(\"User is\", sessionStorage.getItem(\"uid\"));\r\n  if ((sessionStorage.getItem(\"uid\") === \"\") || \r\n      (sessionStorage.getItem(\"uid\") === \"0\") ||\r\n      (sessionStorage.getItem(\"uid\") === null))\r\n    return false;\r\n  else\r\n    return true;\r\n}\r\n\r\nfunction checkResetPasswordRequest() {\r\n\tlet resetLink = \"\";\r\n\tlet x = location.pathname.split(\"/\");\r\n  //console.log(\"Path is\");\r\n  //console.log(x);\r\n\tif (x.length >= 4)\r\n\tif (x[1] === \"aplmaster\")\r\n\tif (x[2] === \"resetpasswordconfirm\") {\r\n\t\tresetLink = x[3];\r\n\t}\r\n\treturn resetLink;\r\n}\r\n\r\n\r\nfunction AppRouter() {\r\n  //let history={hist}\r\n\t\r\n  const [user, setUser] = useState(null);\r\n\tconst [fireToken, setFireToken] = useState(\"\");\r\n\t\r\n  const value = useMemo(() => ({ user, setUser }), [user, setUser]);\r\n  var idleTimer = null;\r\n  \r\n  // console.log(`000. User is ${sessionStorage.getItem(\"uid\")}`)\r\n  \r\n  async function handleOnActive (event) {\r\n    // console.log('user is active', event);\r\n  }\r\n\r\n  async function handleOnAction (event) {\r\n    // console.log(`Action from user ${sessionStorage.getItem(\"uid\")}`);\r\n  }\r\n\r\n\r\n  async function handleOnIdle (event) {\r\n    // console.log('user is idle', event);\r\n    // console.log('last active', idleTimer.getLastActiveTime());\r\n    setIdle(true);\r\n  }\r\n\r\n\r\n\r\n  function DispayTabs() {\r\n    let isLogged = isUserLogged();\r\n    //console.log(\"Login status\", isLogged)\r\n    if (isLogged) {\r\n      // console.log(\"User is logged\");\r\n      let timeoutvalue = parseInt(process.env.REACT_APP_IDLETIMEOUT) * 1000;\r\n      return (\r\n        <div>\r\n          <AcaTabs/>\r\n        </div>\r\n      )  \r\n    } else {\r\n      //console.log(\"New login requested\");\r\n      if (sessionStorage.getItem(\"currentLogin\") === \"SIGNUP\")\r\n        return (<SignUp/>)\r\n      else if (sessionStorage.getItem(\"currentLogin\") === \"RESET\")\r\n        return (<ForgotPassword/>);\r\n      else if (sessionStorage.getItem(\"currentLogin\") === \"FORGOTNAME\")\r\n        return (<ForgotName/>);\r\n      else if (sessionStorage.getItem(\"currentLogin\") === \"SIGNIN\")\r\n        return (<SignIn/>)\r\n      else {\r\n\t\t\t\tlet userId = checkResetPasswordRequest();\r\n\t\t\t\t//console.log(\"MyID\", userId);\r\n\t\t\t\tif (userId !== \"\") {\r\n\t\t\t\t\tsessionStorage.setItem(\"currentUserCode\", userId);\r\n\t\t\t\t\thist.push(\"/\");\r\n\t\t\t\t\t//console.log(history, hist);\r\n\t\t\t\t\treturn (<ResetPassword />);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//console.log(\"sign in to be called\");\r\n\t\t\t\t\treturn (<SignIn/>)\r\n\t\t\t\t}\r\n\t\t\t}\r\n    }\r\n  }\r\n\r\n  // logic before displaying component\r\n  // window.onbeforeunload = () => Router.refresh();\r\n  //console.log(\"in before unload\");\r\n\r\n  initCdParams();\r\n\r\n  let mypath = window.location.pathname.split(\"/\");\r\n  if (checkJoinGroup(mypath)) {\r\n    //console.log(\"join group found\");\r\n    sessionStorage.setItem(\"tabpos\", 105);\r\n    //history.push(\"/\")\r\n  } \r\n\r\n  // return (\r\n  // <Router history={hist}> \r\n  //     <UserContext.Provider value={value}>\r\n  //       {!user && <Redirect from=\"/\" to=\"/signIn\" />}\r\n  //       <Route path=\"/joingroup\" component={JoinGroup} />\r\n  //       <Route path=\"/admin\" component={value ? Admin : SignIn} />\r\n  //       <Redirect from=\"/\" to=\"/signIn\" />\r\n  //     </UserContext.Provider>\r\n  //   </Router>\r\n  // );\r\n\r\nif ((true) && (process.env.REACT_APP_DEVICE === \"WEB\")) {\r\n\tconst arhamFireBaseconfig = {\r\n\t\tapiKey: \"AIzaSyBqJAEVFJOsrztnMrIqO0tfGmisU95Plrk\",\r\n\t\tauthDomain: \"aplclient.firebaseapp.com\",\r\n\t\tprojectId: \"aplclient\",\r\n\t\tstorageBucket: \"aplclient.appspot.com\",\r\n\t\tmessagingSenderId: \"1018469539659\",\r\n\t\tappId: \"1:1018469539659:web:102ea6f8c5cf39dda9d2ce\",\r\n\t\tmeasurementId: \"G-4RN59HCLKD\"\r\n\t};\r\n  // Firebase 8.3.2 package\r\n\tconst arhamFireBase = firebase.initializeApp(arhamFireBaseconfig);\r\n  //console.log(arhamFireBase);\r\n  //const arhamFireMsg = messaging.getMessaging(arhamFireBase);\r\n  //console.log(arhamFireMsg);\r\n    /*\r\n\tconst messaging = fireAPL.messaging();\r\n\t  // get the FIREBASE token and save it. We will send it to server in Home page\r\n    messaging.requestPermission().then(()=>{\r\n      return messaging.getToken()\r\n    }).then(token=> {\r\n      console.log('Token : ',token);\r\n\t\t\tsessionStorage.setItem(\"token\", token);\r\n\t\t\tconsole.log(\"Done\");\r\n    }).catch((err)=>{\r\n      console.log(err); \r\n\t  })\r\n*/\r\n}\r\n\r\n\r\n  return (\r\n    <Router history={hist}> \r\n    <UserContext.Provider value={value}>\r\n    {/* <Route path=\"/apl/walletdetails\" component={Dummy} /> */}\r\n    {/* <Route path=\"/apl/walletadd\" component={Dummy} /> */}\r\n    </UserContext.Provider>\r\n    <DispayTabs />\r\n    </Router>\r\n  );\r\n\r\n}\r\n\r\nexport default AppRouter;\r\n","/*!\r\n\r\n=========================================================\r\n* Material Dashboard React - v1.9.0\r\n=========================================================\r\n\r\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\r\n* Copyright 2020 Creative Tim (https://www.creative-tim.com)\r\n* Licensed under MIT (https://github.com/creativetimofficial/material-dashboard-react/blob/master/LICENSE.md)\r\n\r\n* Coded by Creative Tim\r\n\r\n=========================================================\r\n\r\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n\r\n*/\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n","import React from 'react';\r\n\r\nexport const NOFRACTION = 'Fraction not allowed';\r\n\r\nexport const ALLSELECTIONS = [\"All\", \"Enabled\", \"Disabled\" ];\r\n\r\n\r\nexport const BLANKCHAR = \"-\";\r\n\r\nexport const TOAST_TIMEOUT = 2000;\t\t// Messages to be displayed for 2 second\r\n\r\nexport const dialogOptions={\r\n  title: 'Title',\r\n  message: 'Message',\r\n  buttons: [\r\n    {label: 'Yes', onClick: () => alert('Click Yes')},\r\n    {label: 'No',  onClick: () => alert('Click No')}\r\n  ],\r\n  childrenElement: () => <div />,\r\n  //customUI: ({ onClose }) => <div>Custom UI</div>,\r\n  closeOnEscape: false,\r\n  closeOnClickOutside: false,\r\n  willUnmount: () => {},\r\n  afterClose: () => {},\r\n  onClickOutside: () => {},\r\n  onKeypressEscape: () => {},\r\n  overlayClassName: \"overlay-custom-class-name\"\r\n};\r\n\r\n\r\n/// Constants\r\nexport const ROLE_FACULTY = \"Faculty\";\r\nexport const ROLE_STUDENT = \"Student\";\r\nexport const ROLE_MANAGER = \"Manager\";\r\nexport const ROLE_ADMIN   = \"Admin\";\r\nexport const ROLE_MANAGERFACULTYSTUDENT = [ \"Manager\", \"Faculty\", \"Student\"];\r\n\r\nexport const FILTER_NONE = \"No filter applied\";\r\n\r\nexport const GENDER = [\"Male\", \"Female\", \"Other\"];\r\n\r\nexport const WEEKSTR = [\"Dummy\", \"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n\r\n\r\nexport const MONTHSTR = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n\t\t\t\t\t\t\t\"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\t\r\nexport const SHORTMONTHSTR = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oc\", \"Nov\", \"Dec\"];\t\r\n\r\nexport const SESSIONHOURSTR = [\r\n\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\"\r\n];\r\n\r\nexport const MINUTESTR = [\r\n\"00\", \"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\",\r\n\"10\", \"11\", \"12\", \"13\", \"14\", \"15\", \"16\", \"17\", \"18\", \"19\",\r\n\"20\", \"21\", \"22\", \"23\", \"24\", \"25\", \"26\", \"27\", \"28\", \"29\", \r\n\"30\", \"31\", \"32\", \"33\", \"34\", \"35\", \"36\", \"37\", \"38\", \"39\", \r\n\"40\", \"41\", \"42\", \"43\", \"44\", \"45\", \"46\", \"47\", \"48\", \"49\", \r\n\"50\", \"51\", \"52\", \"53\", \"54\", \"55\", \"56\", \"57\", \"58\", \"59\"\r\n];\r\n\r\nexport const MINUTEBLOCK=[0, 30];\r\nexport const MINUTEBLOCKSTR=[\"00\", \"30\"];\r\nexport const HOURBLOCKSTR = [\r\n\"09\", \"10\", \"11\", \"12\", \"13\", \"14\", \"15\", \"16\", \"17\", \"18\", \"19\", \"20\"\r\n];\r\nexport const SHORTWEEKSTR = [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"];\r\n\r\n\r\nexport const DATESTR = [\r\n\"00\",\r\n\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\",\r\n\"11\", \"12\", \"13\", \"14\", \"15\", \"16\", \"17\", \"18\", \"19\", \"20\",\r\n\"21\", \"22\", \"23\", \"24\", \"25\", \"26\", \"27\", \"28\", \"29\", \"30\",\r\n\"31\"\t\t\t\t\t\t\t\r\n];\r\n\r\n//in date function 0 represents JAN I.e. month number 1\r\nexport const MONTHNUMBERSTR = [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\"]\r\n\r\nexport const PAYMENTMODE = [\"Online\", \"Cash\", \"NetBanking\", \"Cheque\"];\r\n\r\nexport const PAYMENTSTATUS = [\"Received\", \"Pending\" ];\r\n\r\nexport const INQUIRYSTATUS = [\"Inquiry\", \"Demo\", \"Confirmed\", \"Cancel\" ];\r\n\r\nexport const FREESTR = \"\";\r\n\r\nexport const DURATIONSTR = [\r\n{name: \"00:30\", hour: 0, min: 30, block: 1},\r\n{name: \"01:00\", hour: 1, min: 0,  block: 2},\r\n{name: \"01:30\", hour: 1, min: 30, block: 3},\r\n{name: \"02:00\", hour: 2, min: 0,  block: 4},\r\n{name: \"02:30\", hour: 2, min: 30, block: 5},\r\n{name: \"03:00\", hour: 3, min: 0,  block: 6},\r\n{name: \"03:30\", hour: 4, min: 30, block: 7},\r\n{name: \"04:00\", hour: 5, min: 0,  block: 8},\r\n{name: \"04:30\", hour: 4, min: 30, block: 9},\r\n{name: \"05:00\", hour: 0, min: 0,  block: 10}\r\n];\r\n\r\nexport const BATCHTIMESTR = [\r\n{name: \"09:00 AM\", hour: 9, min: 0,  block: 18\t},\r\n{name: \"09:30 AM\", hour: 9, min: 30,  block: 19\t},\r\n{name: \"10:00 AM\", hour: 10, min: 0,  block: 20\t},\r\n{name: \"10:30 AM\", hour: 10, min: 30,  block: 21\t},\r\n{name: \"11:00 AM\", hour: 11, min: 0,  block: 22\t},\r\n{name: \"11:30 AM\", hour: 11, min: 30,  block: 23\t},\r\n{name: \"12:00 PM\", hour: 12, min: 0,  block: 24\t},\r\n{name: \"12:30 PM\", hour: 12, min: 30,  block: 25\t},\r\n{name: \"01:00 PM\", hour: 13, min: 0,  block: 26\t},\r\n{name: \"01:30 PM\", hour: 13, min: 30,  block: 27\t},\r\n{name: \"02:00 PM\", hour: 14, min: 0,  block: 28\t},\r\n{name: \"02:30 PM\", hour: 14, min: 30,  block: 29\t},\r\n{name: \"03:00 PM\", hour: 15, min: 0,  block: 30\t},\r\n{name: \"03:30 PM\", hour: 15, min: 30,  block: 31\t},\r\n{name: \"04:00 PM\", hour: 16, min: 0,  block: 32\t},\r\n{name: \"04:30 PM\", hour: 16, min: 30,  block: 33\t},\r\n{name: \"05:00 PM\", hour: 17, min: 0,  block: 34\t},\r\n{name: \"05:30 PM\", hour: 17, min: 30,  block: 35\t},\r\n{name: \"06:00 PM\", hour: 18, min: 0,  block: 36\t},\r\n{name: \"06:30 PM\", hour: 18, min: 30,  block: 37\t},\r\n{name: \"07:00 PM\", hour: 19, min: 0,  block: 38\t},\r\n{name: \"07:30 PM\", hour: 19, min: 30,  block: 39\t},\r\n{name: \"08:00 PM\", hour: 20, min: 0,  block: 40\t},\r\n{name: \"08:30 PM\", hour: 20, min: 30,  block: 41\t}\r\n];\r\n\r\nexport const BLOCK_START = 18;\r\nexport const BLOCK_END = 41;\r\n\r\nexport const MAXDISPLAYTEXTROWS = 6;\r\n\r\nexport const MAXSTRINGLEN = 40;\r\n\r\nexport const STATUS_INFO = \r\n{\r\nERROR: -2,\r\nFAILURE: -2,\r\nCANCEL: -1,\r\nOKAY: 1,\r\nSUCCESS: 1,\r\nADD_BATCH: 2,\r\nEDIT_BATCH: 3,\r\nADD_SESSION: 4,\r\nEDIT_SESSION: 5,\r\nFACULTYSCHEDULE: 6,\r\n\r\n};\r\n\r\nexport const DUES_MF = -1;\t\t\t// for ankit\r\n"],"sourceRoot":""}